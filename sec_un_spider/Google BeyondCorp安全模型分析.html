<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport" content="width=device-width , initial-scale=1.0 , user-scalable=0 , minimum-scale=1.0 , maximum-scale=1.0" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Google BeyondCorp安全模型分析 | Sec-UN 安全圈</title>
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="pingback" href="https://www.sec-un.org/xmlrpc.php" />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Sec-UN 安全圈 &raquo; Feed" href="https://www.sec-un.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sec-UN 安全圈 &raquo; 评论Feed" href="https://www.sec-un.org/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.sec-un.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=d2207c9bc2f8d7af72d793379f207c99"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b===c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='jQuery_notice-css'  href='https://www.sec-un.org/wp-content/plugins/cubepoints/modules/notice/jquery.notice.css?ver=d2207c9bc2f8d7af72d793379f207c99' type='text/css' media='all' />
<link rel='stylesheet' id='cptch_stylesheet-css'  href='https://www.sec-un.org/wp-content/plugins/captcha/css/front_end_style.css?ver=4.3.5' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='https://www.sec-un.org/wp-includes/css/dashicons.min.css?ver=d2207c9bc2f8d7af72d793379f207c99' type='text/css' media='all' />
<link rel='stylesheet' id='cptch_desktop_style-css'  href='https://www.sec-un.org/wp-content/plugins/captcha/css/desktop_style.css?ver=4.3.5' type='text/css' media='all' />
<script type='text/javascript' src='https://www.sec-un.org/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://www.sec-un.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://www.sec-un.org/wp-content/plugins/cubepoints/modules/notice/jquery.notice.js?ver=1.0.1'></script>
<link rel='prev' title='重新审视美国爱因斯坦计划(2016)' href='https://www.sec-un.org/reviewing-united-states-einstein-plans-2016/' />
<link rel='next' title='威胁捕捉：推出针对webshell的“一手”情报feed' href='https://www.sec-un.org/threat-of-capture-launch-webshell-first-hand-information-feed/' />
<link rel="canonical" href="https://www.sec-un.org/google-beyondcorp-security-model-analysis/" />
<script type="text/javascript">
(function(url){
	if(/(?:Chrome\/26\.0\.1410\.63 Safari\/537\.31|WordfenceTestMonBot)/.test(navigator.userAgent)){ return; }
	var addEvent = function(evt, handler) {
		if (window.addEventListener) {
			document.addEventListener(evt, handler, false);
		} else if (window.attachEvent) {
			document.attachEvent('on' + evt, handler);
		}
	};
	var removeEvent = function(evt, handler) {
		if (window.removeEventListener) {
			document.removeEventListener(evt, handler, false);
		} else if (window.detachEvent) {
			document.detachEvent('on' + evt, handler);
		}
	};
	var evts = 'contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop keydown keypress keyup mousedown mousemove mouseout mouseover mouseup mousewheel scroll'.split(' ');
	var logHuman = function() {
		var wfscr = document.createElement('script');
		wfscr.type = 'text/javascript';
		wfscr.async = true;
		wfscr.src = url + '&r=' + Math.random();
		(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(wfscr);
		for (var i = 0; i < evts.length; i++) {
			removeEvent(evts[i], logHuman);
		}
	};
	for (var i = 0; i < evts.length; i++) {
		addEvent(evts[i], logHuman);
	}
})('//www.sec-un.org/?wordfence_logHuman=1&hid=AA4C0D0A2EA89D41535D6EF5AD84AF23');
</script><meta name="description" content="一. 背景介绍 Google在2014年之前就预测到互联网和内网的安全性是一样危险的，因为 * 一旦内网边界被突破的话，攻击者就很容易的访问企业的一些内部应用，由于安全意识的问题导致企业会认为我的内部很安全，我就对内部的应用进行低优先级别的处理，导致大量内部的安全问题存在。 * 现在的企业越来越多的应用移动和云技术，导致边界保护越来越难。所以Google干脆一视同仁，不分内外部，用一样的安全手段去防御。  二. 详细技术分析(2014年">
<script type="text/javascript">(function(){mod_txt = '#'; adminBar = "" || 0})();</script>
<script type="text/javascript" src="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/frontopen.js?ver=1.5.04.15"></script>
<script type="text/javascript" src="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/include/lightbox-2.6.min.js"></script>
<link href="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/lightbox.css" rel="stylesheet" type="text/css" />

<link rel="stylesheet" type="text/css" media="all" href="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/style.css?ver=1.5.04.15" />
<link rel="stylesheet" type="text/css" media="all" href="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/mobile.css?ver=1.5.04.15" />
<style type="text/css">@media screen and (min-width:1366px){.c-con{height:140px;}}
a:hover , .header .logo i , .tit .h1 a , .tit .iititle2 span a:hover , .entry-content a , .entry-title , .mbx a:hover , .commentlist .comment-body a , .top_post .ulist a:hover , .gonggao a , .loc_link a , .tit .iititle a:hover{color:#000000}.nav .tig .rrs , #wp-calendar td a:hover , .jz_bt , .loading , .subbtn .btn , .post_pic_box:hover , .title_hot , .top_bar , .car-toggler , .but_down a , .page-link a span , .page-link .t_s_s , .page_num a , .nav-next a{background:#000000;}.j_zeng , .jz_bt:hover , .f_links li{border-color:#000000}.navcon ul li a:hover, .navcurrent{color:#4EA4EF;}</style>

<!--[if lt IE 9]><script src="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/html5.js"></script><![endif]-->
<link rel="stylesheet" href="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/css/font-awesome.min.css?ver=1.5.04.15">
<!--[if IE 7]>
<link rel="stylesheet" href="https://www.sec-un.org/wp-content/themes/frontopen2_v1.5.04.15/css/font-awesome-ie7.min.css?ver=1.5.04.15">
<![endif]-->
</head>

<body class="post-template-default single single-post postid-4281 single-format-standard">
<div class="loading"></div>
<div class="web_bod">
<header class="header marauto">
    <span class="logo">
        <a href="https://www.sec-un.org/" title="Sec-UN 安全圈" rel="home"><img src="https://www.sec-un.org/wp-content/uploads/2014/09/logo2x-300x74.png" alt="Sec-UN 安全圈" /></a>
        <i></i>
    </span>
    <form role="search" method="get" id="searchform" action="https://www.sec-un.org/">
      <span class="search">
        <input name="s" id="s" type="text"  class="input" value="" onclick="this.value = '';" style="color:#999" onkeypress="javascript:if(event.keyCode == 13){query(this.value);}" x-webkit-speech=""/>
        <button id="searchsubmit" class="btn">搜索</button>
      </span>
    </form>
    <div class="cls"></div>
</header>


<nav class="navcon marauto">
  <div id="mobile_nav_btn">网站导航</div>
  <div class="menu-header"><ul id="menu-%e5%af%bc%e8%88%aa" class="menu"><li id="menu-item-18" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-18"><a href="http://www.sec-un.org">首页</a></li>
<li id="menu-item-23" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-23"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e8%b5%84%e8%ae%af/">安全资讯</a></li>
<li id="menu-item-19" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-19"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e6%b2%bb%e7%90%86/">安全治理</a></li>
<li id="menu-item-20" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-20"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e6%96%b9%e6%a1%88/">安全方案</a></li>
<li id="menu-item-21" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-21"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e6%8a%80%e6%9c%af/">安全技术</a></li>
<li id="menu-item-22" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-22"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e4%ba%ba%e6%89%8d/">安全人才</a></li>
<li id="menu-item-27" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-27"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e4%bb%bb%e5%8a%a1/">安全任务</a></li>
<li id="menu-item-1027" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1027"><a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5/">安全威胁情报</a></li>
<li id="menu-item-1764" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1764"><a href="https://www.sec-un.org/category/%e4%bf%a1%e6%81%af%e9%80%9f%e9%80%92/">信息速递</a></li>
<li id="menu-item-77" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-77"><a href="http://www.sec-un.org/wp-admin/post-new.php">我要投稿</a></li>
<li id="menu-item-75" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-75"><a href="https://www.sec-un.org/category/%e7%bd%91%e7%ab%99%e5%85%ac%e5%91%8a/">网站公告</a></li>
</ul></div>  
  </nav>   
  <section class="conter marauto"><script type="text/javascript">loading('33%',1000)</script>
  <div id="container">
      <div id="content" role="main" style="width:96%">
      <div class="mbx"><i class="icon-home icon-large" style="font-size:14px;"></i>
<a href="https://www.sec-un.org"  class="gray">首页</a>  >  <a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e6%8a%80%e6%9c%af/">安全技术</a>  >  Google BeyondCorp安全模型分析</div>

				<div id="post-4281" class="post-4281 post type-post status-publish format-standard hentry category-8">
                <div class="c-top2" id="post-55">
                <div class="datetime">2016<br />05-13</div>
					<header class="tit"><h1 class="entry-title">Google BeyondCorp安全模型分析</h1>
					<aside class="entry-meta iititle2">
                        <span><i class="icon-user icon-large"></i> <a href="https://www.sec-un.org/author/threatactor/" title="由ThreatActor发布" rel="author">ThreatActor</a></span><span><i class="icon-folder-open icon-large"></i> <a href="https://www.sec-un.org/category/%e5%ae%89%e5%85%a8%e6%8a%80%e6%9c%af/" rel="category tag">安全技术</a></span><span><i class="icon-eye-open icon-large"></i> 围观<i id="number">1119</i><script type="text/javascript">jQuery(function($){$.get("https://www.sec-un.org/fo_ajax?ajax=getPostViews&postID=4281",function(data){if(data.length < 10)$('#number').text(data)});})</script>次</span><span><i class="icon-comment-alt icon-large"></i> <span><span class="screen-reader-text">Google BeyondCorp安全模型分析</span>已关闭评论</span></span><span><i class="icon-pencil icon-large"></i> 编辑日期：<time>2016-05-13</time></span><span><i class="icon-zoom-in icon-large"></i> 字体：<a href="javascript:;" onclick="checkFontSize(18)">大</a> <a href="javascript:;" onclick="checkFontSize(16)">中</a> <a href="javascript:;" onclick="checkFontSize(14)">小</a></span>					</aside>
                    </header>
                    <div class="cls"></div>
		    </div>
                    <!-- .entry-meta -->

					<article class="entry-content">
                    
						<p>一. 背景介绍<br />
Google在2014年之前就预测到互联网和内网的安全性是一样危险的，因为<br />
* 一旦内网边界被突破的话，攻击者就很容易的访问企业的一些内部应用，由于安全意识的问题导致企业会认为我的内部很安全，我就对内部的应用进行低优先级别的处理，导致大量内部的安全问题存在。<br />
* 现在的企业越来越多的应用移动和云技术，导致边界保护越来越难。所以Google干脆一视同仁，不分内外部，用一样的安全手段去防御。</p>
<p>二. 详细技术分析(2014年的规划)<br />
Google在2014年写了一篇文章，专门介绍BeyondCorp安全模型的设计思路。<br />
## 1. BeyondCorp的设计思路<br />
BeyondCorp是由许多相配合的组件构成，以确保只能经过身份验证的设备，并且用户是被授权的情况下才能适当的访问所需要的企业应用程序。它的安全架构图如下:<br />
<a href="http://www.sec-un.org/wp-content/uploads/2016/05/18315ed572cddb6c152428e48d0455e534955d1c.png" data-lightbox="image_lg"><img title="Google BeyondCorp安全模型分析 - 第1张  | Sec-UN 安全圈" alt="Google BeyondCorp安全模型分析 - 第1张  | Sec-UN 安全圈"   data-src="http://www.sec-un.org/wp-content/uploads/2016/05/18315ed572cddb6c152428e48d0455e534955d1c-300x119.png" width="300" height="119" class="alignnone size-medium wp-image-4282" srcset="https://www.sec-un.org/wp-content/uploads/2016/05/18315ed572cddb6c152428e48d0455e534955d1c-300x119.png 300w, https://www.sec-un.org/wp-content/uploads/2016/05/18315ed572cddb6c152428e48d0455e534955d1c-768x305.png 768w, https://www.sec-un.org/wp-content/uploads/2016/05/18315ed572cddb6c152428e48d0455e534955d1c-1024x407.png 1024w, https://www.sec-un.org/wp-content/uploads/2016/05/18315ed572cddb6c152428e48d0455e534955d1c.png 1430w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
下面详细介绍一下他们的组件:</p>
<p>1. 标识安全设备<br />
设备清单数据库<br />
      BeyondCorp使用的是被管理的设备模式，也就是说设备会由企业获得并且主动管理。说白了就是只有管理设备才可以访问企业应用。一个设备的跟踪和获得存储在设备清单数据库中是这个模型的一个基石。设备必须有生命周期的管理，Google跟踪对所有设备所做的更改，信息会被监控、分析并且提供给BeyondCorp的其他组成部分。Google拥有多个设备库存的数据库，meta库存数据库主要是合并和规范设备信息，保持多个源是一致的，并且把这些信息提供给BeyondCorp的下游组件，拥有了这个Meta库存数据库的话，我们就知道搜有设备需要访问我们的企业的所有信息。<br />
设备标识<br />
      所有被管理的设备必须在设备清单数据库中拥有唯一的标识。要做到唯一标识这一点的方法就是给每台设备使用特定的设备证书。要获得证书，设备必须同时存在并且在设备清单数据库中是正确的。证书存储在硬件或者软件的可信平台模块(TPM)或者证书存储区中。一个设备需要在证书存储区去验证有效性，只有一个设备被认为足够安全才可以归类为被管理的设备。证书定期更新检查会被强制执行。这个证书一旦安装了就会在企业中所有的服务中使用，作为合法通讯的依据。</p>
<p>2. 标识安全用户<br />
用户和组数据库</p>
<p>       BeyondCorp也在用户数据库和组数据库中跟踪和管理所有的用户。并且这个数据库和Google的人力资源流程进行紧密相互集成。如果用户进入公司后，改变角色和责任或者离开公司，数据库都会更新这些记录。BeyondCorp只允许用户访问所有合适的信息。<br />
单点登录(SSO)<br />
       SSO系统是一个集中化的用户认证Portal，主要是验证用户请求访问企业资源的时候进行双因素(2FA)验证。同时这个用户在通过用户数据库和组数据库的验证后，SSO会产生一个短暂的令牌去授权访问特定的资源。</p>
<p>3. 网络可信<br />
无特权网络部署</p>
<p>        BeyondCorp定义和部署了一个非常类似一个非特权网络的外部网络，等同于本地和远程都可以访问。无特权网络只连接到Internet上，使用有限的基础设备服务(例DNS,DHCP和NTP)以及类似Puppet管理配置系统。所有客户端只允许访问这个指定的位于Google大楼的网络中。并且这个非特权网络和其他Google的网络有严格的网络的ACL限制。<br />
802.1x来认证有线和无线的网络访问</p>
<p>        有线和无线的接入，Google使用的是基于802.1x的Radius服务器来做认证，并且分配到合适的网络的。使用动态Vlan分配方式而不是静态分配。这种方法意味着，使用Radius服务器来开启VLAN分配的开关来验证设备，而不是依赖交换机/端口的静态配置。被管理的设备提供证书来作为802.1x捂手的一部分。而无法识别或者未被管理的设备被分配到一个补救和客户网络。</p>
<p>4. 外部化应用程序和工作流<br />
面向Internet的访问代理服务器</p>
<p>       所有Google企业暴露在外部和通过面向互联网访问代理服务器的内部客户端必须强制使用加密措施。另外可以在面向互联网的代理服务器上设置WAF来保证基础的应用类安全，来防御恶意公司。同时访问代理还应该具备全球可达性、负载均衡、访问控制检查、应用健康检查和拒绝服务类攻击。通过了代理服务器的访问控制检查后才可以把这个请求转发到后端。<br />
公共DNS条目</p>
<p>      所有的暴露在外部的Google企业应用程序使用的CNAME和公共DNS全部指向面向Internet的访问代理服务器。</p>
<p>5. 实现访问控制<br />
可信的访问控制</p>
<p>       可以访问Google企业应用的单个用户或者单个设备可能会随着时间而改变。通过查询多个数据库，Google可以推断出信任的级别分配和设备和用户。例如，未更新最新的OS补丁的设备会导致信任级别的下降。另外手机和平台或者端脑的具体型号也会被分配一个特定的信任级别。用户从一个新的设备来访问的时候回导致分配另外一个可信的级别。Google采用静态的规则和启发式来进行这些信任级别的确认。<br />
访问控制引擎</p>
<p>     在访问代理服务器作为每一个请求的基础需要提供服务级别的授权操作。访问控制引擎还可以基于位置的访问控制，访问控制引擎可以设置强制访问位置的策略。同时还可以设置访问Google的bug跟踪系统只允许使用工程师设备的全职工程师。访问财务的系统可以设置成是财务组的全职人员，并且这个人员是非工程师的设备。访问控制引擎还可以使用不同的方式来限制可以访问应用的限制。例如你只能访问Bug跟踪系统的条目或者对更新或者搜索做不太严格的访问控制。<br />
访问控制流水线</p>
<p>      访问控制引擎可以对客户端提取有用的信息。这些信息包括证书白名单，可信用户和设备的信任级别以及设备和用户的相关信息。</p>
<p>6. End-End例子<br />
应用</p>
<p>      对于这个例子来说，我们假设这个应用要采取BeyondCorp安全模式。仅限于管理设备中的全职和兼职的工程师去访问代码review.corp.google.com应用，只允许进行任何源代码、代码注释、代码更新、提交代码的权限。</p>
<p>配置面向Internet的代理服务器</p>
<p>      codereview.corp.google.com的owner要为这个域名配置访问代理。codereview.corp.google.com指向注册到公共DNS的一个CNAME的指向到访问代理例如：<br />
<code><br />
$ dig @8.8.8.8 codereview.corp.google.com<br />
; &lt;&gt; DiG 9.8.1-P1 &lt;&gt; @8.8.8.8 codereview.corp.google.com<br />
; (1 server found)<br />
;; global options: +cmd<br />
;; Got answer:<br />
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 12976<br />
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0,<br />
ADDITIONAL: 0<br />
;; QUESTION SECTION:<br />
;codereview.corp.google.com. IN A<br />
;; ANSWER SECTION:<br />
codereview.corp.google.com. 21599 IN CNAME<br />
accessproxy.l.google.com.<br />
accessproxy.l.google.com. 299 IN A 74.125.136.129<br />
;; Query time: 10 msec<br />
;; SERVER: 8.8.8.8#53(8.8.8.8)<br />
;; WHEN: Wed Aug 20 19:30:06 2014<br />
;; MSG SIZE rcvd: 86<br />
</code><br />
配置访问控制引擎</p>
<p>     访问控制引擎提供被管理设备的全职员工的默认规则的访问限制。codereview.corp.google.com的owner提供两种特定的规则:<br />
     a) 被管理设备拥有最高的信任级别<br />
     b) 全职和键值工程师的最高信任级别</p>
<p>工程师访问网络<br />
      访问者的网络位于企业物理建筑之外：Google提供的笔记本员工可以从任何网络访问。例如机场的wifi网络、咖啡厅的WiFi都是允许的。这里没有要求进行建设VPN的连接到企业内部网络。<br />
      访问者的网络位于企业无力之内: Google提供笔记本或台式机访问企业网络。笔记本电脑提供设备证书作为802.1x的握手协议。由于提供了一个有效的证书，笔记本电脑会在无特权网络中配置一个地址。如果该设备不是公司发行的笔记本网络，或者它的证书已经过期，设备会被分配一个非常有限的访问控制权限的网络。</p>
<p>不分网络的访问应用</p>
<p>工程师访问codereview.corp.google.com要经过如下的步骤:<br />
a) 请求被重定向到访问代理，笔记本电脑需要提供它的设备证书；<br />
b) 访问代理无法识别用户，进而重定向到了SSO系统；<br />
c) 工程师提供了2FA双因素的身份认证凭据，SSO通过验证过办法一个令牌，并重定向回访问代理；<br />
d) 访问代理目前用户标识用户的设备证书，设备标识，SSO令牌等信息；<br />
e) 在每次请求的时候检查访问review.corp.google.com的访问控制引擎的特权:<br />
用户被确认为工程师组里面；<br />
用户被确认用户足够的信任级别；<br />
被管理的设备被表示为常见设备；<br />
被管理的设备被确认为拥有足够权限级别的；<br />
如果这些检查通过，请求会发送到合适的后端服务上；<br />
如果检查失败，则拒绝这个请求。</p>
<p>7. 迁移到BeyondCorp<br />
<a href="http://www.sec-un.org/wp-content/uploads/2016/05/4ed01a41abdc396c617753858a77007990d3efc2.png" data-lightbox="image_lg"><img title="Google BeyondCorp安全模型分析 - 第2张  | Sec-UN 安全圈" alt="Google BeyondCorp安全模型分析 - 第2张  | Sec-UN 安全圈"   data-src="http://www.sec-un.org/wp-content/uploads/2016/05/4ed01a41abdc396c617753858a77007990d3efc2-300x201.png" width="300" height="201" class="alignnone size-medium wp-image-4283" srcset="https://www.sec-un.org/wp-content/uploads/2016/05/4ed01a41abdc396c617753858a77007990d3efc2-300x201.png 300w, https://www.sec-un.org/wp-content/uploads/2016/05/4ed01a41abdc396c617753858a77007990d3efc2-768x515.png 768w, https://www.sec-un.org/wp-content/uploads/2016/05/4ed01a41abdc396c617753858a77007990d3efc2-1024x687.png 1024w, https://www.sec-un.org/wp-content/uploads/2016/05/4ed01a41abdc396c617753858a77007990d3efc2.png 1106w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
就像世界上其他普通的公司一样，Google为客户和应用程序保持了多年的特权网络。这种模式会产生大量的安全问题。所以Google决定讲所有的组件全部迁移到BeyondCorp。为每一个网络用户和每个应用程序迁移到BeyondCorp环境都不是一搓而就的，而是经过了令人置信的冒险的，并且还会有也许连续性的风险。下面介绍已经完成的工作:<br />
工作流程确认<br />
      所有Google的应用全部迁移到访问代理上，所有的程序必须经过BeyondCorp的主动审查，从简单的方法例如支持HTTPS流量到复杂的SSO整合。每个应用程序都经过了如下的阶段:<br />
从特权网络和外部VPN可以访问；<br />
从特权网络和外部和非授权的网络通过access proxy访问。在这种情况下，我们需要拆分DNS,内部 DNS直接指向应用，外部访问指向访问代理；<br />
通过外部、特权网络和非特权网络通过访问代理访问</p>
<p>工作职能分析</p>
<p>     通过工作职能来进行工作流的确认，能够确认哪些用户优先迁移到组。因为Google选择了财务、销售、法务和工程师组作为试运行。<br />
削弱VPN的访问</p>
<p>    越来越多的应用程序变成经过访问代理来访问了，我们开始强制要求用户禁止使用VPN，我们采取了如下的技术措施:<br />
先明确有哪些访问VPN的用户；<br />
对于一个明确过了时间段限定外的用户进行监控，并且删除权限；<br />
对于使用VPN的用户的监控，如果他们的工作流可以通过访问代理访问了，我们强烈建议用户放弃使用<br />
的VPN访问权限</p>
<p>流量分析管道</p>
<p>     我们要把用户迁移到无特权网络中并且所有的工作流在这个区域是可用的。需要进行确认是否准确，所以Google建立一个流量分析的管道。使用NetFlow采集每一个数据。Google可以分析出来哪些设备通过了访问控制列表，哪些没有通过访问控制列表。未通过的设备是否可以访问工作流。<br />
非特权网络仿真模式</p>
<p>     为了确认流量分析管道有效性，Google抽样了交换机的数据，并且通过安装在Google网络中所有用户的设备进行流量监控模拟了非特权网络的行为。<br />
监控有两种模式:<br />
记录模式: 捕获不合法的流量，但仍然允许流量离开该设备<br />
强制模式: 捕获并丢弃不合格的流量</p>
<p>迁移策略<br />
    当流量分析和非特权仿真模拟执行之后，实施下面的分阶段迁移计划:<br />
确认候选人的地址、工作流或者工作职能；<br />
操作模拟器记录模式，识别用户并且在30天的时间确认有&gt;99.9%的有符合条件流量进入；<br />
激活仿真强制模式，确保所有的用户和设备符合&gt;99.99%的符合条件的流量，如果有需要，用户可以恢<br />
复到记录模式；<br />
成功的执行30天后，开启设备记录入库操作；<br />
开始对802.1x进行改造</p>
<p>异常处理</p>
<p>      除了从特权网络到非特权网络尽可能的自动化对用户和设备进行迁移。Google也设计了一个简单的过程可以申请临时不用这个迁移。Google维护了对没有实施工作流的列表。用户可以通过这些工作流进行搜索、进行正确的审批、标识用户和设备作为工作流的活动用户。当工作流合格后，对用户进行迁移通告。<br />
完成</p>
 
 										                        <div class="loc_link"><ul><li>本文固定链接: <a href="https://www.sec-un.org/google-beyondcorp-security-model-analysis/" rel="bookmark" title="Google BeyondCorp安全模型分析">https://www.sec-un.org/google-beyondcorp-security-model-analysis/</a></li>
                        <li>转载请注明: <a href="https://www.sec-un.org/author/threatactor/" title="由ThreatActor发布" rel="author">ThreatActor</a> <time>2016年05月13日 </time>于 <a href="https://www.sec-un.org/" title="访问Sec-UN 安全圈">Sec-UN 安全圈</a> 发表</li></ul>
                        </div>
                        						                        <div class="author_info">
                        	<div class="au_top_bar"><div class="edit_date">最后编辑：<time>2016-05-13</time></div><b>作者：ThreatActor</b></div>
                            <div class="avatar"><img alt='' src='https://secure.gravatar.com/avatar/0487eee5ec8dad1c1bc413b8a3e204c4?s=96&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/0487eee5ec8dad1c1bc413b8a3e204c4?s=192&amp;d=mm&amp;r=g 2x' class='avatar avatar-96 photo' height='96' width='96' /></div>
                            <div class="type_out"><span class="ttxx">这个作者貌似有点懒，什么都没有留下。</span><div class="au_links"><a href="https://www.sec-un.org?author=494" class="c1"><i class="icon-home"></i> 站内专栏</a></div></div>
                        <div class="cls"></div>
                        </div>
                        					</article>
                    
                    <!-- .entry-content -->

					<!-- .entry-utility -->
				</div><!-- #post-## -->
<div class="c-bot">
            <div class="cls"></div>
    </div>
    <br />
				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="https://www.sec-un.org/threat-of-capture-launch-webshell-first-hand-information-feed/" rel="next"><span class="meta-nav"><i class="icon-arrow-left"></i></span> 威胁捕捉：推出针对webshell的“一手”情报feed </a></div>
					<div class="nav-next"><a href="https://www.sec-un.org/reviewing-united-states-einstein-plans-2016/" rel="prev">重新审视美国爱因斯坦计划(2016)  <i class="icon-arrow-right"></i></a></div>
				</div><!-- #nav-below -->
<div class="cls"></div>
				                    <div class="ad_2">
						                    </div>
                                <div class="relatedposts">
<h3 class="widget-title"><i class="icon-warning-sign"></i> 您可能还会对这些文章感兴趣！</h3>
<ul>
		<li><a href="https://www.sec-un.org/discussion-of-code-security-audit-inspection-tool-to-do-b/" rel="bookmark" title="详细阅读 讨论代码安全审计（检测）工具该如何做（二）">讨论代码安全审计（检测）工具该如何做（二）</a></li>
		<li><a href="https://www.sec-un.org/nsa-technical-analysis-of-prism-router-backdoor/" rel="bookmark" title="详细阅读 NSA棱镜门路由器后门技术分析">NSA棱镜门路由器后门技术分析</a></li>
		<li><a href="https://www.sec-un.org/information-security-analysts-practice-analysis-of-the-splunk-platform-app-making-tutorial/" rel="bookmark" title="详细阅读 信息安全分析师实践：splunk平台分析app制作教程">信息安全分析师实践：splunk平台分析app制作教程</a></li>
		<li><a href="https://www.sec-un.org/topics-saas-security/" rel="bookmark" title="详细阅读 杂谈：SaaS + 安全">杂谈：SaaS + 安全</a></li>
		<li><a href="https://www.sec-un.org/those-who-have-the-holy-grail-of-second-rsac2016-essays/" rel="bookmark" title="详细阅读 那些曾经的圣杯  &#8211; RSAC2016随笔之二">那些曾经的圣杯  &#8211; RSAC2016随笔之二</a></li>
		<li><a href="https://www.sec-un.org/discussion-on-industrial-safety/" rel="bookmark" title="详细阅读 浅谈工控安全">浅谈工控安全</a></li>
		<li><a href="https://www.sec-un.org/webshell-security-testing-2-go-deep-inside-the-user/" rel="bookmark" title="详细阅读 Webshell安全检测篇（2）-深入用户的内心">Webshell安全检测篇（2）-深入用户的内心</a></li>
		<li><a href="https://www.sec-un.org/texting-trojans-tracking-and-analysis/" rel="bookmark" title="详细阅读 一次短信木马追踪与分析">一次短信木马追踪与分析</a></li>
	</ul>
<div class="cls"></div>
</div>

<div id="comments">
</div><!-- #comments -->
      </div><!-- #content -->
  </div><!-- #container -->
<script type="text/javascript">loading('55%',1000)</script>
    <aside id="primary" class="side" role="complementary">
        <ul class="xoxo">
<li id="frontloginblock-3" class="widget-container widget_login">	 <div class="front_login_box">
            	<div class="from_box">
      <form name="loginform" id="loginform" action="https://www.sec-un.org/wp-login.php" method="post">
            <p class="p1"><span><i class="icon-user icon-2x"></i></span><input onfocus="this.value = '';" name="log" id="user_login" type="text" class="user_name" value="User Name" /></p>
          <p class="p1" style="margin-bottom:30px;"><span><i class="icon-lock icon-2x"></i></span><input onfocus="this.value = '';this.type = 'password';" name="pwd" id="user_pass" type="text" class="password" value="Your Password" /></p>
          <p class="p2"><input name="提交" type="submit" class="submit_button" value="登 录" /></p>
          <p class="p3"><span style="float:right"><i class="icon-signin"></i> <a href="https://www.sec-un.org/wp-login.php?action=register">注册</a></span><span class="keep_me"><label style="display:none;" for="rememberme"><input name="rememberme" type="checkbox" id="rememberme" value="forever"></label><i class="icon-check-empty"></i> 记住我的登录信息</span></p>
          <input type="hidden" name="redirect_to" value="https://www.sec-un.org/google-beyondcorp-security-model-analysis/">
          </form>
        </div>
        <script type="text/javascript">
		jQuery(function($){
			$('.keep_me').click(function(){
				var nowSet = $(this).find('i').attr('class');
				if(nowSet == "icon-check-empty"){
					$(this).find('i').attr('class','icon-check');
					$(this).find('#rememberme').attr('checked','')
				}else{
					$(this).find('i').attr('class','icon-check-empty');
					$(this).find('#rememberme').removeAttr('checked')
				}
			})
		});
        </script>
            </div>
     </li><li id="cp_pointswidget-3" class="widget-container widget_cp_pointswidget"><h3 class="widget-title">我的积分</h3>				<ul>
						<li>您需要先登录才能查看您的积分。.</li>
										</ul>
			</li><li id="cp_topuserswidget-5" class="widget-container widget_cp_topuserswidget"><h3 class="widget-title">Rank排行榜</h3><ul><li class="cp_topUsersWidget top_1" style="list-style:none;">迷路的指南针 (Rank1145)</li><li class="cp_topUsersWidget top_2" style="list-style:none;">DJ (Rank841)</li><li class="cp_topUsersWidget top_3" style="list-style:none;">NUKE (Rank814)</li><li class="cp_topUsersWidget top_4" style="list-style:none;">孙维 (Rank485)</li><li class="cp_topUsersWidget top_5" style="list-style:none;">consen (Rank415)</li><li class="cp_topUsersWidget top_6" style="list-style:none;">crackershi (Rank280)</li><li class="cp_topUsersWidget top_7" style="list-style:none;">lzy (Rank276)</li><li class="cp_topUsersWidget top_8" style="list-style:none;">ThreatActor (Rank265)</li><li class="cp_topUsersWidget top_9" style="list-style:none;">archer (Rank255)</li><li class="cp_topUsersWidget top_10" style="list-style:none;">驭龙 (Rank240)</li><li class="cp_topUsersWidget top_11" style="list-style:none;">zhuyue (Rank235)</li><li class="cp_topUsersWidget top_12" style="list-style:none;">辛巴达(Sinbad) (Rank225)</li><li class="cp_topUsersWidget top_13" style="list-style:none;">SHIELD (Rank215)</li><li class="cp_topUsersWidget top_14" style="list-style:none;">zsfnotes (Rank213)</li><li class="cp_topUsersWidget top_15" style="list-style:none;">Bruce_Zhang (Rank185)</li><li class="cp_topUsersWidget top_16" style="list-style:none;">Anonymous (Rank170)</li><li class="cp_topUsersWidget top_17" style="list-style:none;">Piz0n (Rank165)</li><li class="cp_topUsersWidget top_18" style="list-style:none;">coolweis (Rank155)</li><li class="cp_topUsersWidget top_19" style="list-style:none;">bennyye (Rank150)</li><li class="cp_topUsersWidget top_20" style="list-style:none;">linzhi (Rank145)</li><li class="cp_topUsersWidget top_21" style="list-style:none;">kris (Rank125)</li><li class="cp_topUsersWidget top_22" style="list-style:none;">清风作伴明月为邻 (Rank125)</li><li class="cp_topUsersWidget top_23" style="list-style:none;">chenji123456 (Rank85)</li><li class="cp_topUsersWidget top_24" style="list-style:none;">rapido (Rank80)</li><li class="cp_topUsersWidget top_25" style="list-style:none;">heitian (Rank75)</li><li class="cp_topUsersWidget top_26" style="list-style:none;">ChrisChen世雄 (Rank75)</li><li class="cp_topUsersWidget top_27" style="list-style:none;">killer (Rank50)</li><li class="cp_topUsersWidget top_28" style="list-style:none;">mad (Rank50)</li><li class="cp_topUsersWidget top_29" style="list-style:none;">CoolICE (Rank50)</li><li class="cp_topUsersWidget top_30" style="list-style:none;">淡水鱼 (Rank50)</li></ul></li>        </ul>
    </aside><!-- #primary .widget-area -->

<script type="text/javascript">loading('78%',1000)</script>
<div class="cls"></div>
</section><!-- #main -->
<div class="cls"></div>
	<footer id="footer" role="contentinfo">
		<div id="colophon">

<div id="site-info">
<a href="javascript:void(0)" onClick="goRoll(0)" id="goTop">返回顶部</a> <a href="https://www.sec-un.org/sitemap.html">网站地图</a> &nbsp; <a href="http://www.miitbeian.gov.cn/" rel="external nofollow">京ICP备15036950号-1</a> <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?0ef96af0d6646bc4db46b410e4f2e212";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script> ©2017 Sec-UN All Rights Reserved | Theme <span id='official'>frontopen2</span></div>
		</div>	</footer></div><script type='text/javascript' src='https://www.sec-un.org/wp-includes/js/comment-reply.min.js?ver=d2207c9bc2f8d7af72d793379f207c99'></script>
<script type='text/javascript' src='https://www.sec-un.org/wp-includes/js/wp-embed.min.js?ver=d2207c9bc2f8d7af72d793379f207c99'></script>
<div id="float"><a id="float_gotop" class="floatbtn"  href="javascript:void()" onClick="goRoll(0)" title="返回顶部"></a><a class="linbak floatbtn" href="https://www.sec-un.org/wp-admin/" title="登陆&注册"></a><a id="float_goend" class="floatbtn" href="javascript:void()" onClick="goend()" title="转到底部"></a></div>
</body>
</html><script type="text/javascript">loading('100%',1000)</script>
