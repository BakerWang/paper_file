<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
    <title>Metasploit渗透测试实验报告 | MottoIN</title>
    <link rel='dns-prefetch' href='//www.mottoin.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="MottoIN &raquo; Metasploit渗透测试实验报告评论Feed" href="http://www.mottoin.com/86643.html/feed" />
<link rel='stylesheet' id='stylesheet-css'  href='http://www.mottoin.com/wp-content/themes/JustNews/css/style.css?ver=2.3.2' type='text/css' media='all' />
<link rel='stylesheet' id='wpcom-qa-css'  href='http://www.mottoin.com/wp-content/plugins/wpcom-qa/css/style.css?ver=1.0' type='text/css' media='all' />
<style id='wpcom-qa-inline-css' type='text/css'>

        .q-content .topic-tab,.q-content .q-answer .as-user,.q-content .q-answer .as-comment-name{color: #1471CA;}
        .q-content .q-topic-wrap a:hover,.q-content .q-answer .as-action a:hover,.q-content .topic-tab:hover{color:#0D62B3;}
        .q-content .put-top,.q-content .topic-tab.current-tab,.q-content .q-answer .as-submit .btn-submit,.q-content .q-answer .as-comments-submit,.q-content .q-add-header .btn-post,.q-content .q-pagination .current{background-color:#1471CA;}
        .q-content .q-answer .as-submit .btn-submit:hover,.q-content .q-answer .as-comments-submit:hover,.q-content .q-add-header .btn-post:hover,.q-content .topic-tab.current-tab:hover,.q-content .q-pagination a:hover{background-color:#0D62B3;}
        .q-content .q-answer .as-comments-input:focus{border-color: #1471CA;}
        
</style>
<link rel='stylesheet' id='um_minified-css'  href='http://www.mottoin.com/wp-content/plugins/ultimate-member/assets/css/um.min.css?ver=10.3.88' type='text/css' media='all' />
<script type='text/javascript' src='http://www.mottoin.com/wp-content/themes/JustNews/js/jquery.min.js?ver=1.12.4'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.mottoin.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.mottoin.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='安全数据可视化' href='http://www.mottoin.com/86634.html' />
<link rel='next' title='入侵检测系统如何降低误报率？' href='http://www.mottoin.com/86693.html' />
<link rel='shortlink' href='http://www.mottoin.com/?p=86643' />
<!--  WPCOM主题相关信息开始 -->
<meta name="applicable-device" content="pc,mobile">
<meta http-equiv="Cache-Control" content="no-transform">
<meta name="keywords" content="metasploit,信息收集,后门,实验,渗透,漏洞扫描">
<meta name="description" content="一、实验目的：1.了解Metasploit框架的概念、组成，掌握Metasploit框架的基本使用，能够利用Metasploit对已知漏洞进行渗透攻击；模拟灰盒测试对DVSSC（定V）公司的网络进行渗透，最终得到系统权限，并有效开展后渗透攻击。2.在渗透过程中逐渐掌握科学的渗透测试方法，即PTES标准渗透测试方法七个阶段：前期交互阶段（跳过）情报搜集阶段威胁建模阶段漏洞分析阶段渗透攻击阶段后渗透攻">
<!--  WPCOM主题相关信息结束 -->
 
		<script type="text/javascript">

		var ultimatemember_image_upload_url = 'http://www.mottoin.com/wp-content/plugins/ultimate-member/core/lib/upload/um-image-upload.php';
		var ultimatemember_file_upload_url = 'http://www.mottoin.com/wp-content/plugins/ultimate-member/core/lib/upload/um-file-upload.php';
		var ultimatemember_ajax_url = 'http://www.mottoin.com/wp-admin/admin-ajax.php';

		</script>

	
		<style type="text/css">.request_name { display: none !important; }</style>

	<link rel="icon" href="http://www.mottoin.com/wp-content/uploads/2016/12/cropped-Avatar-32x32.jpg" sizes="32x32" />
<link rel="icon" href="http://www.mottoin.com/wp-content/uploads/2016/12/cropped-Avatar-192x192.jpg" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="http://www.mottoin.com/wp-content/uploads/2016/12/cropped-Avatar-180x180.jpg" />
<meta name="msapplication-TileImage" content="http://www.mottoin.com/wp-content/uploads/2016/12/cropped-Avatar-270x270.jpg" />
    <style>
                a,.sec-panel-head span,.list.tabs .tab.active a,.header .nav>li.active>a,.header .dropdown-menu>.active>a,.entry .entry-info .nickname,.entry-bar-inner .author-title,.entry-action .btn-zan,.entry-action .btn-dashang,.comment-body .nickname,.form-submit-text span,.widget_profile .author-title,.um .um-profile-body .um-item-meta a,.login-modal-body .btn-register{color: #08c;}
        .header .dropdown-menu>li>a:hover,.header .dropdown-menu>.active>a:hover,.header .dropdown-menu>.active>a:focus,.navbar-action .publish,.pagination .current,.flex-control-paging li a.flex-active,.form-submit .submit,.sidebar .widget_nav_menu ul li.current-menu-item a,.sidebar .widget_nav_menu ul li.current-post-parent a,.search-form input.submit,.action .contact-title,.pf-submit,.tagHandler ul.tagHandlerContainer li.tagItem,.login-modal-body .btn-login,.woocommerce a.button,.woocommerce button.button,.woocommerce input.button,.woocommerce a.button.alt,.woocommerce button.button.alt,.woocommerce input.button.alt,.woocommerce a.button.alt.disabled,.woocommerce a.button.alt.disabled:hover,.woocommerce a.button.alt:disabled,.woocommerce a.button.alt:disabled:hover,.woocommerce a.button.alt:disabled[disabled],.woocommerce a.button.alt:disabled[disabled]:hover,.woocommerce button.button.alt.disabled,.woocommerce button.button.alt.disabled:hover,.woocommerce button.button.alt:disabled,.woocommerce button.button.alt:disabled:hover,.woocommerce button.button.alt:disabled[disabled],.woocommerce button.button.alt:disabled[disabled]:hover,.woocommerce input.button.alt.disabled,.woocommerce input.button.alt.disabled:hover,.woocommerce input.button.alt:disabled,.woocommerce input.button.alt:disabled:hover,.woocommerce input.button.alt:disabled[disabled],.woocommerce input.button.alt:disabled[disabled]:hover,.woocommerce .widget_price_filter .ui-slider .ui-slider-handle,.woocommerce .widget_price_filter .ui-slider .ui-slider-range,.shopping-count,.social-login-form .sl-input-submit{background-color: #08c;}
        .entry .entry-content h3,.entry .entry-content .h3,.widget-title{border-left-color: #08c;}
        .entry-bar-inner .author-title,.entry-action .btn-zan,.entry-action .btn-dashang,.search-form input.keyword:focus,.widget_profile .author-title,.login-modal-body .btn-login,.login-modal-body .btn-register{border-color: #08c;}
        .entry-bar-inner .author-title:before,.widget_profile .author-title:before{border-right-color: #08c;}
        .list.tabs .tab.active a{border-bottom-color: #08c;}

        a:hover,.header .nav>li>a:hover,.header .nav>li.active>a,.navbar-action .login:hover,.navbar-action .login:focus,.navbar-action .profile a:hover,.navbar-search-icon:hover,.navbar-search-icon:focus,.entry .entry-info a:hover,.entry .entry-info a:focus,.entry-bar .info-item a:hover,.p-item-wrap:hover .title a,.special-item-title a:hover,.special-item-bottom a:hover,.widget ul a:hover,.widget ol a:hover,.sec-panel-head .more:hover,.topic-list .topic-wrap:hover span,.tabs .tab a:hover,
        .article-list .item-title a:hover,.article-list .item-meta a:hover,.article-list .item-meta a:focus,.list-links a:hover,.list-links a:focus,.um .um-profile-body .um-item-meta a:hover,.um .um-profile-body .um-item-link a:hover,.load-more:hover,.login-modal-body .btn-register:hover{color: #07c;}
        .navbar-action .publish:hover,.navbar-action .publish:focus,.entry-tag a:hover,.entry-tag a:focus,.entry-action .btn-zan:hover,.entry-action .btn-dashang:hover,.entry-action .btn-zan.liked,.pagination a:hover,.flex-control-paging li a:hover,.form-submit .submit:hover,.widget .tagcloud a:hover,.sidebar .widget_nav_menu ul li.current-menu-item .sub-menu a:hover,.sidebar .widget_nav_menu ul li.current-post-parent .sub-menu a:hover,.sidebar .widget_nav_menu ul li a:hover,.search-form input.submit:hover,.action .a-box:hover,.footer-sns .fa:after,.article-list .item-category:hover,.pf-submit:hover,.tagHandler ul.tagHandlerContainer li.tagItem:hover,.login-modal-body .btn-login:hover,.woocommerce a.button:hover,.woocommerce button.button:hover,.woocommerce input.button:hover,.woocommerce a.button.alt:hover,.woocommerce button.button.alt:hover,.woocommerce input.button.alt:hover,.woocommerce .widget_price_filter .price_slider_wrapper .ui-widget-content,.social-login-form .sl-input-submit:hover{background-color: #07c;}
        .entry-tag a:hover,.entry-tag a:focus,.entry-action .btn-zan:hover,.entry-action .btn-dashang:hover,.entry-action .btn-zan.liked,.widget .tagcloud a:hover,.load-more:hover,.login-modal-body .btn-login:hover,.login-modal-body .btn-register:hover{border-color: #07c;}
        .special-item-bottom a:hover:before{border-left-color: #07c;}
        .list.tabs .tab.active a:hover{border-bottom-color: #07c;}
        @media (max-width: 991px){
            .header .navbar-nav>li.active>a,.header .navbar-nav .dropdown-menu .active a,.header .navbar-nav .dropdown-menu .active .dropdown-menu .active a{color: #08c;}
            .navbar-collapse{background-color: #08c;}
            .dropdown-menu>li a{border-color: #07c;}
            .header .navbar-nav>li.active>a:hover,.header .navbar-nav>li a:hover,.header .navbar-nav .dropdown-menu .active a:hover,.header .navbar-nav .dropdown-menu .active .dropdown-menu a:hover,.header .navbar-nav .dropdown-menu li a:hover{color: #07c;}
        }
        .j-share{position: fixed!important;top: 50%!important;}
                .header .logo img{max-height: 32px;}
                @media (max-width: 767px){
            .header .logo img{max-height: 26px;}
        }
                        .btn-post{
    display: block;
    margin: 0 auto;
    padding: 15px 20px;
    font-size: 16px;
    text-align: center;
    color: #fff !important;
    line-height: 1;
    background: #1471CA;
    -webkit-border-radius: 3px;
    border-radius: 3px;
    text-decoration: none;
    border: 0;
    outline: 0;
}    </style>
    <script> (function() {if (!/*@cc_on!@*/0) return;var e = "abbr, article, aside, audio, canvas, datalist, details, dialog, eventsource, figure, footer, header, hgroup, mark, menu, meter, nav, output, progress, section, time, video".split(', ');var i= e.length; while (i--){ document.createElement(e[i]) } })()</script>
    <!--[if lte IE 8]><script src="http://www.mottoin.com/wp-content/themes/JustNews/js/respond.min.js"></script><![endif]-->
</head>
<body class="post-template-default single single-post postid-86643 single-format-standard">
<header class="header">
    <div class="container clearfix">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar icon-bar-1"></span>
                <span class="icon-bar icon-bar-2"></span>
                <span class="icon-bar icon-bar-3"></span>
            </button>
            <a class="logo" href="http://www.mottoin.com"><img src="http://www.mottoin.com/img/mottoin/logo.png" alt="MottoIN"></a>
        </div>
        <div class="collapse navbar-collapse">
            <nav class="navbar-left primary-menu"><ul id="menu-%e5%af%bc%e8%88%aa" class="nav navbar-nav"><li class="menu-item menu-item-home"><a href="http://www.mottoin.com/">首页</a></li>
<li class="menu-item"><a href="http://www.mottoin.com/category/news">资讯</a></li>
<li class="menu-item current-post-ancestor dropdown"><a href="http://www.mottoin.com/category/article" class="dropdown-toggle">文章</a>
<ul role="menu" class=" dropdown-menu">
	<li class="menu-item current-post-ancestor current-menu-parent current-post-parent"><a href="http://www.mottoin.com/category/article/web">Web安全</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/system">系统安全</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/network">网络安全</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/terminal">终端安全</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/database">数据安全</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/wireless">无线安全</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/social">社会工程</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/intranet">内网渗透</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/code">代码审计</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/article/reverse">逆向破解</a></li>
</ul>
</li>
<li class="menu-item"><a href="http://www.mottoin.com/category/tools">工具</a></li>
<li class="menu-item"><a href="http://www.mottoin.com/category/geek">极客</a></li>
<li class="menu-item dropdown"><a href="http://www.mottoin.com/category/sole" class="dropdown-toggle">独家</a>
<ul role="menu" class=" dropdown-menu">
	<li class="menu-item"><a href="http://www.mottoin.com/category/sole/topic">专题</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/sole/people">人物</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/sole/view">观点</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/sole/events">活动</a></li>
	<li class="menu-item"><a href="http://www.mottoin.com/category/sole/video">视频</a></li>
</ul>
</li>
<li class="menu-item"><a href="http://www.mottoin.com/category/hr">招聘</a></li>
<li class="menu-item"><a href="http://www.mottoin.com/forum">社区</a></li>
</ul></nav>            <div class="navbar-action pull-right">

                                    <form class="navbar-search" action="http://www.mottoin.com" method="get" role="search">
                        <input type="text" name="s" class="navbar-search-input" autocomplete="off" placeholder="输入关键词搜索..." value="">
                        <a class="navbar-search-icon j-navbar-search" href="javascript:;"></a>
                    </form>

                    
                    <div id="j-user-wrap">
                        <a class="login" href="http://www.mottoin.com/login">登录</a>
                        <a class="login" href="http://www.mottoin.com/register">注册</a>
                    </div>
                    <a class="publish" href="http://www.mottoin.com/post">
                        投稿</a>
                                                </div>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container -->
</header>
<div id="wrap">    <div class="main container">
        <div class="content">
                            <article id="post-86643" class="post-86643 post type-post status-publish format-standard has-post-thumbnail hentry category-web category-tech tag-metasploit tag-81 tag-78 tag-613 tag-94 tag-614">
                    <div class="entry">
                        <div class="entry-head">
                            <h1 class="entry-title">Metasploit渗透测试实验报告</h1>
                            <div class="entry-info">
                                                                <a class="nickname" href="http://www.mottoin.com/user/seceditor/">Moto</a>
                                <span class="dot">•</span>
                                <span>2016年8月8日</span>
                                <span class="dot">•</span>
                                <a href="http://www.mottoin.com/category/article/web" rel="category tag">Web安全</a>, <a href="http://www.mottoin.com/category/tech" rel="category tag">技术控</a>                                                                    <span class="dot">•</span>
                                    <span>阅读 1688</span>
                                                            </div>
                        </div>
                                                                        <div class="entry-content clearfix">
                            <h2>一、实验目的：</h2>
<p>1.了解Metasploit框架的概念、组成，掌握Metasploit框架的基本使用，能够利用Metasploit对已知漏洞进行渗透攻击；模拟灰盒测试对DVSSC（定V）公司的网络进行渗透，最终得到系统权限，并有效开展后渗透攻击。</p>
<p>2.在渗透过程中逐渐掌握科学的渗透测试方法，即 PTES标准渗透测试方法七个阶段：</p>
<ol>
<li>前期交互阶段（跳过）</li>
<li>情报搜集阶段</li>
<li>威胁建模阶段</li>
<li>漏洞分析阶段</li>
<li>渗透攻击阶段</li>
<li>后渗透攻击阶段</li>
<li>报告阶段；</li>
</ol>
<p>3.在渗透测试过程中逐渐清晰渗透所要求掌握的技能，有针对有目的的进行初步学习，为将来进一步学习奠定一定的基础。</p>
<h2>二、执行摘要</h2>
<h3>1.背景：</h3>
<p>《Metasploit渗透测试魔鬼训练营》一书采用独特的让读者成为虚拟渗透测试的主角的方式，经历一次对DVSSC公司网络的渗透测试任务。渗透测试的目标为DVSSC公司DMZ网段以及内网客户端主机。四个主机均存在严重漏洞缺陷，可执行不同方式的攻击方式。</p>
<h3>2.整体情况：</h3>
<p>信息搜集阶段获得了dvscc的域名注册信息、地理位置，以及DMZ网段操作系统版本、开放端口及其服务版本等信息，但域名注册信息存有疑问。</p>
<p>漏洞扫描阶段获得DMZ网段主机大量漏洞信息，可采取不同方式的攻击方式，如口令猜测、网络服务渗透攻击、浏览器渗透攻击等。</p>
<p>渗透攻击阶段对DMZ网站主机部分漏洞进行利用，但有部分漏洞没有利用成功。对getshell的主机进行了有效的后渗透攻击。</p>
<h2>三、具体报告</h2>
<h3>1.实验环境</h3>
<p>（1）网络环境拓扑</p>
<p><img class="alignnone size-full wp-image-86644 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/1-36.png" alt="1" width="837" height="541" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/1-36.png 837w, http://www.mottoin.com/wp-content/uploads/2016/08/1-36-300x194.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/1-36-768x496.png 768w" sizes="(max-width: 837px) 100vw, 837px" /></p>
<p><img class="alignnone size-full wp-image-86645 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/2-29.png" alt="2" width="642" height="272" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/2-29.png 642w, http://www.mottoin.com/wp-content/uploads/2016/08/2-29-300x127.png 300w" sizes="(max-width: 642px) 100vw, 642px" /></p>
<p>（2）渗透测试实验环境搭建</p>
<p>①硬件升级：为能够同时开启2~5台虚拟机，将原本硬件（CPU：core i5-4210U @1.70GHz 2.40GHz；内存4G；硬盘500G机械硬盘）升级到内存8G，500G机械硬盘+ 240G固态硬盘，虚拟机全部放置在固态硬盘。</p>
<p>②虚拟机软件安装与网络环境配置：</p>
<p>安装VMware Workstation软件（VMware Workstation Pro 12.0.0 build-2985596版本）</p>
<p>③虚拟网络配置：</p>
<p>Windows8.1环境下需要以管理员身份运行VMwareWorkstation Pro 12。如图所示进行设置，将VMnet1子网IP地址段设为192.168.10.0，VMnet8子网IP地址段设为10.10.10.0。</p>
<p><img class="alignnone size-full wp-image-86646 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/3-25.png" alt="3" width="594" height="528" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/3-25.png 594w, http://www.mottoin.com/wp-content/uploads/2016/08/3-25-300x267.png 300w" sizes="(max-width: 594px) 100vw, 594px" /></p>
<p>一旦在VMware中添加这些虚拟网络，则在实体计算机上的“网络”会生成相应的虚拟网卡（桥接类型的虚拟网络除外）</p>
<p><img class="alignnone size-full wp-image-86647 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/4-22.png" alt="4" width="833" height="166" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/4-22.png 833w, http://www.mottoin.com/wp-content/uploads/2016/08/4-22-300x60.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/4-22-768x153.png 768w" sizes="(max-width: 833px) 100vw, 833px" /></p>
<p>为弄清虚拟机网络配置如何形成的定V公司网络拓扑，另外学习了VMware中虚拟网络（VMnet）的三种连接模式：</p>
<p>（a）桥接：该虚拟网络和实体计算机的网卡以网桥方式连接。虚拟网络和实体计算机上的物理网卡进行桥接，这样使用该虚拟网络的虚拟计算机就能够借用实体计算机的物理网卡和实体网络进行通信了。当然虚拟计算机上的网卡需要配置和实体计算机同一IP网段的IP地址。</p>
<p><img class="alignnone size-full wp-image-86648 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/5-14.png" alt="5" width="620" height="272" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/5-14.png 620w, http://www.mottoin.com/wp-content/uploads/2016/08/5-14-300x132.png 300w" sizes="(max-width: 620px) 100vw, 620px" /></p>
<p>（b）NAT：实体计算机上启用了NAT，连接到该虚拟网络的虚拟计算机通过NAT和物理网络进行连接</p>
<p><img class="alignnone size-full wp-image-86649 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/6-13.png" alt="6" width="692" height="215" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/6-13.png 692w, http://www.mottoin.com/wp-content/uploads/2016/08/6-13-300x93.png 300w" sizes="(max-width: 692px) 100vw, 692px" /></p>
<p>（c）仅主机：则虚拟网络和实体计算机没有任何网络连接，仅和连接到同一虚拟网络的虚拟计算机之间可以通信。</p>
<p><img class="alignnone size-full wp-image-86650 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/7-8.png" alt="7" width="634" height="217" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/7-8.png 634w, http://www.mottoin.com/wp-content/uploads/2016/08/7-8-300x103.png 300w" sizes="(max-width: 634px) 100vw, 634px" /></p>
<p>在VMware中编辑好虚拟网络后，可以在“虚拟机设置”中配置虚拟机网卡和哪个虚拟网络进行连接。选择“桥接”时，则该虚拟机的网卡和VMnet0虚拟网络进行连接；选择“NAT”时，则该虚拟机的网卡和VMnet8虚拟网络进行连接；选择“仅主机”时，则该虚拟机的网卡和VMnet1虚拟网络进行连接。还可以把网卡连接到自定义的虚拟网络中。</p>
<p><img class="alignnone size-full wp-image-86651 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/8-8.png" alt="8" width="538" height="261" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/8-8.png 538w, http://www.mottoin.com/wp-content/uploads/2016/08/8-8-300x146.png 300w" sizes="(max-width: 538px) 100vw, 538px" /></p>
<p>④虚拟机镜像配置</p>
<p>（a）OWASP BWA、Win2K3Metasploitable、Kali2.0网络适配器设置为NAT模式，开启DHCP服务，先前BT5已分配10.10.10.128，以及学习过程中其他靶机的安装，故三台主机ip自动分配为10.10.10.129、10.10.10.130、10.10.10.141；</p>
<p>（b）Linux Metasploitable启用两个网络适配器，一个设置为Host-Only，一个为NAT，故有eth0及eth1两个网卡，ip地址为10.10.10.254(NAT，连接DMZ的VMnet8网段)和192.168.10.254(Host-Only模式，连接企业内网VMnet1网段)；</p>
<p>（c）WinXP Metasploitable网络适配器，设置Host-only模式，自动分配到192.168.10.128地址，网关被设置为192.168.10.254。</p>
<p>为进一步学习网卡配置，手动自己配置了一遍Linux Metasploit的网络配置，如下：</p>
<p>（1）LinuxMetasploitable修改/etc/network/interfaces网卡配置文件如下所示：</p>
<blockquote><p>root@bt:~# sudo vim /etc/network/interfaces</p>
<p>auto lo<br />
iface lo inet loopback</p>
<p>auto eth0<br />
iface eth0 inet static<br />
address 10.10.10.254</p>
<p>netmask 255.255.255.0</p>
<p>network 10.10.10.0</p>
<p>broadcast 10.10.10.255</p>
<p>auto eth1<br />
iface eth1 inet static<br />
address 192.168.10.254</p>
<p>netmask 255.255.255.0</p>
<p>network 192.168.10.0</p>
<p>broadcast 192.168.10.255</p></blockquote>
<p>之后输入</p>
<blockquote><p>sudo/etc/init.d/networking restart</p></blockquote>
<p>命令重启网卡，IP地址就设置完成了。</p>
<p>（2）接下来是配置路由功能的过程。修改/etc下的sysctl.conf文件，打开数据包路由转发功能：</p>
<blockquote><p>root@metasploitable:/etc# vim sysctl.conf</p>
<p>……</p>
<p>net.ipv4.ip_forward = 1 #将这行注释取消掉</p>
<p>……</p></blockquote>
<p>（3）然后设置转发规则：</p>
<blockquote><p>root@metasploitable:~# /sbin/iptables -t nat-A POSTROUTING -s 192.168.10.0/24 -o eth0 -j MASQUERADE</p></blockquote>
<p><img class="alignnone size-full wp-image-86653 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/9-6.png" alt="9" width="1366" height="768" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/9-6.png 1366w, http://www.mottoin.com/wp-content/uploads/2016/08/9-6-300x169.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/9-6-768x432.png 768w, http://www.mottoin.com/wp-content/uploads/2016/08/9-6-1024x576.png 1024w" sizes="(max-width: 1366px) 100vw, 1366px" /></p>
<p>实验最初就是确保攻击机与靶机是否处于同一网段，互相执行Ping命令检测网络畅通。对于VMnet1网卡，在开启除攻击机以外的其他主机的情况下，用WinXP Metasploitable主机访问http://www.dvssc.com，进入登录页面，说明VMnet1、VMnet8下主机均正常。</p>
<h3>2.信息搜集阶段</h3>
<p>该阶段要完成两项任务:</p>
<p>i.通过信息搜集工作，确定渗透测试目标的范围。</p>
<p>ii.通过情报信息搜集，发现渗透目标的安全漏洞与脆弱点，为以后渗透攻击提供基础。</p>
<p>1)对定V公司网络进行外围信息搜集</p>
<p>外围信息搜集能够了解到网站域名、IP地址、服务器操作系统类型版本，并进一步针对门户网站搜索到一些关于定V公司业务、人员与网站服务的细节信息。从而确定渗透测试目标的范围，有必要的话可以实施社会工程学攻击。</p>
<p>①被动信息搜集</p>
<p>DNS和IP地址：Whois域名注册信息查询（whois[域名]）；Nslookup和dig域名查询（nslookupset type=A；Dig @ [域名]）；www.netcraft.com；</p>
<p><img class="alignnone size-full wp-image-86654 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/10-4.png" alt="10" width="647" height="341" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/10-4.png 647w, http://www.mottoin.com/wp-content/uploads/2016/08/10-4-300x158.png 300w" sizes="(max-width: 647px) 100vw, 647px" /></p>
<p><img class="alignnone size-full wp-image-86655 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/11-4.png" alt="11" width="824" height="280" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/11-4.png 824w, http://www.mottoin.com/wp-content/uploads/2016/08/11-4-300x102.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/11-4-768x261.png 768w" sizes="(max-width: 824px) 100vw, 824px" /></p>
<p><img class="alignnone size-full wp-image-86656 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/12-3.png" alt="12" width="839" height="321" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/12-3.png 839w, http://www.mottoin.com/wp-content/uploads/2016/08/12-3-300x115.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/12-3-768x294.png 768w" sizes="(max-width: 839px) 100vw, 839px" /></p>
<p><img class="alignnone size-full wp-image-86657 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/13-4.png" alt="13" width="846" height="154" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/13-4.png 846w, http://www.mottoin.com/wp-content/uploads/2016/08/13-4-300x55.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/13-4-768x140.png 768w" sizes="(max-width: 846px) 100vw, 846px" /></p>
<p>发现由CYANDOMAINS,INC.注册,IP地址是137.175.78.85,在网络区段发现4台主机分别Win2K3和linux下运行。同时发现似乎并不是定V公司。暂且放在一边。</p>
<p>另外还有其他信息搜集方式，如i.P2Location（www.cz88.com）地理位置查询；ii.IP2Domain反查域名；iii.Traceroute路由追踪()。</p>
<p>特别实践了一下搜索引擎搜集，Google hacking技术</p>
<p>操作符+ 、- 、~ 、. 、* 、&#8221;&#8221;</p>
<p>intext:把网页中的正文内容中的某个字符做为搜索条件.</p>
<p>intitle:搜索网页标题中是否有所要找的字符.</p>
<p>cache:搜索google里关于某些内容的缓存.</p>
<p>define:搜索某个词语的定义.</p>
<p>filetype:搜索指定类型的文件</p>
<p>info:查找指定站点的一些基本信息.</p>
<p>inurl:搜索我们指定的字符是否存在于URL中.</p>
<p>link:搜索:inurl:www.4ngel.net所有和www.4ngel.net做了链接的URL.</p>
<p>site:例如:site:www.4ngel.net.将返回所有和4ngel.net这个站有关的URL.</p>
<p>②主机探测端口及服务扫描</p>
<p>活跃主机扫描使用ICMP Ping自然能够做到，但为了更加隐秘</p>
<p>a)主机发现模块：</p>
<p>可以使用metasploit的这些模块位于Metasploit源码路径的modules/auxiliary/scanner/discovery/目录中，主要有以下几个：arp_sweep、ipv6_multicast_ping、ipv6_neighbor、ipv6_neighbor_router_advertisement、udp_probe、udp_sweep。</p>
<p>b)nmap主机探测</p>
<p>使用nmap -sV -Pn -O[目标主机]可以获取目标主机开放端口号及其详细的服务版本信息，同时对操作系统进行识别，Pn参数在扫描前不发送ICMP进行主机活跃检测，强制扫描，能够避免ICMP不通导致主机存活性误判而不进行扫描。</p>
<p>在Metasploit中可以使用网络数据库共享渗透测试信息数据库。开启PostgerSQL数据库/etc/init.d/postgersqlstart</p>
<p><img class="alignnone size-full wp-image-86658 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/14-4.png" alt="14" width="1268" height="697" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/14-4.png 1268w, http://www.mottoin.com/wp-content/uploads/2016/08/14-4-300x165.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/14-4-768x422.png 768w, http://www.mottoin.com/wp-content/uploads/2016/08/14-4-1024x563.png 1024w" sizes="(max-width: 1268px) 100vw, 1268px" /></p>
<p>用db_status命令检测是否连接正常。（为搞清数据库用户名口令，可以查看database.yml）</p>
<p><img class="alignnone size-full wp-image-86659 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/15-4.png" alt="15" width="289" height="42" /></p>
<p>将nmap输出结果以xml格式导入Metasploit并查看</p>
<blockquote><p>msf &gt;　nmap-sV -Pn -oX Subnet130.xml 10.10.10.0/24</p>
<p>msf &gt;　db_importSubnet1.xml</p>
<p>msf &gt;　services</p></blockquote>
<p><img class="alignnone size-full wp-image-86660 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/16-4.png" alt="16" width="727" height="413" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/16-4.png 727w, http://www.mottoin.com/wp-content/uploads/2016/08/16-4-300x170.png 300w" sizes="(max-width: 727px) 100vw, 727px" /></p>
<p><img class="alignnone size-full wp-image-86661 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/17-1.png" alt="17" width="643" height="863" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/17-1.png 643w, http://www.mottoin.com/wp-content/uploads/2016/08/17-1-224x300.png 224w" sizes="(max-width: 643px) 100vw, 643px" /></p>
<p>③针对性扫描</p>
<p>当然除了扫描外，还可以用Metasploit的Scanner辅助模块等进行服务查点。</p>
<p>为了学习Ruby脚本，尝试编写自己的扫描器，</p>
<p><img class="alignnone size-full wp-image-86662 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/18.png" alt="18" width="475" height="494" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/18.png 475w, http://www.mottoin.com/wp-content/uploads/2016/08/18-288x300.png 288w" sizes="(max-width: 475px) 100vw, 475px" /></p>
<p>这个简单的扫描器使用Msf::Exploit::Remote::Tcp mixin处理TCP通信，使用Msf::Auxiliary::Scanner mixin继承扫描器所需的各个参数与方法。默认12345端口，一旦连接将发送一个消息，接受来自服务器的响应后，将响应消息和服务器信息输出。</p>
<p>对发现的系统与文件管理类网络服务，例如telnet、ssh、ftp等，可以进行弱口令猜测或是嗅探。为简单测试口令嗅探，我根据书本提示构造words.txt，对ssh进行口令试探攻击。完成攻击后，在网上下载了若干不同类别的口令字典。同样使用psnuffle对DMZ网段监听，获得用户名和口令为msfadmin/msfadmin。得到了ssh和ftp访问权限。</p>
<p>a）ssh口令猜测</p>
<blockquote><p>msf &gt; use auxiliary/scanner/ssh/ssh_login</p>
<p>msf auxiliary(ssh_login) &gt; set RHOSTS10.10.10.254</p>
<p>msf auxiliary(ssh_login) &gt; set USERNAMEroot</p>
<p>msf auxiliary(ssh_login) &gt; set PASS_FILE/root/pass.txt</p>
<p>msf auxiliary(ssh_login) &gt; set THREADS 50</p>
<p>msf auxiliary(ssh_login) &gt; run</p></blockquote>
<p><img class="alignnone size-full wp-image-86664 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/19-1.png" alt="19" width="857" height="38" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/19-1.png 857w, http://www.mottoin.com/wp-content/uploads/2016/08/19-1-300x13.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/19-1-768x34.png 768w" sizes="(max-width: 857px) 100vw, 857px" /></p>
<p>b）psnuffle监听</p>
<blockquote><p>msf &gt; use auxiliary/sniffer/psnuffle</p>
<p>msf auxiliary(psnuffle) &gt; run</p></blockquote>
<p><img class="alignnone size-full wp-image-86665 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/20-1.png" alt="20" width="669" height="21" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/20-1.png 669w, http://www.mottoin.com/wp-content/uploads/2016/08/20-1-300x9.png 300w" sizes="(max-width: 669px) 100vw, 669px" /></p>
<h3>3.漏洞评估</h3>
<p>由于BT5的OpenVAS按照书本配置启动不能正常访问GSA，询问他人和参考网上资料都没有解决，故放弃OpenVAS扫描器。使用Nessus。</p>
<p>在tenable官方主页下载Nessus home版本安装包（选择 kali linux64位）使用命令dpkg -i Nessus-6.5.4-debian6_amd64.deb进行安装，使用命令 /etc/init.d/nessusdstart 进行启动，选择使用Nessus的B/S架构，在浏览器中输入https://127.0.0.1:8834打开Nessus主页，启动后设置本地用户名和密码(admin/admin)，输入Active code（激活码）才可以进行插件的更新安装。</p>
<p>访问http://www.tenable.com/products/nessus/nessus-homefeed 进行注册，填写正确邮箱（QQMail失败，使用gmail成功），注册完成会收到有Active code邮件。输入Active code之后就可以开始下载安装插件了。却收到Download Fail页面。参考网上解决方法使用root@kali:/opt/nessus/sbin# ./nessuscli update命令，依然提示安装失败（第二次安装Kali系统后成功）。</p>
<p>故采用另一种离线更新方式，登录https://plugins.nessus.org/v2/offline.php，要求需要输入两个信息，一个是challengecode，另一个是activation code 。challengecode获得由/opt/nessus/sbin下的./nessuscli fetch &#8211;challenge命令。Activation code由邮件重新获得，之前一个已经被使用过而失效。</p>
<p>提交信息获得离线的plugin以及license下载url。统统下载放置到/opt/nessus/sbin下。之后</p>
<p>①首先导入license。到/opt/nessus/sbin下，执行./nessuscli fetch &#8211;register-offlinenessus.license。</p>
<p><img class="alignnone size-full wp-image-86666 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/21-1.png" alt="21" width="551" height="34" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/21-1.png 551w, http://www.mottoin.com/wp-content/uploads/2016/08/21-1-300x19.png 300w" sizes="(max-width: 551px) 100vw, 551px" /></p>
<p>②加载nessus plugins，将all-2.0.tar.gz放到目录下，然后通过nessuscli update all-2.0.tar.gz进行升级</p>
<p><img class="alignnone size-full wp-image-86667 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/22-1.png" alt="22" width="537" height="50" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/22-1.png 537w, http://www.mottoin.com/wp-content/uploads/2016/08/22-1-300x28.png 300w" sizes="(max-width: 537px) 100vw, 537px" /></p>
<p>③启动nessus，在次目录下，使用nessusd启动</p>
<p><img class="alignnone size-full wp-image-86668 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/23-1.png" alt="23" width="534" height="117" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/23-1.png 534w, http://www.mottoin.com/wp-content/uploads/2016/08/23-1-300x66.png 300w" sizes="(max-width: 534px) 100vw, 534px" /></p>
<p>④插件更新安装完毕后，即可输入之前的账号和密码登陆操作页面。</p>
<p><img class="alignnone size-full wp-image-86669 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/24-1.png" alt="24" width="983" height="467" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/24-1.png 983w, http://www.mottoin.com/wp-content/uploads/2016/08/24-1-300x143.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/24-1-768x365.png 768w" sizes="(max-width: 983px) 100vw, 983px" /></p>
<p>对DMZ网段靶机以及内网客户机靶机进行漏洞扫描，由于使用家用版，扫描插件比较基本，得到初步漏洞信息。漏洞信息与书本所提到到漏洞略有出入。</p>
<p><img class="alignnone size-full wp-image-86670 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/25-1.png" alt="25" width="1360" height="768" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/25-1.png 1360w, http://www.mottoin.com/wp-content/uploads/2016/08/25-1-300x169.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/25-1-768x434.png 768w, http://www.mottoin.com/wp-content/uploads/2016/08/25-1-1024x578.png 1024w" sizes="(max-width: 1360px) 100vw, 1360px" /></p>
<p><img class="alignnone size-full wp-image-86671 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/26-1.png" alt="26" width="628" height="518" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/26-1.png 628w, http://www.mottoin.com/wp-content/uploads/2016/08/26-1-300x247.png 300w" sizes="(max-width: 628px) 100vw, 628px" /></p>
<p><img class="alignnone size-full wp-image-86672 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/27-1.png" alt="27" width="836" height="398" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/27-1.png 836w, http://www.mottoin.com/wp-content/uploads/2016/08/27-1-300x143.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/27-1-768x366.png 768w" sizes="(max-width: 836px) 100vw, 836px" /></p>
<p><img class="alignnone size-full wp-image-86673 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/28-1.png" alt="28" width="821" height="253" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/28-1.png 821w, http://www.mottoin.com/wp-content/uploads/2016/08/28-1-300x92.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/28-1-768x237.png 768w" sizes="(max-width: 821px) 100vw, 821px" /></p>
<p><img class="alignnone size-full wp-image-86674 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/29-1.png" alt="29" width="822" height="271" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/29-1.png 822w, http://www.mottoin.com/wp-content/uploads/2016/08/29-1-300x99.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/29-1-768x253.png 768w" sizes="(max-width: 822px) 100vw, 822px" /></p>
<h3>4.威胁建模阶段</h3>
<p>现只考虑最基本的攻击计划，对后台服务器Win2K3 Metasploitable（10.10.10.130）可采用口令猜测攻击获取口令，触发ms08_067或ms03_026漏洞，进行网络服务渗透攻击。</p>
<p>对于网关服务器Linux Metasploitable（10.10.10.254），同样可以进行口令猜测，触发Samba漏洞，用sessions命令将shell升级为Meterperter shell进行后渗透攻击。内网客户机主机WinXp Metasploitable，可以触发ms08_067漏洞，或者ms11_050漏洞，获得系统权限。</p>
<h3>5.渗透攻击阶段</h3>
<p>网络渗透攻击</p>
<p>①目标主机：Win2K3Metasploitabel</p>
<p>②利用漏洞：ms03_026 Microsoft RPC Interface Buffer Overrun</p>
<p>③攻击过程</p>
<p>加载msfconsole,利用exploit/windows/dcerpc/ms03_026_dcomMetasploit模块，加载windows/meterperter/reverse_tcp攻击载荷，设置RHOST、LHOST、LPORT后执行exploit命令。此攻击载荷返回一个session。</p>
<p><img class="alignnone size-full wp-image-86675 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/30-1.png" alt="30" width="732" height="366" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/30-1.png 732w, http://www.mottoin.com/wp-content/uploads/2016/08/30-1-300x150.png 300w" sizes="(max-width: 732px) 100vw, 732px" /></p>
<p>④ms03_026机理分析</p>
<p>Microsoft RPC InterfaceBuffer Overrun Ms03_026漏洞是由于不正常处理畸形消息所致，影响使用RPC的DCOM接口，而此接口处理由客户端发给服务器的DCOM对象激活请求。攻击者可以成功利用此漏洞以本地系统权限执行任意命令。 Flashsky的分析指出MS03-026修复两个漏洞，一个是当地的堆栈溢出，另一个是远程栈溢出。两个漏洞均来自一个API。</p>
<pre class="lang:default decode:true">HRESULTCoGetInstanceFromFile（   
  COSERVERINFO* pServerInfo，   
  CLSID * pclsid，   
  IUnknown * punkOuter，   
  DWORD dwClsCtx，   
  DWORD grfMode，   
  OLECHAR * szName， //IPersistFile::Load初始化，该参数导致缓存器溢出  
  ULONG CMQ，   
  MULTI_QI * rgmqResults   
）;</pre>
<blockquote><p>hr= CoGetInstanceFromFile(pServerInfo,NULL,0,CLSCTX_REMOTE_SERVER,STGM_READWRITE,L&#8221;C:\\1234561111111111111111111111111.doc&#8221;,1,&amp;qi);</p></blockquote>
<p>当文件名太长时将产生缓存器溢出，因为RPCSS的GetPathForServer函数只有0x220空间，然而API的检查使得不能利用API进行渗透。但能够利用用LPC构造数据包的方式进行利用。用lstrcpyw进行拷贝的。</p>
<p>在客户端给服务器传递这个参数的时候，会自动转化成如下格式：</p>
<p>L“\\servername\c$\1234561111111111111111111111111.doc&#8221;</p>
<p>这样的形式传递给远程服务器，于是在远程服务器的处理中会先取出servername名，这里没做检查，给定了0X20（默认NETBIOS名）大小的空间，于是堆栈溢出产生了。当输入足够多的字符时候，堆栈发生溢出，并且导致可以直接执行构造的shellcode。</p>
<p>关键代码如下:</p>
<pre class="lang:default decode:true">GetPathForServer   
text:761543DA push ebp   
text:761543DB mov ebp, esp   
text:761543DD sub esp, 20h &lt;-----只有0x20的长度   
text:761543E0 mov eax, [ebp+arg_4]   
text:761543E3 push ebx   
text:761543E4 push esi   
text:761543E5 mov esi, [ebp+hMem]   
text:761543E8 push edi   
text:761543E9 push 5Ch   
text:761543EB pop ebx   
text:761543EC mov [eax], esi   
text:761543EE cmp [esi], bx   
text:761543F1 mov edi, esi   
text:761543F3 jnz loc_761544BF   
text:761543F9 cmp [esi+2], bx   
text:761543FD jnz loc_761544BF   
text:76154403 lea eax, [ebp+String1]</pre>
<p>2） ①目标主机：LinuxMetasploitabel</p>
<p>②利用漏洞：Distcc服务漏洞CVE-2004-2687</p>
<p>③漏洞详情</p>
<p>distcc2.x,用于XCode 1.5和其他人,当不限制访问服务器端口配置,允许远程攻击者执行任意命令通过编译工作,由服务器没有执行授权检查。</p>
<p>④攻击过程</p>
<p>加载msf框架，使用exploit/unix/misc/distcc_exec模块，加载cmd/unix/reverse攻击载荷，设置LHOST、RHOST后执行exploit -z，sessions -u提升为Meterpertershell。</p>
<p><img class="alignnone size-full wp-image-86676 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/31.png" alt="31" width="550" height="201" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/31.png 550w, http://www.mottoin.com/wp-content/uploads/2016/08/31-300x110.png 300w" sizes="(max-width: 550px) 100vw, 550px" /></p>
<p><img class="alignnone size-full wp-image-86677 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/32.png" alt="32" width="632" height="289" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/32.png 632w, http://www.mottoin.com/wp-content/uploads/2016/08/32-300x137.png 300w" sizes="(max-width: 632px) 100vw, 632px" /></p>
<h3>6.后渗透攻击阶段</h3>
<p>Meterperter是Metasploit框架中通常作为攻击载荷所使用能够返回一个控制通道的模块。在利用ms03_026漏洞拿到shell后可以对目标系统进行更为深入的渗透，包括密码哈希值获取，特权提升、跳板攻击、纯内存工作模式、反追踪等等。</p>
<p>①进程移植：使用migrate命令可以将Meterperter会话从一个进程移植到另一个进程，首先用ps命令获得正在运行的进程pid。然后执行migrate pid将进程移植到explorer.exe中。</p>
<p><img class="alignnone size-full wp-image-86678 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/33-1.png" alt="33" width="653" height="23" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/33-1.png 653w, http://www.mottoin.com/wp-content/uploads/2016/08/33-1-300x11.png 300w" sizes="(max-width: 653px) 100vw, 653px" /></p>
<p><img class="alignnone size-full wp-image-86679 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/34.png" alt="34" width="337" height="58" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/34.png 337w, http://www.mottoin.com/wp-content/uploads/2016/08/34-300x52.png 300w" sizes="(max-width: 337px) 100vw, 337px" /></p>
<p>②键盘记录：使用keyscan_start命令开启键盘记录在用户登录系统后用keyscan_dump参看可以得到明文密码。</p>
<p><img class="alignnone size-full wp-image-86680 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/35.png" alt="35" width="347" height="129" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/35.png 347w, http://www.mottoin.com/wp-content/uploads/2016/08/35-300x112.png 300w" sizes="(max-width: 347px) 100vw, 347px" /></p>
<p>③哈希值登录：不使用键盘记录功能可以用Meterperter中的hashdump命令获取系统本地文件中的用户名和密码哈希值。拿到LM，NTLM哈希值后可以在www.onlinecrack.com中在线破解，或者直接用windows/smb/psexec传递哈希值进行渗透。</p>
<p><img class="alignnone size-full wp-image-86681 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/36.png" alt="36" width="726" height="202" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/36.png 726w, http://www.mottoin.com/wp-content/uploads/2016/08/36-300x83.png 300w" sizes="(max-width: 726px) 100vw, 726px" /></p>
<p>④取得SYSTEM 权限：通过net user命令创建限制权限的普通用户账号，并提权。</p>
<p><img class="alignnone size-full wp-image-86682 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/37.png" alt="37" width="901" height="467" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/37.png 901w, http://www.mottoin.com/wp-content/uploads/2016/08/37-300x155.png 300w, http://www.mottoin.com/wp-content/uploads/2016/08/37-768x398.png 768w" sizes="(max-width: 901px) 100vw, 901px" /></p>
<p>⑤持久控制：Meterperter仅仅是驻留内存中的shellcode，一旦目标主机重启将失去控制，为此使用Meterperter中persistence、metsvc、getgui等后渗透攻击模块，在目标主机中安装自启动和永久服务的方式从而持久控制。</p>
<p><img class="alignnone size-full wp-image-86683 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/38.png" alt="38" width="730" height="252" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/38.png 730w, http://www.mottoin.com/wp-content/uploads/2016/08/38-300x104.png 300w" sizes="(max-width: 730px) 100vw, 730px" /></p>
<p><img class="alignnone size-full wp-image-86684 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/39.png" alt="39" width="449" height="36" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/39.png 449w, http://www.mottoin.com/wp-content/uploads/2016/08/39-300x24.png 300w" sizes="(max-width: 449px) 100vw, 449px" /></p>
<p><img class="alignnone size-full wp-image-86685 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/40.png" alt="40" width="724" height="200" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/40.png 724w, http://www.mottoin.com/wp-content/uploads/2016/08/40-300x83.png 300w" sizes="(max-width: 724px) 100vw, 724px" /></p>
<p><img class="alignnone size-full wp-image-86686 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/41.png" alt="41" width="647" height="251" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/41.png 647w, http://www.mottoin.com/wp-content/uploads/2016/08/41-300x116.png 300w" sizes="(max-width: 647px) 100vw, 647px" /></p>
<p>⑥痕迹清除：对目标主机操作完后，用clearev命令对日志留下的入侵痕迹进行清除。</p>
<p><img class="alignnone size-full wp-image-86687 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/42.png" alt="42" width="355" height="73" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/42.png 355w, http://www.mottoin.com/wp-content/uploads/2016/08/42-300x62.png 300w" sizes="(max-width: 355px) 100vw, 355px" /></p>
<p>⑦升级command shell：Metaspliot框架支持使用sessions -u 命令将命令行shell升级为Meterperter。使用usermap_script对linux主机进行渗透，拿到shell后将其升级为Meterperter shell。</p>
<p>需要使用setg命令对LHOST以及LPORT进行设置，用exploit -z渗透，session -u命令升级为Meterperter。</p>
<p><img class="alignnone size-full wp-image-86688 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/43.png" alt="43" width="724" height="268" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/43.png 724w, http://www.mottoin.com/wp-content/uploads/2016/08/43-300x111.png 300w" sizes="(max-width: 724px) 100vw, 724px" /></p>
<p><img class="alignnone size-full wp-image-86689 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/44.png" alt="44" width="732" height="209" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/44.png 732w, http://www.mottoin.com/wp-content/uploads/2016/08/44-300x86.png 300w" sizes="(max-width: 732px) 100vw, 732px" /></p>
<p><img class="alignnone size-full wp-image-86690 j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2016/08/45.png" alt="45" width="656" height="75" data-srcset="http://www.mottoin.com/wp-content/uploads/2016/08/45.png 656w, http://www.mottoin.com/wp-content/uploads/2016/08/45-300x34.png 300w" sizes="(max-width: 656px) 100vw, 656px" /></p>
<h2>四、实验总结</h2>
<p>本次实验，掌握了Metasploit框架下的基本操作，为更好学习渗透，特别安装了Kali 2.0虚拟机。在PTES标准渗透测试方法的指导下，对各个渗透环节有了初步的了解。信息搜集阶段学会了使用各种信息搜集方法，但Google Hacking技术仍需灵活掌握。</p>
<p>在学习实践渗透时，为了接下来更有效的学习，对8086汇编语言、ruby等进行了一定的学习。在漏洞机理分析方面的学习，一开始感觉力不从心，另外初步学习了《加密与解密》、《0day安全：软件漏洞分析技术》，了解了OD、IDA、HIEW、Windg等工具的基本使用。但依旧不能熟练的开展分析。对于Poc、exp代码有一定的阅读能力。</p>
<p>渗透实验仅仅在虚拟机靶机上进行，且只是对内网渗透，对出现的个别问题参阅资料后也不能全部解决。希望将来能够深入学习相关知识。</p>
<p>&nbsp;</p>
<p style="text-align: center;">*来源：<a href="http://blog.csdn.net/ling_xiao007/article/details/50707885">ling_xiao007 </a>  Mottoin小编整理发布</p>
                                                        <div class="entry-copyright"><p>原创文章，作者：Moto，如若转载，请注明出处：http://www.mottoin.com/86643.html</p></div>                        </div>
                        <div class="entry-footer">
                            <div class="entry-tag"><a href="http://www.mottoin.com/tag/metasploit" rel="tag">metasploit</a><a href="http://www.mottoin.com/tag/%e4%bf%a1%e6%81%af%e6%94%b6%e9%9b%86" rel="tag">信息收集</a><a href="http://www.mottoin.com/tag/%e5%90%8e%e9%97%a8" rel="tag">后门</a><a href="http://www.mottoin.com/tag/%e5%ae%9e%e9%aa%8c" rel="tag">实验</a><a href="http://www.mottoin.com/tag/%e6%b8%97%e9%80%8f" rel="tag">渗透</a><a href="http://www.mottoin.com/tag/%e6%bc%8f%e6%b4%9e%e6%89%ab%e6%8f%8f" rel="tag">漏洞扫描</a></div>
                            <div class="entry-action">
                                <div class="btn-zan" data-id="86643"><i class="fa fa-thumbs-up"></i> 赞 <span class="entry-action-num">(0)</span></div>

                                
                            </div>
                            <div class="entry-bar">
                                <div class="entry-bar-inner clearfix">
                                                                            <div class="author pull-left">
                                            <a data-user="7" target="_blank" href="http://www.mottoin.com/user/seceditor/" class="avatar">
                                                <img src="http://gravatar.com/avatar/?s=400&d=mm" class="func-um_user gravatar avatar avatar-60 um-avatar um-avatar-gravatar" width="60" height="60" alt="Moto" />                                                Moto                                            </a>
                                            <span class="author-title">普通用户</span>                                         </div>
                                                                        <div class="info pull-right">
                                        <div class="info-item meta">
                                            <a class="meta-item j-heart" href="javascript:;" data-id="86643"><i class="fa fa-heart"></i> <span class="data">0</span></a>
                                            <a class="meta-item" href="#comments"><i class="fa fa-comment"></i> <span class="data">0</span></a>
                                                                                    </div>
                                        <div class="info-item share">
                                            <a class="meta-item" href="javascript:;">
                                                <i class="fa fa-wechat"></i>
                                                <span class="wx-wrap">
                                                    <img src="//pan.baidu.com/share/qrcode?w=320&h=320&url=http://www.mottoin.com/86643.html">
                                                    <span>扫码分享到微信</span>
                                                </span>
                                            </a>
                                            <a class="meta-item" href="http://share.baidu.com/s?type=text&searchPic=1&sign=on&to=tsina&key=&url=http%3A%2F%2Fwww.mottoin.com%2F86643.html&title=Metasploit%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A" target="_blank"><i class="fa fa-weibo"></i></a>
                                            <a class="meta-item" href="http://share.baidu.com/s?type=text&searchPic=1&sign=on&to=qzone&key=&url=http%3A%2F%2Fwww.mottoin.com%2F86643.html&title=Metasploit%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A" target="_blank"><i class="fa fa-qq"></i></a>
                                        </div>
                                        <div class="info-item act">
                                            <a href="javascript:;" id="j-reading"><i class="fa fa-file-text"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                                        <h3 class="entry-related-title">相关推荐</h3><ul class="entry-related clearfix"><li><a href="http://www.mottoin.com/88804.html" title="AMIRA：自动化恶意软件事件响应与分析">AMIRA：自动化恶意软件事件响应与分析</a></li><li><a href="http://www.mottoin.com/88682.html" title="成熟产品IPS的创新实践和思考">成熟产品IPS的创新实践和思考</a></li><li><a href="http://www.mottoin.com/87095.html" title="无回显命令执行PoC编写方法(Apache Shiro Java反序列化)">无回显命令执行PoC编写方法(Apache Shiro Java反序列化)</a></li><li><a href="http://www.mottoin.com/98927.html" title="[CVE-2017-2641]Moodle远程代码执行漏洞">[CVE-2017-2641]Moodle远程代码执行漏洞</a></li><li><a href="http://www.mottoin.com/94991.html" title="PentesterLab 的 Padding Oracle 漏洞靶机测试">PentesterLab 的 Padding Oracle 漏洞靶机测试</a></li><li><a href="http://www.mottoin.com/86600.html" title="利用 DNS 隧道传递数据和命令来绕过防火墙">利用 DNS 隧道传递数据和命令来绕过防火墙</a></li><li><a href="http://www.mottoin.com/93646.html" title="Splunk Enterprise &lt;= 6.4.3 服务器端请求伪造漏洞">Splunk Enterprise <= 6.4.3 服务器端请求伪造漏洞</a></li><li><a href="http://www.mottoin.com/90699.html" title="GourdScan 分布式被动扫描器 v2.0 发布">GourdScan 分布式被动扫描器 v2.0 发布</a></li><li><a href="http://www.mottoin.com/84543.html" title="redis利用姿势收集">redis利用姿势收集</a></li><li><a href="http://www.mottoin.com/94831.html" title="使用Docker构建渗透测试容器（安全相关Docker Image收集）">使用Docker构建渗透测试容器（安全相关Docker Image收集）</a></li></ul>                        </div>
                        
<div id="comments" class="entry-comments">
    	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/86643.html#respond" style="display:none;">取消回复</a></small></h3><div class="comment-form"><div class="comment-must-login">请登录后评论...</div><div class="form-submit"><div class="form-submit-text pull-left"><a href="http://www.mottoin.com/login">登录</a>后才能评论</div> <input name="submit" type="submit" id="must-submit" class="submit" value="发表"></div></div>	</div><!-- #respond -->
		</div><!-- .comments-area -->                    </div>
                </article>
                    </div>
        <aside class="sidebar">
            <div id="profile-3" class="widget widget_profile">                <div class="cover_photo"></div>
                        <div class="avatar-wrap">
                <a target="_blank" href="http://www.mottoin.com/user/seceditor/" class="avatar-link"><img src="http://gravatar.com/avatar/?s=400&d=mm" class="func-um_user gravatar avatar avatar-120 um-avatar um-avatar-gravatar" width="120" height="120" alt="Moto" /></a></div>
            <div class="profile-info">
                <p><span class="author-name">Moto</span><span class="author-title">普通用户</span></p>
                <p class="author-description"></p>
            </div>
            <div class="profile-posts">
                <h3 class="widget-title"><span>最近文章</span></h3>
                <ul>                    <li><a href="http://www.mottoin.com/101279.html" title="Windows内核漏洞发现与利用">Windows内核漏洞发现与利用</a></li>
                                    <li><a href="http://www.mottoin.com/100495.html" title="浏览器信息收集: 利用 PowerShell 无文件读取 Chrome Cookie">浏览器信息收集: 利用 PowerShell 无文件读取 Chrome Cookie</a></li>
                                    <li><a href="http://www.mottoin.com/99735.html" title="一键无文件感染技术分析">一键无文件感染技术分析</a></li>
                                    <li><a href="http://www.mottoin.com/99776.html" title="APT10：中国黑客组织攻击全球IT服务供应商">APT10：中国黑客组织攻击全球IT服务供应商</a></li>
                                    <li><a href="http://www.mottoin.com/99257.html" title="IIS 6.0 WebDAV远程代码执行（CVE-2017-7269）">IIS 6.0 WebDAV远程代码执行（CVE-2017-7269）</a></li>
                </ul>            </div>
            </div><div id="custom_html-3" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><a class="btn-post" href="/question"><i class="fa fa-edit"></i> 我要提问</a></div></div><div id="post-thumb-3" class="widget widget_post_thumb">            <ul>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105921.html" title="“黑客反击”的合法化之争">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/170918-Cox-The-Hackers-Hitting-Back-At-Cybercriminals-hero_vkcor5-480x300.gif" width="480" height="300" alt="“黑客反击”的合法化之争">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105921.html" title="“黑客反击”的合法化之争">“黑客反击”的合法化之争</a></p>
                            <p class="item-date">2017年9月20日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105917.html" title="美参议员要求电信巨头们回应SS7信令系统的安全问题">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG929-480x300.jpeg" width="480" height="300" alt="美参议员要求电信巨头们回应SS7信令系统的安全问题">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105917.html" title="美参议员要求电信巨头们回应SS7信令系统的安全问题">美参议员要求电信巨头们回应SS7信令系统的安全问题</a></p>
                            <p class="item-date">2017年9月19日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105914.html" title="美国国土安全部发布禁止使用卡巴斯基产品的明细">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG928-480x300.jpeg" width="480" height="300" alt="美国国土安全部发布禁止使用卡巴斯基产品的明细">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105914.html" title="美国国土安全部发布禁止使用卡巴斯基产品的明细">美国国土安全部发布禁止使用卡巴斯基产品的明细</a></p>
                            <p class="item-date">2017年9月19日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105885.html" title="【威胁预警】供应链攻击：CCleaner 5.33官方下载被植入恶意代码（附技术详解）">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG906-480x300.jpeg" width="480" height="300" alt="【威胁预警】供应链攻击：CCleaner 5.33官方下载被植入恶意代码（附技术详解）">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105885.html" title="【威胁预警】供应链攻击：CCleaner 5.33官方下载被植入恶意代码（附技术详解）">【威胁预警】供应链攻击：CCleaner 5.33官方下载被植入恶意代码（附技术详解）</a></p>
                            <p class="item-date">2017年9月19日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105879.html" title="全球首款网络安全概念车驶入上海滩">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/15057198871-480x300.png" width="480" height="300" alt="全球首款网络安全概念车驶入上海滩">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105879.html" title="全球首款网络安全概念车驶入上海滩">全球首款网络安全概念车驶入上海滩</a></p>
                            <p class="item-date">2017年9月18日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105872.html" title="暗网市场上开始兜售Equifax的数据，数据泄漏后常见的诈骗招数1、2、3">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG897-480x300.jpeg" width="480" height="300" alt="暗网市场上开始兜售Equifax的数据，数据泄漏后常见的诈骗招数1、2、3">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105872.html" title="暗网市场上开始兜售Equifax的数据，数据泄漏后常见的诈骗招数1、2、3">暗网市场上开始兜售Equifax的数据，数据泄漏后常见的诈骗招数1、2、3</a></p>
                            <p class="item-date">2017年9月18日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105865.html" title="美国财政部确认伊朗11个实体的恶意网络活动，宣布对它们实施制裁">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG896-480x300.jpeg" width="480" height="300" alt="美国财政部确认伊朗11个实体的恶意网络活动，宣布对它们实施制裁">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105865.html" title="美国财政部确认伊朗11个实体的恶意网络活动，宣布对它们实施制裁">美国财政部确认伊朗11个实体的恶意网络活动，宣布对它们实施制裁</a></p>
                            <p class="item-date">2017年9月18日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105858.html" title="DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG150-480x300.jpeg" width="480" height="300" alt="DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105858.html" title="DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护">DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护</a></p>
                            <p class="item-date">2017年9月17日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105847.html" title="国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG141-480x300.jpeg" width="480" height="300" alt="国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105847.html" title="国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场">国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场</a></p>
                            <p class="item-date">2017年9月16日</p>
                        </div>
                    </li>
                                    <li class="item">
                                                    <div class="item-img">
                                <a href="http://www.mottoin.com/105837.html" title="黑客组织OurMine窃取Vevo约3.12TB数据，疑似后者已妥协">
                                    <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG132-480x300.jpeg" width="480" height="300" alt="黑客组织OurMine窃取Vevo约3.12TB数据，疑似后者已妥协">                                </a>
                            </div>
                                                <div class="item-content">
                            <p class="item-title"><a href="http://www.mottoin.com/105837.html" title="黑客组织OurMine窃取Vevo约3.12TB数据，疑似后者已妥协">黑客组织OurMine窃取Vevo约3.12TB数据，疑似后者已妥协</a></p>
                            <p class="item-date">2017年9月16日</p>
                        </div>
                    </li>
                            </ul>
        </div><div id="lastest-products-4" class="widget widget_lastest_products">            <ul class="p-list clearfix">
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105921.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/170918-Cox-The-Hackers-Hitting-Back-At-Cybercriminals-hero_vkcor5-480x300.gif" width="480" height="300" alt="“黑客反击”的合法化之争">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105921.html" title="“黑客反击”的合法化之争">
                                    “黑客反击”的合法化之争                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105858.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG150-480x300.jpeg" width="480" height="300" alt="DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105858.html" title="DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护">
                                    DHS称美国政府不能正确评估 WannaCry 和NotPetya的影响，对企业缺乏适当的保护                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105847.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG141-480x300.jpeg" width="480" height="300" alt="国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105847.html" title="国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场">
                                    国家网络安全周开幕 大安全时代360前沿“黑科技”震撼登场                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105799.html">
                                <img width="480" height="300" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" class="attachment-post-thumbnail size-post-thumbnail j-lazy wp-post-image" alt="暗网系列之：“入店行窃者”的工具、战术和克星" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/15054708381-150x150-480x300.png" />                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105799.html" title="暗网系列之：“入店行窃者”的工具、战术和克星">
                                    暗网系列之：“入店行窃者”的工具、战术和克星                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105703.html">
                                <img width="480" height="300" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" class="attachment-post-thumbnail size-post-thumbnail j-lazy wp-post-image" alt="【现场还原】补天漏洞情报发布会记事" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG82-150x150-480x300.jpeg" />                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105703.html" title="【现场还原】补天漏洞情报发布会记事">
                                    【现场还原】补天漏洞情报发布会记事                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105692.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG75-480x300.jpeg" width="480" height="300" alt="SyScan360看点回顾：中美德俄等七国黑客专家神技大比拼">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105692.html" title="SyScan360看点回顾：中美德俄等七国黑客专家神技大比拼">
                                    SyScan360看点回顾：中美德俄等七国黑客专家神技大比拼                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105642.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG58-480x300.jpeg" width="480" height="300" alt="大安全时代序幕开启！ 中国互联网安全大会重新定义网络安全">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105642.html" title="大安全时代序幕开启！ 中国互联网安全大会重新定义网络安全">
                                    大安全时代序幕开启！ 中国互联网安全大会重新定义网络安全                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105621.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG512-480x300.jpeg" width="480" height="300" alt="【重磅推出】ISC大会补天漏洞情报服务发布会：英雄，你准备好了吗？">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105621.html" title="【重磅推出】ISC大会补天漏洞情报服务发布会：英雄，你准备好了吗？">
                                    【重磅推出】ISC大会补天漏洞情报服务发布会：英雄，你准备好了吗？                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105629.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG49-480x300.jpeg" width="480" height="300" alt="ISC直击：360守护者计划登陆ISC 最强白帽挑战黑客马拉松大奖赛">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105629.html" title="ISC直击：360守护者计划登陆ISC 最强白帽挑战黑客马拉松大奖赛">
                                    ISC直击：360守护者计划登陆ISC 最强白帽挑战黑客马拉松大奖赛                                </a>
                            </h4>
                        </div>
                    </li>
                                    <li class="col-xs-12 col-md-6 p-item">
                        <div class="p-item-wrap">
                            <a class="thumb" href="http://www.mottoin.com/105603.html">
                                <img class="j-lazy" src="http://www.mottoin.com/wp-content/themes/JustNews/themer/assets/images/lazy.png" data-original="http://www.mottoin.com/wp-content/uploads/2017/09/WechatIMG42-480x300.jpeg" width="480" height="300" alt="【ISC2017精彩剪辑】周鸿祎：大安全时代 网络空间防御刻不容缓">                            </a>
                            <h4 class="title">
                                <a href="http://www.mottoin.com/105603.html" title="【ISC2017精彩剪辑】周鸿祎：大安全时代 网络空间防御刻不容缓">
                                    【ISC2017精彩剪辑】周鸿祎：大安全时代 网络空间防御刻不容缓                                </a>
                            </h4>
                        </div>
                    </li>
                            </ul>
        </div>        </aside>
    </div>
<div class="modal" id="login-modal">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">请登录</h4>
            </div>
            <div class="modal-body login-modal-body">
                <p>您还未登录，请登录后再进行相关操作！</p>
                <div class="login-btn">
                    <a class="btn btn-login" href="http://www.mottoin.com/login">登 录</a>
                    <a class="btn btn-register" href="http://www.mottoin.com/register">注 册</a>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<footer class="footer">
    <div class="container">
        <div class="clearfix">
                        <div class="footer-col footer-col-logo">
                <img src="http://www.mottoin.com/img/mottoin/tmxk.png" alt="MottoIN">
            </div>
                        <div class="footer-col footer-col-copy">
                <ul class="footer-nav hidden-xs"><li id="menu-item-104182" class="menu-item menu-item-104182"><a href="http://www.mottoin.com/about">关于我们</a></li>
<li id="menu-item-104181" class="menu-item menu-item-104181"><a href="http://www.mottoin.com/dis">免责声明</a></li>
<li id="menu-item-104183" class="menu-item menu-item-104183"><a href="http://www.mottoin.com/joinus">加入我们</a></li>
<li id="menu-item-105509" class="menu-item menu-item-105509"><a href="http://www.mottoin.com/contact">联系我们</a></li>
<li id="menu-item-104184" class="menu-item menu-item-104184"><a href="http://www.mottoin.com/report">寻求报道</a></li>
<li id="menu-item-104185" class="menu-item menu-item-104185"><a href="http://www.mottoin.com/contribute">我要投稿</a></li>
</ul>                <div class="copyright">
                    Copyright © 2017 MottoIN 版权所有 <a href="http://www.miibeian.gov.cn/">沪ICP备16010654号-5</a>  <img class="alignnone " src="http://www.mottoin.com/img/mottoin/ga.png" width="16" height="16" /> <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010402001331">沪公网安备31010402001331号</a>                 </div>
            </div>
            <div class="footer-col footer-col-sns">
                <div class="footer-sns">
                                                                                    <a class="sns-wx" href="javascript:;">
                            <i class="fa fa-weixin"></i>
                            <span style="background-image:url(http://www.mottoin.com/img/mottoin/weixin.jpg);"></span>
                        </a>
                                                                <a target="_blank" href="http://weibo.com/mottoin" rel="nofollow"><i class="fa fa-weibo"></i></a>
                                                                <a target="_blank" href="http://weibo.com/mottoin" rel="nofollow"><i class="fa fa-tencent-weibo"></i></a>
                                                                                                                                                                                </div>
            </div>
        </div>
    </div>
</footer>
<div class="action" style="top:50%;">
            <div class="a-box contact">
            <div class="contact-wrap">
                <h3 class="contact-title">联系我们</h3>
                <h4 style="text-align: center;"><span style="color: #2d6ded;"><strong>021-62666911</strong></span></h4>
<p>在线咨询：<a href="http://wpa.qq.com/msgrd?uin=19539638" target="_blank" rel="noopener"><img class="alignnone" title="点击这里给我发消息" src="http://wpa.qq.com/pa?p=2:1666839010:51" alt="点击这里给我发消息" border="0" /></a></p>
<p>邮件：root@mottoin.com</p>
<p>工作时间：周一至周五，9:30-18:30，节假日休息</p>
            </div>
        </div>
                <div class="a-box wechat">
            <div class="wechat-wrap">
                <img src="http://www.mottoin.com/img/mottoin/weixin.jpg" alt="QR code">
            </div>
        </div>
            <div class="a-box gotop" id="j-top" style="display: none;"></div>
</div>
<style>.footer{padding-bottom: 35px;}</style><div id="um_upload_single" style="display:none">
	
</div><div id="um_view_photo" style="display:none">

	<a href="#" data-action="um_remove_modal" class="um-modal-close"><i class="um-faicon-times"></i></a>
	
	<div class="um-modal-body photo">
	
		<div class="um-modal-photo">

		</div>

	</div>
	
</div><script type='text/javascript'>
/* <![CDATA[ */
var _wpcom_js = {"ajaxurl":"http:\/\/www.mottoin.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.mottoin.com/wp-content/themes/JustNews/js/main.js?ver=2.3.2'></script>
<script type='text/javascript' src='http://www.mottoin.com/wp-includes/js/comment-reply.min.js?ver=4.8.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpcom_qa_js = {"ajaxurl":"http:\/\/www.mottoin.com\/wp-admin\/admin-ajax.php","ajaxloading":"http:\/\/www.mottoin.com\/wp-content\/plugins\/wpcom-qa\/images\/loading.gif"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.mottoin.com/wp-content/plugins/wpcom-qa/js/scripts.min.js?ver=1.0'></script>
<script type='text/javascript' src='http://www.mottoin.com/wp-includes/js/imagesloaded.min.js?ver=3.2.0'></script>
<script type='text/javascript' src='http://www.mottoin.com/wp-includes/js/masonry.min.js?ver=3.3.2'></script>
<script type='text/javascript' src='http://www.mottoin.com/wp-includes/js/jquery/jquery.masonry.min.js?ver=3.1.2b'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var um_scripts = {"ajaxurl":"http:\/\/www.mottoin.com\/wp-admin\/admin-ajax.php","fileupload":"http:\/\/www.mottoin.com\/wp-content\/plugins\/ultimate-member\/core\/lib\/upload\/um-file-upload.php","imageupload":"http:\/\/www.mottoin.com\/wp-content\/plugins\/ultimate-member\/core\/lib\/upload\/um-image-upload.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.mottoin.com/wp-content/plugins/ultimate-member/assets/js/um.min.js?ver=10.3.88'></script>
<script type='text/javascript' src='http://www.mottoin.com/wp-content/plugins/ultimate-member/assets/js/pickadate/translations/zh_CN.js?ver=10.3.88'></script>
<script type='text/javascript' src='http://www.mottoin.com/wp-includes/js/wp-embed.min.js?ver=4.8.1'></script>

		<script type="text/javascript">jQuery( '#request' ).val( '' );</script>

	    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","tsina","weixin","qzone","sqq","douban","fbook","twi","bdhome","tqq","tieba","mail","youdao","print"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":[{"tag" : "single", "bdSize" : 16}, {"tag" : "global","bdSize" : 16,bdPopupOffsetLeft:-227}],url:'http://www.mottoin.com/wp-content/themes/JustNews'};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://www.mottoin.com/wp-content/themes/JustNews/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</body>
</html>