<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
                              _.._        ,------------.
                           ,'      `.    ( We want you! )
                          /  __) __` \    `-,----------'
                         (  (`-`(-')  ) _.-'
                         /)  \  = /  (
                        /'    |--' .  \
                       (  ,---|  `-.)__`
                        )(  `-.,--'   _`-.
                       '/,'          (  Uu",
                        (_       ,    `/,-' )
                        `.__,  : `-'/  /`--'
                          |     `--'  |
                          `   `-._   /
                           \        (
                           /\ .      \.  freebuf
                          / |` \     ,-\
                         /  \| .)   /   \
                        ( ,'|\    ,'     :
                        | \,`.`--"/      }
                        `,'    \  |,'    /
                       / "-._   `-/      |
                       "-.   "-.,'|     ;
                      /        _/["---'""]
                     :        /  |"-     '
                     '           |      /
                                 `      |
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  技术分享：如何用Solr搭建大数据查询平台 - FreeBuf.COM | 关注黑客与极客</title>
<meta name="description" content="*原创作者：b41k3r
0&#215;00 开头照例扯淡
自从各种脱裤门事件开始层出不穷，在下就学乖了，各个地方的密码全都改成不一样的，重要帐号的密码定期更换，生怕被人社出祖宗十八代的我，甚至开始用起了假名字，我给…" />
<meta name="keywords" content="大数据, 搭建, 查询, 社工库, 数据安全" />
<meta name="baidu-site-verification" content="nKKKqQxp6R" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="renderer" content="webkit">
<meta property="qc:admins" content="6620477777662552566375" />
<link rel='stylesheet' id='wpfp-css' href='http://www.freebuf.com/buf/plugins/wp-favorite-posts/wpfp.css' type='text/css' />
<link rel='stylesheet' id='wp-recentcomments-css'  href='http://static.3001.net/css/recentcomments/wp-recentcomments.css?ver=2.2.3' type='text/css' media='screen' />
<link rel='stylesheet' id='mycred-widget-css'  href='http://www.freebuf.com/buf/plugins/gold/assets/css/widget.css?ver=1.3.2.1' type='text/css' media='all' />
<script type='text/javascript' src='http://static.3001.net/js/header/jquery.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://www.freebuf.com/buf/plugins/wp-favorite-posts/wpfp.js?ver=3.6.1'></script>
<link rel='prev' title='谷歌确认100万Gmail邮箱遭政府黑客攻击' href='http://www.freebuf.com/news/100312.html' />
<link rel='next' title='黑客入侵自来水厂，无意中修改参数竟被发现' href='http://www.freebuf.com/news/99749.html' />
<link rel='canonical' href='http://www.freebuf.com/articles/database/100423.html' />
<link rel='shortlink' href='http://www.freebuf.com/?p=100423' />

<link rel="stylesheet" href="http://static.3001.net/css/highslide/highslide.css" type="text/css" />
<script type="text/javascript" src="http://static.3001.net/js/highslide/highslide-with-html.packed.js"></script>
<script type="text/javascript">
jQuery(document).ready(function($) {
    hs.graphicsDir = "http://www.freebuf.com/buf/plugins/auto-highslide/images/graphics/";
    hs.outlineType = "rounded-white";
    hs.dimmingOpacity = 0.8;
    hs.outlineWhileAnimating = true;
    hs.showCredits = false;
    hs.captionEval = "this.thumb.alt";
    hs.numberPosition = "caption";
    hs.align = "center";
    hs.transitions = ["expand", "crossfade"];
    hs.addSlideshow({
        interval: 5000,
        repeat: true,
        useControls: true,
        fixedControls: "fit",
        overlayOptions: {
            opacity: 0.75,
            position: "bottom center",
            hideOnMouseOut: true

        }

    });
});
</script>
          <script language="JavaScript" type="text/javascript" src="http://www.freebuf.com/buf/plugins/cartpauj-pm/js/script.js"></script>
      <link rel="stylesheet" type="text/css" href="http://www.freebuf.com/buf/plugins/cartpauj-pm/style/style.css" />
      <script type="text/javascript" src="http://www.freebuf.com/buf/plugins/simditor/highlight/highlight.pack.js"></script><link type="text/css" rel="stylesheet" href=" http://www.freebuf.com/buf/plugins/simditor/highlight/styles/default.css" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<link rel="shortcut icon" href="http://static.freebuf.com/images/favicon.ico" />
<link rel="stylesheet" href="http://static.3001.net/css/new/header.css" />
<link href="http://static.3001.net/css/new/bootstrap.min.css?ver=2016051701" rel="stylesheet" media="screen">
    <!--轮播图-->
    <link href="http://static.3001.net/css/new/swiper-3.4.2.min.css" rel="stylesheet" type="text/css">
    <link href="http://static.3001.net/css/new/style.css?ver=20170912568" rel="stylesheet" type="text/css">
    <style type="text/css">
#contenttxt hr {
  display: block;
  height: 0px;
  border: 0;
  border-top: 1px solid #ccc;
  margin: 15px 0;
  padding: 0;
}
#contenttxt table {
  width: 100%;
  table-layout: fixed;
  border-collapse: collapse;
  border-spacing: 0;
  margin: 15px 0;
}
#contenttxt table thead {
  background-color: #f9f9f9;
}
#contenttxt table td, #contenttxt table th {
  min-width: 40px;
  height: 30px;
  border: 1px solid #ccc;
  vertical-align: top;
  padding: 2px 4px;
  text-align: left;
  box-sizing: border-box;
  white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;
}
#contenttxt table td.active, #contenttxt table th.active {
  background-color: #ffffee;
  white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;
}
</style>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/jquery-2.0.3.min.js"></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/bootstrap.min.js"></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/slider.js?2016022501.1" type="text/javascript"></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/jquery.sticky.js" type="text/javascript"></script>
<script src="http://static.3001.net/js/focus/bjqs-1.3.min.js" type="text/javascript" ></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/mosaic.1.0.1.min.js" type="text/javascript" ></script>
<script type="text/javascript" src="http://static.3001.net/js/new/setint.js"></script>
    <!--轮播图-->
    <script src="http://static.3001.net/js/colum/swiper-3.4.2.min.js"></script>
<!--[if lt IE 9]>
    <script src="http://www.freebuf.com/buf/themes/freebuf/js/html5shiv.min.js"></script>
    <script src="http://www.freebuf.com/buf/themes/freebuf/js/respond.min.js"></script>
<![endif]-->
    <style>
        @font-face {font-family: 'iconfont';
            src: url('http://static.3001.net/iconfont/iconfont.eot'); /* IE9*/
            src: url('http://static.3001.net/iconfont/iconfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
            url('http://static.3001.net/iconfont/iconfont.woff') format('woff'), /* chrome、firefox */
            url('http://static.3001.net/iconfont/iconfonticonfont.ttf') format('truetype'), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/
            url('http://static.3001.net/iconfont/iconfont.svg#iconfont') format('svg'); /* iOS 4.1- */
        }
    </style>
</head>

<body>
<!----------header---------->
<!--头部导航-->
<div id="undefined-sticky-wrapper" class="sticky-wrapper is-sticky">
    <div class="main-header">
        <div class="header">
            <div class="header-container clearfix">
                                <div class="header-logo"><a href="http://www.freebuf.com"></a></div>
                                        <!-- column -->
                        <div class="nav">
                            <ul class="nav-child clearfix">
                                <li class=" index">
                                    <a href="http://www.freebuf.com">首页</a></li>
                                <li data-value="read-menu">
                                    <a href="#">分类阅读<b class="triangle-down triangle-down-04"></b></a>
                                </li>
                                <li data-value="wenku-menu"><a href="javascript:;" target="_blank">文库<b class="triangle-down triangle-down-04"></b></a></li>
                                <li>
                                    <a href="http://zhuanlan.freebuf.com" target="_blank">专栏</a><b class="icon-betr"></b>
                                </li>
                                <li><a href="http://open.freebuf.com" target="_blank">公开课</a></li>
                                <li><a href="http://shop.freebuf.com" target="_blank">商城</a></li>
                                <li data-value="company-menu"><a href="javascript:;" >企业服务<b class="triangle-down triangle-down-04"></b></a></li>
                                <li data-value="user-menu"><a href="javascript:;" >用户服务<b class="triangle-down triangle-down-04"></b></a></li>
                            </ul>
                        </div>
                                        <div class="header-right">
                                    <div class="loginSign login-before">
                        <a href="https://account.tophant.com/register.html" class="login-btn">注册</a>
                        |
                        <a href="http://www.freebuf.com/oauth" class="sign-btn">登录</a>
                    </div>
                                    <!--搜索-->
                    <div class="search-form-inner clearfix">
                        <i class="searchdisplayico"></i>
                        <div class="form-group has-active search-col search-form-text">
                            <form id="hpsform-new" class="navbar-search navbar-form" onsubmit="return dispatch();">
                                <div class="form-group">
                                    <input id="bigq" class="input form-control" type="text" placeholder="关键字查找" autocomplete="off" title="关键字查找" name="q">
                                    <button class="submit" type="submit"></button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!--<script>
                        $('.search-form-inner .searchdisplayico').click(function(event) {
                            var evt = evt || event;
                            evt.stopPropagation();
                            $(this).siblings('.search-col').addClass('active');
                        });
                        $('.search-form-inner .search-col').click(function(event) {
                            var evt = evt || event;
                            evt.stopPropagation();
                            $('.search-form-inner .search-col').addClass('active');
                        });
                        $(document).click(function() {
                            $('.search-form-inner .search-col').removeClass('active');
                        });
                    </script>-->
                                    <div class="btn-publish">
                        <a href="#">投稿</a>
                        <div class="btn-publish-child">
                            <ul class="btn-child clearfix">
                                <li><a href="http://my.freebuf.com/post/edit/" target="_blank">文章撰写</a></li>
                                <li><hr/></li>
                                <li><a href="http://my.freebuf.com/post/article/" target="_blank">投稿管理</a></li>
                                                        </ul>
                        </div>
                    </div>
                </div>
                <div class="nav-small">
                    <a href="#">&#xe634;</a>
                    <ul class="nav-child clearfix">
                                                        <li class=" index">
                                    <a href="http://www.freebuf.com">首页</a></li>
                                <li class="read-classify">
                                    <a href="#">分类阅读<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2 read-classify clearfix">
                                        <li>
                                            <strong>黑客</strong>
                                            <div class="nav-item">
                                                <a href="http://www.freebuf.com/vuls" target="_blank">漏洞</a>
                                                <a href="http://www.freebuf.com/sectool" target="_blank">安全工具</a>
                                                <a href="http://www.freebuf.com/articles/web" target="_blank">WEB安全</a>
                                                <a href="http://www.freebuf.com/articles/system" target="_blank">系统安全</a>
                                                <a href="http://www.freebuf.com/articles/network" target="_blank">网络安全</a>
                                                <a href="http://www.freebuf.com/articles/wireless" target="_blank">无线安全</a>
                                                <a href="http://www.freebuf.com/articles/terminal" target="_blank">设备/客户端安全</a>
                                                <a href="http://www.freebuf.com/articles/database" target="_blank">数据库安全</a>
                                                <a href="http://www.freebuf.com/articles/security-management" target="_blank">安全管理</a>
                                                <a href="http://www.freebuf.com/articles/es" target="_blank">企业安全</a>
                                                <a href="http://www.freebuf.com/ics-articles" target="_blank">工控安全</a>
                                            </div>
                                        </li>
                                        <li>
                                            <strong>极客</strong>
                                            <div class="nav-item">
                                                <a href="http://www.freebuf.com/geek" target="_blank">极客有意思</a>
                                                <a href="http://www.freebuf.com/news/others" target="_blank">周边</a>
                                            </div>
                                        </li>
                                        <li>
                                            <strong>特色</strong>
                                            <div class="nav-item">
                                                <a href="http://www.freebuf.com/news/special" target="_blank">头条</a>
                                                <a href="http://www.freebuf.com/articles/people" target="_blank">人物志</a>
                                                <a href="http://www.freebuf.com/fevents" target="_blank">活动</a>
                                                <a href="http://www.freebuf.com/video" target="_blank">视频</a>
                                                <a href="http://www.freebuf.com/articles/neopoints" target="_blank">观点</a>
                                                <a href="http://www.freebuf.com/jobs" target="_blank">招聘</a>
                                                <a href="http://www.freebuf.com/paper/" target="_blank">报告</a>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="http://zhuanlan.freebuf.com/" target="_blank">专栏</a></li>
                                <li><a href="http://open.freebuf.com" target="_blank">公开课</a></li>
                                <li><a href="http://shop.freebuf.com" target="_blank">商城</a></li>
                                <li>
                                    <a href="javascript:;" target="_blank">企业服务<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2">
                                        <li>
                                            <a href="https://www.vulbox.com/bounties/item-9-0-1" target="_blank"><strong>企业SRC</strong></a>
                                        </li>
                                        <li>
                                            <a href="http://company.freebuf.com" target="_blank"><strong>企业空间</strong></a>
                                        </li>
                                        <li>
                                            <a href="https://www.vulbox.com/" target="_blank"><strong>安全测试</strong></a>
                                        </li>
                                        <li>
                                            <a href="https://www.riskivy.com/" target="_blank"><strong>风险感知</strong></a>
                                        </li>

                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript:;" target="_blank">用户服务<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2">
                                        <li>
                                            <a href="http://www.freebuf.com/newsend" target="_blank"><strong>有奖投稿</strong></a>
                                        </li>
                                        <li>
                                            <a href="http://zhuanlan.freebuf.com" target="_blank">
                                        </li>
                                        <li>
                                            <a href="https://www.vulbox.com/bounties/detail-72" target="_blank"><strong>提交漏洞</strong></a>
                                        </li>
                                        <li class="last">
                                            <a href="https://www.vulbox.com/bounties" target="_blank"><strong>参与众测</strong></a>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript:;" target="_blank">文库<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2">
                                        <li>
                                            <a href="http://www.freebuf.com/wenku" target="_blank"><strong>文库</strong></a>
                                        </li>
                                        <li>
                                            <a href="http://www.freebuf.com/special-subject" target="_blank"><strong>专题</strong></a>
                                        </li>
                                    </ul>
                                </li>
                                                    <li><a href="http://my.freebuf.com/post/edit" target="_blank">投稿</a></li>
                                                    <li><a href="https://account.tophant.com/register.html" class="login-btn">注册</a>
                            </li>
                            <li><a href="http://www.freebuf.com/oauth" class="sign-btn">登录</a></li>
                                            </ul>
                </div>
            </div>
            <div class="dropdown-menu read-menu" id="read-menu">
                <div class="container">
                    <ul class="menu clearfix">
                        <li>
                            <strong>黑客</strong>
                            <div class="nav-item">
                                <a href="http://www.freebuf.com/vuls" target="_blank">漏洞</a>
                                <a href="http://www.freebuf.com/sectool" target="_blank">安全工具</a>
                                <a href="http://www.freebuf.com/articles/web" target="_blank">WEB安全</a>
                                <a href="http://www.freebuf.com/articles/system" target="_blank">系统安全</a>
                                <a href="http://www.freebuf.com/articles/network" target="_blank">网络安全</a>
                                <a href="http://www.freebuf.com/articles/wireless" target="_blank">无线安全</a>
                                <a href="http://www.freebuf.com/articles/terminal" target="_blank">设备/客户端安全</a>
                                <a href="http://www.freebuf.com/articles/database" target="_blank">数据库安全</a>
                                <a href="http://www.freebuf.com/articles/security-management" target="_blank">安全管理</a>
                                <a href="http://www.freebuf.com/articles/es" target="_blank">企业安全</a>
                                <a class="last" href="http://www.freebuf.com/ics-articles" target="_blank">工控安全</a>
                            </div>
                        </li>
                        <li>
                            <strong>极客</strong>
                            <div class="nav-item">
                                <a href="http://www.freebuf.com/geek" target="_blank">极客有意思</a>
                                <a class="last" href="http://www.freebuf.com/news/others" target="_blank">周边</a>
                            </div>
                        </li>
                        <li>
                            <strong>特色</strong>
                            <div class="nav-item">
                                <a href="http://www.freebuf.com/news/special" target="_blank">头条</a>
                                <a href="http://www.freebuf.com/articles/people" target="_blank">人物志</a>
                                <a href="http://www.freebuf.com/fevents" target="_blank">活动</a>
                                <a href="http://www.freebuf.com/video" target="_blank">视频</a>
                                <a href="http://www.freebuf.com/articles/neopoints" target="_blank">观点</a>
                                <a href="http://www.freebuf.com/jobs" target="_blank">招聘</a>
                                <a class="last" href="http://www.freebuf.com/paper/" target="_blank">报告</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="dropdown-menu company-menu" id="company-menu">
                <div class="container">
                    <ul class="menu">
                        <li>
                            <a href="https://www.vulbox.com/bounties/item-9-0-1" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-src.png"></span>
                                <span class="name">企业SRC</span>
                                <span class="intro">全/半托管式互联网漏洞收集管理</span>
                            </a>
                        </li>
                        <li>
                            <a href="http://company.freebuf.com" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-company.png"></span>
                                <span class="name">企业空间</span>
                                <span class="intro">为企业定制信息安全专属门户</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.vulbox.com/" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-safety.png"></span>
                                <span class="name">安全测试</span>
                                <span class="intro">国内领先的互联网安全众测服务</span>
                            </a>
                        </li>
                        <li class="last">
                            <a href="https://www.riskivy.com/" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-risk.png"></span>
                                <span class="name">风险感知</span>
                                <span class="intro">基于IT资产的自动化安全监控</span>
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
            <div class="dropdown-menu user-menu" id="user-menu">
                <div class="container">
                    <ul class="menu">
                        <li>
                            <a href="http://www.freebuf.com/newsend" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-write.png"></span>
                                <span class="name">有奖投稿</span>
                                <span class="intro">与整个行业分享你的经验与见解</span>
                            </a>
                        </li>
                        <li>
                            <a href="http://zhuanlan.freebuf.com" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-column.png"></span>
                                <span class="name">申请专栏</span>
                                <span class="intro">自由创作，打造自主内容品牌</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.vulbox.com/bounties/detail-72" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-leak.png"></span>
                                <span class="name">提交漏洞</span>
                                <span class="intro">与数万白帽一起，让互联网更安全</span>
                            </a>
                        </li>
                        <li class="last">
                            <a href="https://www.vulbox.com/bounties" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-test.png"></span>
                                <span class="name">参与众测</span>
                                <span class="intro">挖洞开启自由职业之路</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="dropdown-menu wenku-menu" id="wenku-menu">
                <div class="container">
                    <ul class="menu">
                        <li>
                            <a href="http://www.freebuf.com/wenku" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-write.png"></span>
                                <span class="name">文库</span>
                                <span class="intro">最全的FB百科</span>
                            </a>
                        </li>
                        <li class="last">
                            <a href="http://www.freebuf.com/special-subject" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-test.png"></span>
                                <span class="name">专题</span>
                                <span class="intro">浓缩的安全精华汇总</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!----------header end---------->
<!--<script type="application/javascript">
    var  _value_tab = '';
    $(function(){
        var _that = '', _show_flag = 0;
        $('.header .header-container .nav .nav-child > li:not(input[data-value])').mouseover(function() {
            $('.header .dropdown-menu').stop().slideUp(50);
        });
        $('.header').mouseout(function() {
            $('.header .dropdown-menu').stop().slideUp(50);
        });
        /*$('.header .header-container .nav .nav-child > li').mouseover(function() {
         _value_tab = $(this).attr('data-value');
         $('#'+_value_tab).siblings('.dropdown-menu').stop().slideUp(50);
         $('#'+_value_tab).stop().slideDown(100);
         });*/
        $(".header .header-container .nav .nav-child > li").hoverDelay({
            hoverDuring: 500,
            hoverEvent: function(){
                $('#'+_value_tab).siblings('.dropdown-menu').stop().slideUp(50);
                $('#'+_value_tab).stop().slideDown(100);
            }
        });
        $('.header .dropdown-menu').mouseover(function() {
            _value_tab = $(this).attr('id');
            _that = this;
            $('.nav-child li[data-value="'+_value_tab+'"]').addClass('hover');
            $(this).stop().slideDown(50);
        }).mouseout(function() {
            $('.nav-child li[data-value="'+_value_tab+'"]').removeClass('hover');
            $(_that).stop().slideUp(50);
        });

        $(".nav-small .nav-child > li").click(function(event){
            var ev = ev || event;
            ev.stopPropagation();

            if($(this).find('.nav-child2').is(":hidden")) {
                _show_flag = 1;
                $(this).find('.nav-child2').slideDown();
                $(this).find('.icon-arrow').addClass('bottom');
            }else {
                _show_flag = 0;
                $(this).find('.nav-child2').slideUp();
                $(this).find('.icon-arrow').removeClass('bottom');
            }
            $(this).siblings().find('.nav-child2').slideUp();
            $(this).siblings().find('.icon-arrow').removeClass('bottom');
        });
        //头部投稿按钮hover状态展开菜单
        $(".btn-publish-child > ul > li").hover(function(){
            $(this).addClass("active");
            $(this).siblings().removeClass("active");
        });

        $(document).click(function(event){
            var ev = ev || event;
            $(".login-after").find(".login-after-child").hide();
        });
        //点击用户信息，出现下拉菜单
        $("#user-info").click(function(event){
            var ev = ev || event;
            ev.stopPropagation();
            $(".login-after").find(".login-after-child").toggle();
        });
        //顶部导航
        $(".nav-small").click(function(){
            $(this).find(".nav-child").slideToggle();
        });
        var that = '';
        $('.header .header-container .nav .nav-child > li').mouseover(function() {
            that = this;
            $(this).find('.dropdown-menu').stop().slideDown(200);
        }).mouseout(function() {
            $(that).find('.dropdown-menu').stop().slideUp(200);
        });
    });
    $(".nav-small .nav-child > li").click(function(event){
        var ev = ev || event;
        ev.stopPropagation();
        $(this).siblings('li').find('.dropdown-menu').hide();
        $(this).find(".dropdown-menu").toggle();
    });
    //鼠标经过(hover)事件的延时处理
    (function($){
        $.fn.hoverDelay = function(options){
            var defaults = {
                hoverDuring: 100,
                outDuring: 100,
                hoverEvent: function(){
                    $.noop();
                },
                outEvent: function(){
                    $.noop();
                }
            };
            var sets = $.extend(defaults,options || {});
            var hoverTimer, outTimer;
            return $(this).each(function(){
                $(this).hover(function(){
                    _value_tab = $(this).attr('data-value');
                    clearTimeout(outTimer);
                    hoverTimer = setTimeout(sets.hoverEvent, sets.hoverDuring);
                },function(){
                    clearTimeout(hoverTimer);
                    outTimer = setTimeout(sets.outEvent, sets.outDuring);
                });
            });
        }
    })(jQuery);
</script>-->
<script type="text/javascript" src="http://static.3001.net/js/header/header.js"></script><script>
    jQuery(window).load(function(){
      if(jQuery(window).width()>480){
        jQuery(".main-header").sticky({ topSpacing: 0 });
      }else{
        jQuery(".main-header nav").removeClass("navbar-fixed-top");
      }
      jQuery("#mar-right").sticky({ topSpacing: 105,bottomSpacing: 410 });
    });
</script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/layer.js"></script>
<script type="text/javascript" src="http://static.3001.net/js/pretty/prettify.js"></script>
<script type="text/javascript" src="http://static.3001.net/js/header/lazyload.js"></script>
<script type="text/javascript" charset="utf-8">
      jQuery(function() {
          jQuery("img").lazyload({
              effect : "fadeIn"
          });
      });
 </script>
<script type="text/javascript">
    window.onload = function(){
        prettyPrint();
    }
</script>
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var va = "您已经点亮过了";
function acv_vote(id,option, m){
  if( m==null) m =''; m = m + '';
  jQuery('#acv_stat_'+m+id).html('Loading...');
  var url="http://www.freebuf.com/index.php?acv_ajax=true&option="+option+"&ID="+id;
  jQuery.get(url,function(d){
    d =d.split('|');var s='#acv_stat_'+m+d[0];
    var sele = '#cos_support-'+m+id,unsele = '#cos_unsupport-'+m+id,tpjs = 'javascript:alert(va)';
    jQuery( s ).html( d[1] );jQuery(s).fadeOut(400,function(){jQuery(s).fadeIn();});
    if( d[2] == 1 ){ jQuery(sele).html(jQuery(sele).html()*1+1); }
    if( d[2] == -1 ){ jQuery(unsele).html(jQuery(unsele).html()*1+1); }
    jQuery('#vote4-'+id).attr('href',tpjs);jQuery('#vote4-2'+id).attr('href',tpjs);
    jQuery('#votea-'+id).attr('href',tpjs);jQuery('#votea-2'+id).attr('href',tpjs);
  });
}
  
$(document).on("mouseenter",".comment-tools",function(){
  $(this).find(".btn-report").show();
  $(this).find(".btn-report").addClass("hover");
}).on("mouseleave",".comment-tools",function(){
  var $_this = $(this);
  $(this).find(".btn-report").removeClass("hover");
  if(!$(this).find(".dropup").hasClass('open')){
    $(this).find(".btn-report").hide(); 
    $_this.find(".dropdown-menu").css("display","none");
  }else{
    setTimeout(function(){
      if(!$_this.find(".btn-report").hasClass("hover")){
        $_this.find(".dropup").removeClass("open");
        $_this.find(".dropdown-menu").css("display","none");
        $_this.find(".btn-report").hide(); 
      }
    },"500");
  }
})

$(document).on("click",".click_report",function(){
  $(this).parent().parent().css("display","none");
  var id = $(this).attr("data-id");
  var url="http://www.freebuf.com/index.php?acv_ajax=true&option=0&ID="+id;
  $_this = $(this);
  jQuery.get(url,function(d){
    d =d.split('|');
    if(d[1]=='您已经点过灯了'){
      d[1] = '您已经举报过了';
    }
    if(d[1]=='Thank you'){
      d[1] = '举报成功';
    }
    $_this.parent().parent().parent().find(".btn-report").text(d[1]);
    $_this.parent().parent().parent().find(".btn-report").css("display","block");
  })
})

$(document).on("click",".btn-report",function(){
  if($(this).parent().hasClass('open')){
    $(this).parent().find(".dropdown-menu").css("display","block");
  }else{
    $(this).parent().find(".dropdown-menu").css("display","none");
  }
})
//]]>
</script>
<div class="column-article" data-column="">
            <div class="container pad-top35">
        <div class="row clearfix">
            <div class="col-md-9" id="getWidth">
                                    <div class="reletive search-xs-wrap">
                    <div class="form-group has-active search-col search-xs">
                        <form id="hpsform-new" class="navbar-search navbar-form" onsubmit="return dispatch()">
                            <div class="form-group">
                                <input id="q" class="input form-control" type="text" placeholder="关键字查找" autocomplete="off" title="关键字查找" name="q">
                                <button class="submit" type="submit"></button>
                            </div>
                        </form>
                    </div>
                </div>
                    <script type="text/javascript">
                        var dispatch = function () {
                            console.log(123)
                            var q = document.getElementById("q");
                            if (q.value == "") {
                                q = document.getElementById("bigq");
                            }
                            if (q.value != "") {
                                window.open('http://www.freebuf.com/?s=' + q.value, "_blank");
                                return false;
                            } else {
                                return false;
                            }
                        }
                    </script>
                                <div class="article-wrap panel panel-default">
                                                            <div class="articlecontent">
                                                    <div class="title">
                                <h2>
                                    技术分享：如何用Solr搭建大数据查询平台                                </h2>
                                <div class="property">
                                                                            <span class="name"><a href="http://www.freebuf.com/author/b41k3r" title="由 b41k3r 发布" rel="author">b41k3r</a></span>
                                                                        <span class="icon-f"></span>
                                    <span class="time">2016-03-30</span>
                                                                                                                <span class="rmb"><img title="现金奖励" src="http://image.3001.net/images/new/icon-m.jpg"/></span>
                                                                        <span class="look">共<strong>644210</strong>人围观
                                        ，发现 <strong>41</strong> 个不明物体 </span>                                      </span>
                                                                <span class="tags">
                                      <a href="http://www.freebuf.com/./articles/database">数据安全</a></span>
                                    <span class="tags_01"></span>
                                </div>
                            </div>
                                                                                                <div id="contenttxt">
                            <h2 style="text-align: center;"><img data-original="http://image.3001.net/images/20160330/14593152357650.jpg!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" alt="hack.jpg" height="460" width="690"><br /><strong></strong></h2>
<noscript><img src="http://image.3001.net/images/20160330/14593152357650.jpg!small" alt="hack.jpg" height="460" width="690"><br /><strong></strong></h2></noscript>
<h3><span style="color: rgb(51, 51, 51);"><span style="color: rgb(0, 112, 192); font-size: 16px;">*原创作者：</span></span>b41k3r<br /><strong></strong></h3>
<h2><strong>0&#215;00 开头照例扯淡</strong><br /></h2>
<p>自从各种脱裤门事件开始层出不穷，在下就学乖了，各个地方的密码全都改成不一样的，重要帐号的密码定期更换，生怕被人社出祖宗十八代的我，甚至开始用起了假名字，我给自己起一新网名”兴才”，这个看起来还不错的名字，其实是我们家乡骂人土话，意思是脑残人士…. -_-|||额好吧，反正是假的，不要在意这些细节。</p>
<p>这只是名，至于姓氏么，每个帐号的注册资料那里，照着百家姓上赵钱孙李周吴郑王的依次往下排，什么张兴才、李兴才、王兴才……于是也不知道我这样”兴才”了多久，终于有一天，我接到一个陌生电话：您好，请问是马兴才先生吗?</p>
<p>好么，该来的终于还是来了，于是按名索骥，得知某某网站我用了这个名字，然后通过各种途径找，果然，那破站被脱裤子了。<br />果断Down了那个裤子，然后就一发不可收拾，走上了收藏裤子的不归路，直到有一天，我发现收藏已经非常丰富了，粗略估计得好几十亿条数据，拍脑袋一想，这不能光收藏啊，我也搭个社工库用吧……</p>
<h2><strong>0&#215;01 介绍</strong><br /></h2>
<p>社工库怎么搭呢，这种海量数据的东西，并不是简单的用mysql建个库，然后做个php查询<font color="#00b050">select * from sgk where username like ‘%xxxxx%’</font>这样就能完事的，也不是某些幼稚骚年想的随便找个4g内存，amd双核的破电脑就可以带起来的，上面这样的语句和系统配置，真要用于社工库查询，查一条记录恐怕得半小时。好在这个问题早就被一种叫做全文搜索引擎的东西解决了，更好的消息是，全文搜索引擎大部分都是开源的，不需要花钱。</p>
<p>目前网上已经搭建好的社工库，大部分是mysql+coreseek+php架构，coreseek基于sphinx，是一款优秀的全文搜索引擎，但缺点是比较轻量级，一旦数据量过数亿，就会有些力不从心，并且搭建集群做分布式性能并不理想，如果要考虑以后数据量越来越大的情况，还是得用其他方案，为此我使用了solr。</p>
<p>Solr的基础是著名的Lucene框架，基于java，通过jdbc接口可以导入各种数据库和各种格式的数据，非常适合开发企业级的海量数据搜索平台，并且提供完善的solr cloud集群功能，更重要的是，solr的数据查询完全基于http，可以通过简单的post参数，返回json,xml,php,python,ruby,csv等多种格式。</p>
<p>以前的solr，本质上是一组servlet，必须放进Tomcat才能运行，从solr5开始，它已经自带了jetty，配置的好，完全可以独立使用，并且应付大量并发请求，具体的架构我们后面会讲到，现在先来进行solr的安装配置。</p>
<h2><strong>0&#215;02 安装和配置</strong><br /></h2>
<p>以下是我整个搭建和测试过程所用的硬件和软件平台，本文所有内容均在此平台上完成：<font color="#00b050"><br /></font></p>
<p><font color="#00b050">软件配置: solr5.5,mysql5.7,jdk8,Tomcat8&nbsp; Windows10/Ubuntu14.04 LTS</font></p>
<p><font color="#00b050">硬件配置: i7 4770k,16G DDR3,2T西数黑盘</font></p>
<h3><strong>2.1 &nbsp;mysql数据库</strong><br /></h3>
<p>Mysql数据库的安装和配置我这里不再赘述，只提一点，对于社工库这种查询任务远远多于插入和更新的应用来说，最好还是使用MyISAM引擎。<br />搭建好数据库后，新建一个库，名为newsgk，然后创建一个表命名为b41sgk,结构如下：</p>
<blockquote><p><font color="#00b050">id&nbsp;</font> <font color="#0070c0">bigint </font>主键 自动增长<font color="#00b050"><br /></font></p>
<p><font color="#00b050">username</font> <font color="#ef4747"><font color="#0070c0">varchar</font> </font>用户名<font color="#00b050"><br /></font></p>
<p><font color="#00b050">email</font><font color="#ef4747"> <font color="#0070c0">varchar</font></font> 邮箱<font color="#00b050"><br /></font></p>
<p><font color="#00b050">password</font> <font color="#0070c0">varchar</font> 密码<font color="#00b050"><br /></font></p>
<p><font color="#00b050">salt</font> <font color="#0070c0">varchar </font>密码中的盐或者第二密码<font color="#00b050"><br /></font></p>
<p><font color="#00b050">ip</font> <font color="#0070c0">varchar</font>&nbsp; ip、住址、电话等其他资料<font color="#00b050"><br /></font></p>
<p><font color="#00b050">site</font> <font color="#0070c0">varchar</font> 数据库的来源站点</p>
</blockquote>
<p>接下来就是把收集的各种裤子全部导入这个表了，这里推荐使用navicat，它可以支持各种格式的导入，具体过程相当的枯燥乏味,需要很多的耐心，这里就不再废话了，列位看官自己去搞就是了，目前我初步导入的数据量大约是10亿条。</p>
<h3><strong>2.2 Solr的搭建和配置</strong><br /></h3>
<p>首先下载solr：</p>
<pre><code>$ wget <a href="http://mirrors.hust.edu.cn/apache/lucene/solr/5.5.0/solr-5.5.0.tgz">http://mirrors.hust.edu.cn/apache/lucene/solr/5.5.0/solr-5.5.0.tgz</a><br /></code></pre>
<p>解压缩：</p>
<pre><code>$ tar zxvf solr-5.5.0.tgz<br /></code></pre>
<p>安装jdk8：</p>
<pre><code>$ sudo add-apt-repository ppa:webupd8team/java<br />$ sudo apt-get update<br />$ sudo apt-get install oracle-java8-installer<br />$ sudo apt-get install oracle-java8-set-default<br /></code></pre>
<p>因为是java跨平台的，Windows下和linux下solr是同一个压缩包，windows下jdk的安装这里不再说明。</p>
<p>进入解压缩后的solr文件夹的bin目录，solr.cmd和solr分别是windows和linux下的启动脚本：</p>
<p style="text-align: center;"><img alt="1.PNG" data-original="http://image.3001.net/images/20160330/14593103105473.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="149" width="646"></p>
<noscript><img alt="1.PNG" src="http://image.3001.net/images/20160330/14593103105473.png!small" height="149" width="646"></p></noscript>
<p>因为社工库是海量大数据，而jvm默认只使用512m的内存，这远远不够，所以我们需要修改，打开solr.in.sh文件，找到这一行：</p>
<p><font color="#00b050">SOLR_HEAP=&#8221;512m&#8221;</font></p>
<p>依据你的数据量，把它修改成更高，我这里改成4G，改完保存. 在windows下略有不同，需要修改solr.in.cmd文件中的这一行：</p>
<p><font color="#00b050">set SOLR_JAVA_MEM=-Xms512m -Xmx512m</font></p>
<p>同样把两个512m都修改成4G。</p>
<p>Solr的启动，重启和停止命令分别是：</p>
<pre><code>$ ./solr start<br />$ ./solr restart –p 8983<br />$ ./solr stop –all<br /></code></pre>
<p style="text-align: center;"><img alt="2.png" data-original="http://image.3001.net/images/20160330/14593103857646.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="463" width="690"></p>
<noscript><img alt="2.png" src="http://image.3001.net/images/20160330/14593103857646.png!small" height="463" width="690"></p></noscript>
<p>在linux下还可以通过install_solr_service.sh脚本把solr安装为服务，开机后台自动运行。</p>
<p>Solr安装完成，现在我们需要从mysql导入数据，导入前，我们需要先创建一个core，core是solr的特有概念，每个core是一个查询、数据,、索引等的集合体，你可以把它想象成一个独立数据库，我们创建一个新core：</p>
<p>在solr-5.5.0/server/solr子目录下面建立一个新文件夹，命名为solr_mysql，这个是core的名称，在下面创建两个子目录conf和data，把solr-5.5.0/solr-5.5.0/example/example-DIH/solr/db/conf下面的所有文件全部拷贝到我们创建的conf目录中.接下来的配置主要涉及到三个文件， solrconfig.xml， schema.xml和db-data-config.xml。</p>
<p>首先打开db-data-config.xml，修改为以下内容：</p>
<pre><code>&lt;dataConfig&gt;<br />&nbsp; &lt;dataSource name="sgk" type="JdbcDataSource" driver="com.mysql.jdbc.Driver" url="jdbc:mysql://127.0.0.1:3306/newsgk" user="root" password="password" batchSize="-1" /&gt;<br />&nbsp; &lt;document name="mysgk"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;entity name="b41sgk" pk="id" query="select * from b41sgk"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="id" name="id"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="username" name="username"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="email" name="email"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="password" name="password"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="salt" name="salt"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="ip" name="ip"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="site" name="site"/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/entity&gt;<br />&nbsp; &lt;/document&gt;<br />&lt;/dataConfig&gt;<br /></code></pre>
<p>这个文件是负责配置导入数据源的，请按照mysql实际的设置修改datasource的内容，下面entity的内容必须严格按照mysql中社工库表的结构填写，列名要和数据库中的完全一样。</p>
<p>然后打开solrconfig.xml，先找到这一段：</p>
<pre><code>&nbsp; &lt;schemaFactory class="ManagedIndexSchemaFactory"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;bool name="mutable"&gt;true&lt;/bool&gt;<br />&nbsp;&nbsp;&nbsp; &lt;str name="managedSchemaResourceName"&gt;managed-schema&lt;/str&gt;<br />&nbsp; &lt;/schemaFactory&gt;<br /></code></pre>
<p>把它全部注释掉，加上一行，改成这样：</p>
<pre><code>&nbsp; &lt;!-- &lt;schemaFactory class="ManagedIndexSchemaFactory"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;bool name="mutable"&gt;true&lt;/bool&gt;<br />&nbsp;&nbsp;&nbsp; &lt;str name="managedSchemaResourceName"&gt;managed-schema&lt;/str&gt;<br />&nbsp; &lt;/schemaFactory&gt;--&gt;<br />&nbsp; &lt;schemaFactory class="ClassicIndexSchemaFactory"/&gt;<br /></code></pre>
<p>这是因为solr5 以上默认使用managed-schema管理schema，需要更改为可以手动修改。</p>
<p>然后我们还需要关闭suggest，它提供搜索智能提示，在社工库中我们用不到这样的功能，重要的是，suggest会严重的拖慢solr的启动速度,在十几亿数据的情况下，开启suggest可能会导致solr启动加载core长达几个小时! </p>
<p>同样在solrconfig.xml中，找到这一段：</p>
<pre><code><p>&nbsp; &lt;searchComponent name="suggest" class="solr.SuggestComponent"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;lst name="suggester"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="name"&gt;mySuggester&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="lookupImpl"&gt;FuzzyLookupFactory&lt;/str&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- org.apache.solr.spelling.suggest.fst --&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="dictionaryImpl"&gt;DocumentDictionaryFactory&lt;/str&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- org.apache.solr.spelling.suggest.HighFrequencyDictionaryFactory --&gt; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="field"&gt;cat&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="weightField"&gt;price&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="suggestAnalyzerFieldType"&gt;string&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/lst&gt;<br />&nbsp; &lt;/searchComponent&gt;</p><p>&nbsp; &lt;requestHandler name="/suggest" class="solr.SearchHandler" startup="lazy"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;lst name="defaults"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="suggest"&gt;true&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str name="suggest.count"&gt;10&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/lst&gt;<br />&nbsp;&nbsp;&nbsp; &lt;arr name="components"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;str&gt;suggest&lt;/str&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/arr&gt;<br />&nbsp; &lt;/requestHandler&gt;<br /></p></code></pre>
<p>把这些全部删除，然后保存solrconfig.xml文件。</p>
<p>接下来把managed-schema拷贝一份，重命名为schema.xml (原文件不要删除)，打开并找到以下位置：</p>
<p style="text-align: center;"><img alt="3.png" data-original="http://image.3001.net/images/20160330/14593106312526.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="344" width="690"></p>
<noscript><img alt="3.png" src="http://image.3001.net/images/20160330/14593106312526.png!small" height="344" width="690"></p></noscript>
<p>只保留_version_和_root_节点，然后把所有的field，dynamicField和copyField全部删除，添加以下的部分：</p>
<pre><code>&nbsp;&nbsp; &lt;field name="id" type="int" indexed="true" stored="true" required="true" multiValued="false" /&gt;&nbsp; <br />&nbsp;&nbsp; &lt;field name="username" type="text_ik" indexed="true" stored="true"/&gt;<br />&nbsp;&nbsp; &lt;field name="email" type="text_ik" indexed="true" stored="true"/&gt;<br />&nbsp;&nbsp; &lt;field name="password" type="text_general" indexed="true" stored="true"/&gt;<br />&nbsp;&nbsp; &lt;field name="salt" type="text_general" indexed="true" stored="true"/&gt;<br />&nbsp;&nbsp; &lt;field name="ip" type="text_general" indexed="true" stored="true"/&gt;<br />&nbsp;&nbsp; &lt;field name="site" type="text_general" indexed="true" stored="true"/&gt;<br />&nbsp;&nbsp; &lt;field name="keyword" type="text_ik" indexed="true" stored="false" multiValued="true"/&gt;<br />&nbsp;&nbsp; <br />&nbsp;&nbsp; &lt;copyField source="username" dest="keyword"/&gt;<br />&nbsp;&nbsp; &lt;copyField source="email" dest="keyword"/&gt;<br />&nbsp;&nbsp; &lt;uniqueKey&gt;id&lt;/uniqueKey&gt;<br /></code></pre>
<p>这里的uniqueKey是配置文件中原有的，用来指定索引字段，必须保留。新建了一个字段名为keyword，它的用途是联合查询，即当需要同时以多个字段做关键字查询时，可以用这一个字段名代替，增加查询效率，下面的copyField即用来指定复制哪些字段到keyword。注意keyword这样的字段，后面的multiValued属性必须为true。</p>
<p>username和email以及keyword这三个字段，用来检索查询关键字，它们的类型我们指定为text_ik，这是一个我们创造的类型，因为solr虽然内置中文分词，但效果并不好，我们需要添加IKAnalyzer中文分词引擎来查询中文。在<a href="https://github.com/EugenePig/ik-analyzer-solr5">https://github.com/EugenePig/ik-analyzer-solr5</a>下载IKAnalyzer for solr5的源码包，然后使用Maven编译，得到一个文件IKAnalyzer-5.0.jar，把它放入solr-5.5.0/server/solr-webapp/webapp/WEB-INF/lib目录中，然后在solrconfig.xml的fieldType部分加入以下内容：</p>
<pre><code>&nbsp;&nbsp;&nbsp; &lt;fieldType name="text_ik" class="solr.TextField"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;analyzer type="index" useSmart="false" class="org.wltea.analyzer.lucene.IKAnalyzer"/&gt;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;analyzer type="query" useSmart="true" class="org.wltea.analyzer.lucene.IKAnalyzer"/&gt;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &lt;/fieldType&gt;<br /></code></pre>
<p>保存后，core的配置就算完成了，不过要导入mysql数据，我们还需要在mysql网站上下载mysql-connector-java-bin.jar库文件，连同solr-5.5.0/dist目录下面的solr-dataimporthandler-5.5.0.jar，solr-dataimporthandler-extras-5.5.0.jar两个文件，全部拷贝到solr-5.5.0/server/solr-webapp/webapp/WEB-INF/lib目录中，然后重启solr，就可以开始数据导入工作了。</p>
<h3><strong>2.3 数据导入</strong></h3>
<p>确保以上配置完全正确且solr已经运行，打开浏览器，访问<font color="#00b050"><a href="http://localhost:8983/solr/#/">http://localhost:8983/solr/#/</a></font> ，进入solr的管理页面，点击左侧Core Admin,然后Add Core：</p>
<p style="text-align: center;"><img alt="4.png" data-original="http://image.3001.net/images/20160330/14593107313912.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="504" width="622"></p>
<noscript><img alt="4.png" src="http://image.3001.net/images/20160330/14593107313912.png!small" height="504" width="622"></p></noscript>
<p>name和instanceDir都填写前面我们命名的core名称solr_mysql，点击add core后，稍等片刻，core就建立完成了。此时在左边的下拉菜单选择创建的core，然后进一步选择Dataimport项，按照如下设置：</p>
<p style="text-align: center;"><img alt="5.png" data-original="http://image.3001.net/images/20160330/14593107856663.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="364" width="690"></p>
<noscript><img alt="5.png" src="http://image.3001.net/images/20160330/14593107856663.png!small" height="364" width="690"></p></noscript>
<p></p>
<p>点击Execute，就会开始从mysql导入数据，选中Auto-Refresh Status会自动刷新进度，接下来就是漫长的等待……</p>
<p>导入完成后，我们就可以开始查询了，solr的查询全部使用post参数，比如：<font color="#00b050"><a href="http://localhost:8983/solr/solr_mysql/select?q=keyword:12345678&amp;start=10&amp;rows=100&amp;wt=json&amp;indent=true"><br /></a></font></p>
<p><font color="#00b050"><a href="http://localhost:8983/solr/solr_mysql/select?q=keyword:12345678&amp;start=10&amp;rows=100&amp;wt=json&amp;indent=true">http://localhost:8983/solr/solr_mysql/select?q=keyword:12345678&amp;start=10&amp;rows=100&amp;wt=json&amp;indent=true</a></font></p>
<p>因为前面已经建立了复合字段keyword，所以这里我们直接用keyword:12345678会自动查找username和email中包含12345678的所有结果，start=10&amp;rows=100指定查询结果返回第11行到第110行的内容，因为solr采用的是分页查询，wt=json指定查询结果是json格式的,还可以是xml、php、python、ruby以及csv。</p>
<p style="text-align: center;"><img alt="6.PNG" data-original="http://image.3001.net/images/20160330/14593108273410.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="576" width="690"></p>
<noscript><img alt="6.PNG" src="http://image.3001.net/images/20160330/14593108273410.png!small" height="576" width="690"></p></noscript>
<p>上图返回结果中的numfound：111892代表一共返回的结果数，不指定 start和rows的情况下默认只显示前十个结果。还需要注意IKAnalyzer引擎的几个问题，在以纯数字或者纯字母关键字查询时，IKAnalyzer会返回正确的结果，但在查询数字字母混合关键字时，需要在后面加*号，查询汉字时.默认会进行分词，即把一段关键字分成几个词查询，而社工库必须精确查询，所以汉字查询必须给关键字加双引号。</p>
<p>到这一步，如果只是搭建一个本地库，供自己使用，那么我们接下来只需写一个查询程序，post关键字，然后显示返回的结果即可，比如这样：</p>
<p style="text-align: center;"><img alt="7.PNG" data-original="http://image.3001.net/images/20160330/14593108688746.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="413" width="690"></p>
<noscript><img alt="7.PNG" src="http://image.3001.net/images/20160330/14593108688746.png!small" height="413" width="690"></p></noscript>
<p>秒查，速度非常快，但如果要架设成服务器，提供给其他人使用，我们还有很多工作要做。</p>
<h2><strong>0&#215;03 服务器架构和数据增量更新</strong><br /></h2>
<p>尽管solr现在已经自带了jetty，jetty并不弱于tomcat，且没有后者那么臃肿，但是很多人在构建web应用时还是喜欢用以前的习惯，把solr整合进tomcat，然后和后台程序一锅乱炖，坦白说，在下并不喜欢这样的架构，对于大数据应用来说，各个功能组件各自独立，互相配合远比大杂烩要有效率和易于维护的多，所以，我理想中的社工库查询服务器，应该是以下的架构：</p>
<p style="text-align: center;"><img alt="8.png" data-original="http://image.3001.net/images/20160330/14593108998586.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" height="560" width="555"></p>
<noscript><img alt="8.png" src="http://image.3001.net/images/20160330/14593108998586.png!small" height="560" width="555"></p></noscript>
<p>以上架构中，mysql只负责存储整理好的数据，并不提供查询服务，整理和导入新数据库时，只需操作mysql，solr利用自带的jetty独立运行,定期从mysql导入增量更新的数据，Tomcat作为应用服务器，运行提供查询的servlet应用，此应用通过http向solr post数据并获取结果，返回给前端页面，相互独立又相辅相成。</p>
<p>并且，solr并不依赖于mysql，它本身就是数据库可以独立运行，而社工库这种东西，并不是经常有新数据的，获取新数据的间隔可能很长，所以上面的定时增量更新可以改为手动增量更新，没有新数据时mysql完全可以关闭以节约资源。</p>
<p>那么我们先开始着手增量更新的设置，我们现在已有的数据表b41sgk并不动，在此基础上建立一个和b41sgk结构基本相同的表b41new，不同之处是增加了一个字段updatetime，用来自动存储添加数据的时间，以后的新数据全写入这个表，b41sgk不再做更新：</p>
<p><font color="#00b050">CREATE TABLE b41new (</font></p>
<p><font color="#00b050">id bigint NOT NULL auto_increment,</font></p>
<p><font color="#00b050">username varchar(255),</font></p>
<p><font color="#00b050">email varchar(255),</font></p>
<p><font color="#00b050">password varchar(255),</font></p>
<p><font color="#00b050">salt varchar(255),</font></p>
<p><font color="#00b050">ip varchar(255),</font></p>
<p><font color="#00b050">site varchar(255),</font></p>
<p><font color="#00b050">updatetime timestamp NOT NULL ON UPDATE CURRENT_TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</font></p>
<p><font color="#00b050">PRIMARY KEY (&#8216;id&#8217;)</font></p>
<p><font color="#00b050">)</font></p>
<p>用和前面同样的步骤建立一个core命名为solr_newsgk，在db-data-config.xml中做如下设置：</p>
<pre><code>&lt;dataConfig&gt;<br />&nbsp; &lt;dataSource name="sgk" type="JdbcDataSource" driver="com.mysql.jdbc.Driver" url="jdbc:mysql://127.0.0.1:3306/newsgk" user="root" password="password" batchSize="-1" /&gt;<br />&nbsp; &lt;document name="mysgk"&gt;<br />&nbsp;&nbsp;&nbsp; &lt;entity name="b41new" pk="id" query="select * from b41new" <br />&nbsp;&nbsp;&nbsp;&nbsp; deltaQuery="select id from b41new where updatetime &gt; '${dataimporter.last_index_time}'"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp; deltaImportQuery="select * from b41new where id='${dataimporter.delta.id}'"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="id" name="id"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="username" name="username"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="email" name="email"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="password" name="password"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="salt" name="salt"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="ip" name="ip"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;field column="site" name="site"/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;/entity&gt;<br />&nbsp; &lt;/document&gt;<br />&lt;/dataConfig&gt;<br /></code></pre>
<p>last_index_time和delta.id是两个自动变化的参数，分别记录最后一次导入数据的时间和已导入的最大id值，存储于当前core的conf目录下dataimporter.properties文件中，以上设置保存后,提交如下链接：</p>
<p><font color="#00b050"><a href="http://localhost:8983/solr/solr_newsgk/dataimport?command=delta-import&amp;clean=false&amp;commit=true">http://localhost:8983/solr/solr_newsgk/dataimport?command=delta-import&amp;clean=false&amp;commit=true</a></font></p>
<p>如果此时数据表b41new中已经添加了新数据，就会自动增量同步到solr中，如果要每天定时自动增量更新，执行：</p>
<pre><code>$ crontab –e<br /></code></pre>
<p>增加一条：</p>
<pre><code><p>0 0 * * * curl –s "<a href="http://localhost:8983/solr/solr_newsgk/dataimport?command=delta-import&amp;clean=false&amp;commit=true">http://localhost:8983/solr/solr_newsgk/dataimport?command=delta-import&amp;clean=false&amp;commit=true</a>"<br /></p></code></pre>
<p>保存后执行：</p>
<pre><code>$ sudo service cron restart<br /></code></pre>
<p>Solr就会在每天的零时自动增量导入数据，如果是windows系统，可以利用powershell和计划任务达到同样的目的。</p>
<p>现在我们的服务器搭建还剩下最后一件事：既然现在我们准备把solr查询提供给别人用，那么问题来了，我们只希望别人通过tomcat里的servlet查询,而不希望直接调用solr，我们需要屏蔽外部查询：</p>
<pre><code>$ sudo iptables -I INPUT -p tcp --dport 8983 -j DROP<br />$ sudo iptables -I INPUT -s 127.0.0.1 -p tcp --dport 8983 -j ACCEPT<br /></code></pre>
<p>如果把solr和tomcat放在不同的服务器，只需把127.0.0.1改成tomcat服务器的ip地址。接下来保存：</p>
<pre><code>$ sudo su<br /># iptables-save &gt; /etc/iptables.up.rules<br /></code></pre>
<p>编辑/etc/network/interfaces，加入下面这行：</p>
<p><font color="#00b050">pre-up iptables-restore &lt; /etc/iptables.up.rules</font></p>
<h2><strong>0&#215;04 编写查询应用</strong></h2>
<p>Solr除了可以通过http post数据来查询之外，还提供了一套完整的api solrj，其实solrj底层还是通过http访问的，但如果你是用java开发，使用它会比直接http访问方便的多。</p>
<p>我们启动eclipse，配置好和tomcat的连接，新建一个项目sgk，在构建路径中添加solr-5.5.0/dist/solrj-lib下的全部jar包，然后添加solr-5.5.0/server/lib/ext中的log4j-1.2.17.jar，slf4j-api-1.7.7.jar，slf4j-log4j12-1.7.7.jar三个包。</p>
<p>在web.xml中添加如下设置：</p>
<pre><code>&lt;context-param&gt;<br />&nbsp;&nbsp;&nbsp; &lt;param-name&gt;solraddr&lt;/param-name&gt;<br />&nbsp;&nbsp;&nbsp; &lt;param-value&gt;http://localhost:8983/solr/solr_mysql&lt;/param-value&gt;<br />&nbsp; &lt;/context-param&gt;<br />&nbsp; &lt;context-param&gt;<br />&nbsp;&nbsp;&nbsp; &lt;param-name&gt;shards&lt;/param-name&gt;<br />&lt;param-value&gt;localhost:8983/solr/solr_newsgk,localhost:8983/solr/solr_mysql&lt;/param-value&gt;<br />&nbsp; &lt;/context-param&gt;<br />&nbsp; &lt;servlet&gt;<br />&nbsp; &lt;servlet-name&gt;sgk&lt;/servlet-name&gt;<br />&nbsp; &lt;servlet-class&gt;com.baiker.sgk&lt;/servlet-class&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; &lt;init-param&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;param-name&gt;filter_keywords&lt;/param-name&gt;<br />&nbsp; &nbsp; &lt;param-value&gt;”|*&lt;/param-value&gt;<br />&nbsp; &nbsp;&lt;/init-param&gt;<br />&nbsp; &lt;/servlet&gt;<br />&nbsp; &lt;servlet-mapping&gt;<br />&nbsp; &lt;servlet-name&gt;sgk&lt;/servlet-name&gt;<br />&nbsp; &lt;url-pattern&gt;/sgk&lt;/url-pattern&gt;<br />&nbsp; &lt;/servlet-mapping&gt;<br /></code></pre>
<p>新建一个servlet命名为searcher:</p>
<pre><code><p>package com.baiker.sgk;</p><p>import java.io.IOException;<br />import java.io.PrintWriter;<br />import javax.servlet.ServletException;<br />import javax.servlet.http.HttpServlet;<br />import javax.servlet.http.HttpServletRequest;<br />import javax.servlet.http.HttpServletResponse;<br />import org.apache.solr.client.solrj.*;<br />import org.apache.solr.client.solrj.impl.HttpSolrClient;<br />import org.apache.solr.client.solrj.response.QueryResponse;<br />import org.apache.solr.common.SolrDocument;<br />import org.apache.solr.common.SolrDocumentList;<br />import org.json.JSONArray;<br />import org.json.JSONObject;</p><p>public class searcher extends HttpServlet {<br />&nbsp;private static final long serialVersionUID = 1L;<br />&nbsp;private static String baseURL = "";<br />&nbsp;private static String shards = "";<br />&nbsp;private static SolrClient solr;<br />&nbsp;private String[] colist ={"username", "email", "password", "salt", "ip", "site"}; //定义要检索的字段列表<br />&nbsp;private String filterk;<br />&nbsp;<br />&nbsp;/**<br />&nbsp;&nbsp;* 构造函数<br />&nbsp; */<br />&nbsp;&nbsp;&nbsp; public searcher() {<br />&nbsp;&nbsp;&nbsp; &nbsp;super();<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;/**<br />&nbsp; * 析构函数<br />&nbsp; */<br />&nbsp;&nbsp;&nbsp; public void destroy() {&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.destroy();<br />&nbsp;&nbsp;&nbsp; } <br />&nbsp;/**<br />&nbsp; * 初始化servlet<br />&nbsp; */<br />&nbsp;public void init() throws ServletException {<br />&nbsp;&nbsp;filterk = this.getServletConfig().getInitParameter("filter_keywords"); //从servlet配置中读取关键字过滤表<br />&nbsp;&nbsp;baseURL = this.getServletContext().getInitParameter("solraddr"); //从全局配置中读取solr服务器地址<br />&nbsp;&nbsp;shards = this.getServletContext().getInitParameter("shards"); //读取多core联合查询地址<br />&nbsp;&nbsp;solr = new HttpSolrClient(baseURL); //实例化SolrClient对象<br />&nbsp;}<br /> /**<br />&nbsp;&nbsp;* 无意义关键字屏蔽:检测搜索关键字是否可用<br />&nbsp;&nbsp;* @param str 关键字<br />&nbsp;&nbsp;* @return boolean<br />&nbsp;&nbsp;*/<br />&nbsp;private boolean NotLegalString(String str){<br />&nbsp;&nbsp;boolean notlegal = false;<br />&nbsp;&nbsp;//以下预定义一些需要屏蔽的无意义搜索关键词,这些会耗费很多服务器资源,且返回的结果没有价值<br />&nbsp;&nbsp;String[] foollist = {"12345","123456","1234567","12345678","123456789","1234567890",<br />&nbsp;&nbsp;&nbsp;&nbsp;"987654321","87654321","7654321","654321","54321","123123","112233","11223344","111222333","111222333444",<br />&nbsp;&nbsp;&nbsp;&nbsp;"abcde","abcdef","abcdefg","abcdefgh","abcdefghi","abcdefghij","aaa123","abc123","bbb123","aabbcc","abcabc","abcdabcd","aaabbbccc","aabbccdd","ccc123","qwert","qwerty","asdfg","asdfgh","qazwsx","user","guest","admin","administrator","manager"};<br />&nbsp;&nbsp;for(String s : foollist){<br />&nbsp;&nbsp;&nbsp;if(str.equals(s))<br />&nbsp;&nbsp;&nbsp;&nbsp;return true;<br />&nbsp;&nbsp;}<br />&nbsp;&nbsp;char first = str.charAt(0); //检测关键字是否为一组重复字符<br />&nbsp;&nbsp;for (int i=1; i&lt;str.length(); i++){<br />&nbsp;&nbsp;&nbsp;if (str.charAt(i) == first)<br />&nbsp;&nbsp;&nbsp;&nbsp;notlegal = true;<br />&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;notlegal = false;<br />&nbsp;&nbsp;}<br />&nbsp;&nbsp;return notlegal;<br />&nbsp;}<br />&nbsp;/**<br />&nbsp; * 过滤检索结果字段中的换行符和空格<br />&nbsp; * @param Result 检索结果<br />&nbsp; * @return String<br />&nbsp; */<br />&nbsp;private String FormatResult(String Result){<br />&nbsp;&nbsp;Result = Result.replaceAll("(?:\r|\n| )", "").replace("&amp;quot","\"").replace("&amp;#92","\\"); <br />&nbsp;&nbsp;return Result;<br />&nbsp;}<br />&nbsp;/**<br />&nbsp;&nbsp;* 搜索前对关键字进行一些处理<br />&nbsp;&nbsp;* @param keyword 关键字<br />&nbsp; * @return String<br />&nbsp; */<br />&nbsp;private String FormatKeyword(String keyword){<br />&nbsp;&nbsp;String keytemp = keyword;<br />&nbsp;&nbsp;if(!keyword.matches("[0-9]+") &amp;&amp; !keyword.matches("[a-zA-Z]+")){//判断关键字是否为纯数字或者纯字母<br />&nbsp;&nbsp;&nbsp;if(keyword.getBytes().length != keyword.length())//判断关键字是否包含汉字<br />&nbsp;&nbsp;&nbsp;&nbsp;keytemp = "\"" + keyword + "\"";//汉字加双引号精确搜索.不加则会开始分词<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keytemp = keyword + "*";//关键字既非纯数字纯字母.也非汉字,需后面加*号才能精确搜索<br />&nbsp;&nbsp;}<br />&nbsp;&nbsp;return keytemp;<br />&nbsp;}<br />&nbsp;/**<br />&nbsp; * 构造检索发生错误或无结果时返回的json对象<br />&nbsp; * @param message 要返回的错误提示内容<br />&nbsp; * @return JSONObject<br />&nbsp; */<br />&nbsp;private JSONObject ErrorResult(String message){<br />&nbsp;&nbsp;JSONObject jo = new JSONObject();<br />&nbsp;&nbsp;&nbsp; &nbsp;jo.put("count",0);<br />&nbsp;&nbsp;&nbsp; &nbsp;jo.put("result","null");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jo.put("Message",message);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return jo;<br />&nbsp;}<br />&nbsp;/**<br />&nbsp; * 调用solrj执行检索<br />&nbsp; * @param keyword 搜索关键字<br />&nbsp; * @param start 结果起始行<br />&nbsp; * @param rows 返回行数<br />&nbsp; * @return JSONObject<br />&nbsp; */<br />&nbsp;private JSONObject getResult(String keyword,int start,int rows){<br />&nbsp;&nbsp;try {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSONObject jo = new JSONObject();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(keyword.equals("")) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ErrorResult("请输入关键词");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(keyword.length()&lt;5) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ErrorResult("关键词长度不能小于5");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(keyword.length()&gt;30) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ErrorResult("关键词长度不能大于30");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(NotLegalString(keyword)) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ErrorResult("搜索范围太大");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;String[] keyfilter = filterk.split("\\|");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int i=0;i&lt;keyfilter.length;i++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;if(keyword.contains(keyfilter[i])) //检查关键字是否包含web.xml中定义的过滤敏感词<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ErrorResult("关键字含有敏感字符");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SolrQuery query = new SolrQuery(); //定义一个SolrQuery<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; query.set("q", "keyword:" + FormatKeyword(keyword)); //关键词<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; query.set("start", start); //起始行<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; query.set("rows", rows); //行数<br />&nbsp;&nbsp;&nbsp;&nbsp;query.set("shards", shards); //多core查询<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; QueryResponse rsp = solr.query(query);//执行检索<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SolrDocumentList docs = rsp.getResults();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jo.put("count",docs.getNumFound()); //获取返回的条目数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!String.valueOf(docs.getNumFound()).equals("0")) //如果检索有结果 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSONArray ja = new JSONArray();&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (SolrDocument doc : docs) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; JSONObject jo1 = new JSONObject();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for(int j=0;j&lt;colist.length;j++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jo1.put(colist[j], FormatResult(String.valueOf(doc.getFieldValue(colist[j]))));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ja.put(jo1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jo.put("result",ja);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return jo;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ErrorResult("未搜索到任何结果");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch (Exception e) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return null;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;}<br />&nbsp;/**<br />&nbsp; * doGet方法<br />&nbsp; */<br />&nbsp;protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {<br />&nbsp;&nbsp;response.setContentType("text/plain;charset=GBK");<br />&nbsp;&nbsp;PrintWriter out = response.getWriter();<br />&nbsp;&nbsp;String k,start,rows;<br />&nbsp;&nbsp;k = request.getParameter("keyword");<br />&nbsp;&nbsp;start = request.getParameter("start");<br />&nbsp;&nbsp;rows = request.getParameter("rows");<br />&nbsp;&nbsp;if (start == null) start = "0";<br />&nbsp;&nbsp;if (rows == null) rows = "20"; //如果没有定义起始行和返回行数,则默认为0和20<br />&nbsp;&nbsp;if(k == null)<br />&nbsp;&nbsp;&nbsp;out.println("Keyword error!");&nbsp;//如果没有提交keyword参数,返回错误<br />&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.println(getResult(k,Integer.parseInt(start),Integer.parseInt(rows)).toString()); //输出检索结果<br />&nbsp;}<br />&nbsp;/**<br />&nbsp; * doPost方法<br />&nbsp; */<br />&nbsp;protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; doGet(request, response);<br />&nbsp;&nbsp;&nbsp; }<br />}<br /><br /></p></code></pre>
<p>编译运行，提交<font color="#00b050"><a href="http://localhost:8080/sgk/searcher?keyword=xxxxxxxxxxxx">http://localhost:8080/sgk/searcher?keyword=xxxxxxxxxxxx</a></font>这样的地址,就会返回json数据，接下来只需写一个前端页面，解析并显示这些结果即可.</p>
<h2><strong>0&#215;05尾声</strong><br /></h2>
<p>终于全都完成了，我在把狐朋狗友加基友加妹纸在社工库里查了个遍之后，心满意足的睡觉去了，梦中，我经过一条小河上的独木桥，刚走到桥正中，突然腰带一松，裤子掉进了河里，我正在发愁的时候,河面上冒出了一个猥琐的河神，手中拿着三件东西笑眯眯的问我:</p>
<p>“善良的少年哟! 你掉的，是这条金裤子，还是这条银裤子，还是这个装满了裤子的硬盘呢?”</p>
<p>“哈哈哈哈哈哈哈…..”</p>
<p>我对着河神哈哈大笑，笑着笑着，猛然从梦中醒来，睁眼一看，已经天光大亮了，回头看床头时钟，妈蛋! 上班要迟到了!!!&#8230;..</p>
<p>ps: banish是女神经!</p>
<p><span style="color: rgb(0, 0, 0);"><strong><span style="color: rgb(239, 71, 71);">*作者b41k3r，</span><b style="color: rgb(239, 71, 71);">本文属FreeBuf原创奖励计划，未经许可禁止转载</b></strong></span></p>
                                                    </div>
                        <div class="article-oper article-oper-new">
                            <style>
                                @font-face {font-family: 'iconfont';
                                    src: url('http://static.3001.net/iconfonts/iconfont.eot'); /* IE9*/
                                    src: url('http://static.3001.net/iconfonts/iconfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
                                    url('http://static.3001.net/iconfonts/iconfont.woff') format('woff'), /* chrome、firefox */
                                    url('http://static.3001.net/iconfonts/iconfont.ttf') format('truetype'), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/
                                    url('http://static.3001.net/iconfonts/iconfont.svg#iconfont') format('svg'); /* iOS 4.1- */
                                }
                            </style>
                            <div class="share-new clearfix">
                                <div class="share-author">
                                                                            <a href="http://www.freebuf.com/author/b41k3r" title="由 b41k3r 发布" rel="author">
                                            <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png" width="50" height="50" alt="" class="avatar avatar-50 wp-user-avatar wp-user-avatar-50 photo avatar-default" />                                            <!--							<img src="http://image.3001.net/2015/06/17.jpg" alt="ArthurKiller">-->
                                        </a>
                                        <div class="share-author-info">
                                                                                        <a class="author-name" href="http://www.freebuf.com/author/b41k3r">b41k3r</a>
                                            <!--<span class="icon-f"></span>-->
                                            <span>
                                <i class="colour-red">
                                    3                                </i>
                                篇文章</span>
                                            <span>等级：
                                <i class="colour-green">2</i>级
                            </span>
                                        </div>
                                                                                                        </div>
                                <div class="user-center clearfix">
                                                                            <a href="http://www.freebuf.com/author/b41k3r" data-toggle="tooltip" data-placement="top" title="个人主页" class="home" target="_blank"></a>
                                                                        <a href="http://www.freebuf.com/user/pm?pmaction=newmessage&to=b41k3r" data-toggle="tooltip" data-placement="top" title="私信" class="letter" target="_blank"></a>
                                </div>
                                <div class="share-ctrl clearfix">
                                                                        <div class="bdsharebuttonbox clearfix bdshare-button-style1-24 columnstatus"
                                         data-bd-bind="1489991449190" data-column="" data-title="技术分享：如何用Solr搭建大数据查询平台" data-name="">
                                        <a href="#" data-toggle="tooltip" data-placement="top" data-cmd="tsina" title="分享到新浪微博" id="tsina"></a>
                                        <a href="#" data-toggle="tooltip" data-placement="top" data-cmd="weixin" title="分享到微信" id="weixin"></a>
                                        <a href="#" data-toggle="tooltip" data-placement="top" data-cmd="qzone" title="分享到QQ空间" id="qzone"></a>
                                       <!-- _shareUrlWeibo = 'http://service.weibo.com/share/share.php?url=http://'+encodeURIComponent(_json[i].url)+'&title='+encodeURIComponent(_json[i].title)+'-FreeBuf涓撴爮路'+_json[i].columnName;
                                        _shareUrlZone = 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://'+encodeURIComponent(_json[i].url)+'&title='+_json[i].title+'-FreeBuf涓撴爮路'+_json[i].columnName;
                                        _shareSrc = 'http://s.jiathis.com/qrcode.php?url=http://'+_json[i].url;-->
                                        <span class="share-line">|</span>
                                    </div>
                                </div>
                                <div class="user-ctrl clearfix">
                                                                            <a href="http://www.freebuf.com/oauth" id="collect" data-toggle="tooltip" data-placement="top" title="收藏" ></a>
                                                                        <a href="#respond" data-toggle="tooltip" data-placement="top" title="评论" id="comments"></a>
                                                                        <!--					<a href="#" title="文章纠正">&#xe6e3;</a>-->
                                    <span class="share-line">|</span>
                                    <span class="info-alert"></span>
                                </div>
                            </div>
                            <script>
                                var column = $('.columnstatus').attr('data-column');
                                var text = '';
                                if(column){
                                    var title = $('.columnstatus').attr('data-title');
                                    var name = $('.columnstatus').attr('data-name');
                                    text = title+' - FreeBuf专栏·'+name;
                                }
                                window._bd_share_config={
                                    "common": {
                                        "bdSnsKey": {},
                                        "bdText": text,
                                        "bdMini": "2",
                                        "bdMiniList": ["qzone", "tsina", "weixin"],
                                        "bdPic": "",
                                        "bdStyle": "1",
                                        "bdSize": "24"
                                    },
                                    "share":{},
                                };
                                with(document)0[
                                    (getElementsByTagName('head')[0]||body).
                                    appendChild(createElement('script')).
                                        src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)
                                    ];
                                //控制垂直方向分享模块的定位
                                function shareFixVertical(){
                                    var offsetTop = jQuery(".article-oper").get(0).offsetTop;
                                    var win_h = jQuery(window).height();
                                    var win_w = jQuery(window).width();
                                    var scrollTop = document.body.scrollTop||document.documentElement.scrollTop;
                                    var _height = offsetTop-scrollTop;
                                    var _flag = $('.column-article').attr('data-column');
                                    if(_flag == 1) {
                                        if(_height>=win_h-660&&win_w>975){
                                            var _width = jQuery("#getWidth").innerWidth()-30;
                                            var _left = jQuery("#getWidth").offset().left+15;
                                            jQuery(".share-new").addClass("fixed");
                                            jQuery(".fixed").css({
                                                width:_width,
                                                left:_left
                                            });

                                        }else{
                                            jQuery(".share-new").removeClass("fixed");
                                            jQuery(".share-new").css({
                                                width: "100%"
                                            });
                                        }
                                    }else {
                                        if(_height>=win_h-255&&win_w>975){
                                            var _width = jQuery("#getWidth").innerWidth()-30;
                                            var _left = jQuery("#getWidth").offset().left+15;
                                            jQuery(".share-new").addClass("fixed");
                                            jQuery(".fixed").css({
                                                width:_width,
                                                left:_left
                                            });

                                        }else{
                                            jQuery(".share-new").removeClass("fixed");
                                            jQuery(".share-new").css({
                                                width: "100%"
                                            });
                                        }
                                    }
                                }
                                //控制水平方向分享模块的定位
                                function shareFixHorizontal(){
                                    var _width = jQuery("#getWidth").innerWidth()-30;
                                    var _left = jQuery("#getWidth").get(0).offsetLeft+15;
                                    var win_w = document.documentElement.clientWidth || document.body.clientWidth;
                                    jQuery(".fixed").css({
                                        width:_width,
                                        left:_left
                                    });
                                    if(win_w< 975){
                                        jQuery(".share-new").css({
                                            width: "100%",
                                            left: "0"
                                        });
                                    }else{
                                        var _width = jQuery("#getWidth").innerWidth()-30;
                                        var _left = jQuery("#getWidth").get(0).offsetLeft+15;
                                        jQuery(".fixed").css({
                                            width:_width,
                                            left:_left
                                        });
                                    }
                                }
                                function click(){
                                    var _w = jQuery(window).width();
                                    jQuery(document).click(function(e){
                                        if(jQuery(e.target).attr("id")=="weixin"){
                                            if(_w <= 760) {
                                                jQuery("#bdshare_weixin_qrcode_dialog").hide();
                                                layer.open({
                                                    title: '提示',
                                                    btnAlign: 'c',
                                                    content: '请使用手机浏览器自带的分享功能分享该页面',
                                                    area: '260px'
                                                });
                                            }else {
                                                jQuery("#bdshare_weixin_qrcode_dialog").show();
                                            }
                                        }else {
                                            jQuery("#bdshare_weixin_qrcode_dialog").hide();
                                        }
                                    });
                                }

                                jQuery(window).on("load",function(){
                                    shareFixVertical();
                                    click();
                                });

                                jQuery(window).on("scroll",function(){
                                    //判断滚轮方向
                                    var agent = navigator.userAgent;
                                    if (/.*Firefox.*/.test(agent)) {
                                        document.addEventListener("DOMMouseScroll", function(e) {
                                            e = e || window.event;
                                            var detail = e.detail;
                                            if (detail > 0) {
                                                $(".share-new").removeClass("fixed");
                                                $(".share-new").css({
                                                    width: "100%"
                                                });
                                                $('.main-header .header').removeClass('op1');
                                                $('.main-header .header').addClass('op0');
                                            } else {
                                                shareFixVertical();
                                                $('.main-header .header').removeClass('op0');
                                                $('.main-header .header').addClass('op1');
                                            }
                                        });
                                    } else {
                                        document.onmousewheel = function(e) {
                                            e = e || window.event;
                                            var wheelDelta = e.wheelDelta;
                                            if (wheelDelta > 0) {
                                                shareFixVertical();
                                                $('.main-header .header').removeClass('op0');
                                                $('.main-header .header').addClass('op1');
                                            } else {
                                                $(".share-new").removeClass("fixed");
                                                $(".share-new").css({
                                                    width: "100%"
                                                });
                                                $('.main-header .header').removeClass('op1');
                                                $('.main-header .header').addClass('op0');
                                            }
                                        }
                                    }
                                });


                                jQuery(window).on("resize",function(){
                                    shareFixHorizontal();
                                    click();
                                })

                                //tooltips提示
                                $(function () { $("[data-toggle='tooltip']").tooltip(); });
                            </script>
                        </div>
                                                                                                                            <div class="article-pager ">
                                <ul>
                                    <li class="previous"><span>上一篇：</span><a href="http://www.freebuf.com/news/99921.html" rel="prev">FBI破解iPhone可能只需1500美元，之前大费周章意欲何为？</a>                                    </li>
                                    <li class="next"><span>下一篇：</span>
                                        <a href="http://www.freebuf.com/news/topnews/100459.html" rel="next">探秘国内地下数据交易市场</a>                                    </li>
                                </ul>
                            </div>
                                            </div>
                </div>
                    <div class="comment-bright"><div class="main-tit04">
    <h3>这些评论亮了</h3></div>      <ul>      <li>
            <div class="user_photo">             <img src="http://image.3001.net/images/headimg/pic9.png">             </div>
            <div class="tit"><span class="name"> 三口七肛 </span> 
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','100423' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						架构不合理  hbase+es 完爆solr+mysql 36条街</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2181090" class="vote-count">12</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2181090" href="javascript:acv_vote(181090,1,2);">亮了</a></span></div>
          </li>
            <li>
            <div class="user_photo">             <img src="http://image.3001.net/images/headimg/pic14.png">             </div>
            <div class="tit"><span class="name"> Sirormy </span> 
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','100423' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						裤子可否借我穿一下</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2181081" class="vote-count">10</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2181081" href="javascript:acv_vote(181081,1,2);">亮了</a></span></div>
          </li>
            <li>
            <div class="user_photo"> <a href="http://www.freebuf.com/author/b41k3r">
            <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png" width="58" height="58" /></a>
             </div>
            <div class="tit"><span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r</a>  </span> 
						<span class="icon-f">  </span> 
			<span class="rank">(2级)</span>
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','100423' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						@ 三口七肛  用两个马甲一唱一和还不是喷? 你压根就没有看完我写的,或者只是扫了一眼吧骚年,我什么地方说我这是一堆死数据了?后面一大段都是写数据增量更新的.我前面说过了,我承认es+hbase架构的优秀性,吹嘘完爆多少条街没有任何意义,es+hbase要求的硬件配置要高于solr+mysql,我已经告诉过你了,每种架构有它特定的应用场景,并不是所有人都能马上用的起es+hbase,在数据量增长并不大的情况下,solr无疑是更好的选择,你用惯了你的es,但并不代表别人也一定要用它,就比如看见有开宝马大奔的,那些开十万级别车的都得把车砸了吗?...ps:我不是来这里辩论的,这是最后一次回复你.</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2181217" class="vote-count">9</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2181217" href="javascript:acv_vote(181217,1,2);">亮了</a></span></div>
          </li>
            <li>
            <div class="user_photo">             <img src="http://image.3001.net/images/headimg/pic2.png">             </div>
            <div class="tit"><span class="name"> nobel </span> 
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','100423' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						@ 三口七肛             装逼狗崽子！！！！！！！！！！！</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2182031" class="vote-count">7</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2182031" href="javascript:acv_vote(182031,1,2);">亮了</a></span></div>
          </li>
            <li>
            <div class="user_photo"> <a href="http://www.freebuf.com/author/b41k3r">
            <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png" width="58" height="58" /></a>
             </div>
            <div class="tit"><span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r</a>  </span> 
						<span class="icon-f">  </span> 
			<span class="rank">(2级)</span>
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','100423' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						声明一下..原文写的是banish是女神!被fb的某无良小编改成了女神经,目测该小编正在被@banish暴揍中... :lol:  :!:</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2181112" class="vote-count">7</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2181112" href="javascript:acv_vote(181112,1,2);">亮了</a></span></div>
          </li>
         </ul></div><div class="comment-list">
      <div class="main-tit02">
		<a rel="nofollow" class="btnbtn-default btn-comment" href="#respond">发表评论</a>
        <h3>已有 <span class="color_red">41</span> 条评论
      </div>
      <ul>
         <li class="comment byuser comment-author-33873 even thread-even depth-1" id="li-comment-181077">
    <div id="comment-181077">
        <div class="photo"> <a href="http://www.freebuf.com/author/吃葡萄不吐葡萄皮的雪碧">
    <img src="http://image.3001.net/2014/12/18.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/吃葡萄不吐葡萄皮的雪碧" target="_blank">吃葡萄不吐葡萄皮的雪碧&nbsp;</a>  </span>
        		
		<span class="icon-f"> <a href="http://www.freebuf.com/bufer" target="_blank"><img src="http://image.3001.net/images/index/f1.png" title="认证作者"></a></span>
		<span class="rank">(4级)</span>
				<span class="explain"> 通信狗 硬件狗 </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181077','181077', 'respond','100423' ) " href="?replytocom=181077#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">1楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>红盟大牛 毕思瑶  膜拜ing</p>
<div class="comment-tools">
<div class="vote" id="vote-181077"><span id="acv_stat_181077"></span><a class="ilike_icon"  id="vote4-181077" href="javascript:acv_vote(181077,1);">亮了</a>(<span id="cos_support-181077">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181077" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181077" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181077" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181077" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181077" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181081">
    <div id="comment-181081">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic3.png">     </div>
    <div class="tit"> 
	    <span class="name"> Sirormy </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181081','181081', 'respond','100423' ) " href="?replytocom=181081#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">2楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>裤子可否借我穿一下</p>
<div class="comment-tools">
<div class="vote" id="vote-181081"><span id="acv_stat_181081"></span><a class="ilike_icon"  id="vote4-181081" href="javascript:acv_vote(181081,1);">亮了</a>(<span id="cos_support-181081">10</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181081" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181081" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181081" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181081" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181081" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-181085">
    <div id="comment-181085">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic10.png">     </div>
    <div class="tit"> 
	    <span class="name"> Max </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181085','181085', 'respond','100423' ) " href="?replytocom=181085#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">3楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>coreseek是死了，那是因为sphinx也只是中文索引了，现在的版本查询也是毫秒级，配置单核1G40G 4E数据的话毫无压力</p>
<div class="comment-tools">
<div class="vote" id="vote-181085"><span id="acv_stat_181085"></span><a class="ilike_icon"  id="vote4-181085" href="javascript:acv_vote(181085,1);">亮了</a>(<span id="cos_support-181085">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181085" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181085" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181085" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181085" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181085" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-taylorwin odd alt thread-odd thread-alt depth-1" id="li-comment-181089">
    <div id="comment-181089">
        <div class="photo"> <a href="http://www.freebuf.com/author/taylorwin">
    <img src="http://image.3001.net/2016/05/1.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/taylorwin" target="_blank">taylorwin&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(5级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181089','181089', 'respond','100423' ) " href="?replytocom=181089#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">4楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>mark一下</p>
<div class="comment-tools">
<div class="vote" id="vote-181089"><span id="acv_stat_181089"></span><a class="ilike_icon"  id="vote4-181089" href="javascript:acv_vote(181089,1);">亮了</a>(<span id="cos_support-181089">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181089" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181089" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181089" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181089" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181089" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-181090">
    <div id="comment-181090">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic5.png">     </div>
    <div class="tit"> 
	    <span class="name"> 三口七肛 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181090','181090', 'respond','100423' ) " href="?replytocom=181090#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">5楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>架构不合理  hbase+es 完爆solr+mysql 36条街</p>
<div class="comment-tools">
<div class="vote" id="vote-181090"><span id="acv_stat_181090"></span><a class="ilike_icon"  id="vote4-181090" href="javascript:acv_vote(181090,1);">亮了</a>(<span id="cos_support-181090">12</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181090" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181090" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181090" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181090" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181090" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment odd alt depth-2" id="li-comment-181136">
    <div id="comment-181136">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic8.png">     </div>
    <div class="tit"> 
	    <span class="name"> 臀印十方 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181136','181136', 'respond','100423' ) " href="?replytocom=181136#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 三口七肛<br />
66666  solr这技术可是好几家现在安全行业和征信行业的看家技术呢，虽然我不知道他们是怎么靠这个讲个牛逼故事拿投资的。</p>
<p>ps：<br />
补充，应该是完爆72条街</p>
<div class="comment-tools">
<div class="vote" id="vote-181136"><span id="acv_stat_181136"></span><a class="ilike_icon"  id="vote4-181136" href="javascript:acv_vote(181136,1);">亮了</a>(<span id="cos_support-181136">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181136" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181136" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181136" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181136" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181136" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-b41k3r bypostauthor even depth-2" id="li-comment-181176">
    <div id="comment-181176">
        <div class="photo"> <a href="http://www.freebuf.com/author/b41k3r">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181176','181176', 'respond','100423' ) " href="?replytocom=181176#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 三口七肛  首先,我部分赞同你的看法,hbase+es确实比solr+mysql强很多,但es和solr是一个爹,还不至于甩36条街那么远.其次,我不用hbase+es的原因是,这是搭社工库,不是开淘宝,一个社工库还犯不上杀鸡用牛刀,你喜欢什么样的架构,并不代表这样的架构适用于所有的应用场景,这是常识,请不要拿这个开喷,最后,我怎么觉得三口七肛和臀印十方名字如此同风格,马甲还是专业喷子组织?</p>
<div class="comment-tools">
<div class="vote" id="vote-181176"><span id="acv_stat_181176"></span><a class="ilike_icon"  id="vote4-181176" href="javascript:acv_vote(181176,1);">亮了</a>(<span id="cos_support-181176">4</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181176" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181176" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181176" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181176" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181176" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment odd alt depth-3" id="li-comment-181216">
    <div id="comment-181216">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic9.png">     </div>
    <div class="tit"> 
	    <span class="name"> 三口七肛 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		           <a onclick="return addComment.moveForm( 'comment-181216','181176', 'respond','100423' )" href="?replytocom=181216#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ b41k3r   这就叫喷你了么  骚年too young  就像你说的一个爹的为什么有了solr还会有es  solr本身解决不了的问题es来拯救他。 社工库就是一堆数据放哪里查询么？ 你做社工库试问一下50亿死数据放在那里实际价值有多大。 如果仅仅是这样确实solr比较快但你的项目也就到此为止了。  有没有考虑过在活数据的情 况你这套架构还合适吗，一个io阻塞被爆72条街还是保守估计 O(∩_∩)O谢谢    不喷</p>
<div class="comment-tools">
<div class="vote" id="vote-181216"><span id="acv_stat_181216"></span><a class="ilike_icon"  id="vote4-181216" href="javascript:acv_vote(181216,1);">亮了</a>(<span id="cos_support-181216">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181216" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181216" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181216" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181216" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181216" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-b41k3r bypostauthor even depth-3" id="li-comment-181217">
    <div id="comment-181217">
        <div class="photo"> <a href="http://www.freebuf.com/author/b41k3r">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		           <a onclick="return addComment.moveForm( 'comment-181217','181176', 'respond','100423' )" href="?replytocom=181217#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 三口七肛  用两个马甲一唱一和还不是喷? 你压根就没有看完我写的,或者只是扫了一眼吧骚年,我什么地方说我这是一堆死数据了?后面一大段都是写数据增量更新的.我前面说过了,我承认es+hbase架构的优秀性,吹嘘完爆多少条街没有任何意义,es+hbase要求的硬件配置要高于solr+mysql,我已经告诉过你了,每种架构有它特定的应用场景,并不是所有人都能马上用的起es+hbase,在数据量增长并不大的情况下,solr无疑是更好的选择,你用惯了你的es,但并不代表别人也一定要用它,就比如看见有开宝马大奔的,那些开十万级别车的都得把车砸了吗?&#8230;ps:我不是来这里辩论的,这是最后一次回复你.</p>
<div class="comment-tools">
<div class="vote" id="vote-181217"><span id="acv_stat_181217"></span><a class="ilike_icon"  id="vote4-181217" href="javascript:acv_vote(181217,1);">亮了</a>(<span id="cos_support-181217">9</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181217" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181217" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181217" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181217" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181217" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt depth-2" id="li-comment-182031">
    <div id="comment-182031">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic3.png">     </div>
    <div class="tit"> 
	    <span class="name"> nobel </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-12</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-182031','182031', 'respond','100423' ) " href="?replytocom=182031#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 三口七肛             装逼狗崽子！！！！！！！！！！！</p>
<div class="comment-tools">
<div class="vote" id="vote-182031"><span id="acv_stat_182031"></span><a class="ilike_icon"  id="vote4-182031" href="javascript:acv_vote(182031,1);">亮了</a>(<span id="cos_support-182031">7</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="182031" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="182031" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="182031" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="182031" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="182031" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment byuser comment-author-fiend520 even thread-odd thread-alt depth-1" id="li-comment-181092">
    <div id="comment-181092">
        <div class="photo"> <a href="http://www.freebuf.com/author/Fiend520">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/Fiend520" target="_blank">Fiend520&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(7级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181092','181092', 'respond','100423' ) " href="?replytocom=181092#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">6楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>膜拜，谢分享，已学习及mark</p>
<div class="comment-tools">
<div class="vote" id="vote-181092"><span id="acv_stat_181092"></span><a class="ilike_icon"  id="vote4-181092" href="javascript:acv_vote(181092,1);">亮了</a>(<span id="cos_support-181092">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181092" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181092" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181092" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181092" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181092" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-12608 odd alt thread-even depth-1" id="li-comment-181095">
    <div id="comment-181095">
        <div class="photo"> <a href="http://www.freebuf.com/author/常运">
    <img src="http://image.3001.net/images/20170621/14980360605874.jpg!video"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/常运" target="_blank">常运&nbsp;</a>  </span>
        		
		<span class="icon-f"> <a href="http://zhuanlan.freebuf.com" target="_blank"><img src="http://image.3001.net/images/index/column-iden.png" title="专栏作者"></a></span>
		<span class="rank">(5级)</span>
				<span class="explain"> c4td0g, 信安从业者，信安爱好者。（各位爷，轻点喷） </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181095','181095', 'respond','100423' ) " href="?replytocom=181095#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">7楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>&quot;banish是女神经! &quot;:mrgreen: 你就不怕被妹子打嘛</p>
<div class="comment-tools">
<div class="vote" id="vote-181095"><span id="acv_stat_181095"></span><a class="ilike_icon"  id="vote4-181095" href="javascript:acv_vote(181095,1);">亮了</a>(<span id="cos_support-181095">6</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181095" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181095" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181095" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181095" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181095" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-58215 even thread-odd thread-alt depth-1" id="li-comment-181099">
    <div id="comment-181099">
        <div class="photo"> <a href="http://www.freebuf.com/author/寰者">
    <img src="http://image.3001.net/2015/09/大象.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/寰者" target="_blank">寰者&nbsp;</a>  </span>
        		
		<span class="icon-f"> <a href="http://zhuanlan.freebuf.com" target="_blank"><img src="http://image.3001.net/images/index/column-iden.png" title="专栏作者"></a></span>
		<span class="rank">(7级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181099','181099', 'respond','100423' ) " href="?replytocom=181099#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">8楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>赞，ElasticSearch 也是不错的呢，目前在完成一个大数据安全产品的设计及研发，底层就是用的ElasticSearch，这方面希望能多多交流下啊</p>
<div class="comment-tools">
<div class="vote" id="vote-181099"><span id="acv_stat_181099"></span><a class="ilike_icon"  id="vote4-181099" href="javascript:acv_vote(181099,1);">亮了</a>(<span id="cos_support-181099">4</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181099" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181099" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181099" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181099" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181099" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-arthurkiller odd alt thread-even depth-1" id="li-comment-181106">
    <div id="comment-181106">
        <div class="photo"> <a href="http://www.freebuf.com/author/ArthurKiller">
    <img src="http://image.3001.net/2016/11/a1edd4100beccaadcc97dc445d07df0b.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/ArthurKiller" target="_blank">ArthurKiller&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(7级)</span>
				<span class="explain"> 窃.格瓦拉驻FreeBuf办事处 </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181106','181106', 'respond','100423' ) " href="?replytocom=181106#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">9楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p> <img src='http://image.3001.net/images/index/smilies/icon_surprised.gif' alt=':eek:' class='wp-smiley' />  B41大牛！请收下我的膝盖！</p>
<div class="comment-tools">
<div class="vote" id="vote-181106"><span id="acv_stat_181106"></span><a class="ilike_icon"  id="vote4-181106" href="javascript:acv_vote(181106,1);">亮了</a>(<span id="cos_support-181106">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181106" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181106" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181106" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181106" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181106" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-181109">
    <div id="comment-181109">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic16.png">     </div>
    <div class="tit"> 
	    <span class="name"> 1 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181109','181109', 'respond','100423' ) " href="?replytocom=181109#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">10楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>banish 是吗 她手机号码 135~~~~1 裤子能分享不 可以的话 我給你个邮箱</p>
<div class="comment-tools">
<div class="vote" id="vote-181109"><span id="acv_stat_181109"></span><a class="ilike_icon"  id="vote4-181109" href="javascript:acv_vote(181109,1);">亮了</a>(<span id="cos_support-181109">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181109" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181109" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181109" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181109" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181109" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-b41k3r bypostauthor odd alt thread-even depth-1" id="li-comment-181112">
    <div id="comment-181112">
        <div class="photo"> <a href="http://www.freebuf.com/author/b41k3r">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181112','181112', 'respond','100423' ) " href="?replytocom=181112#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">11楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>声明一下..原文写的是banish是女神!被fb的某无良小编改成了女神经,目测该小编正在被@banish暴揍中&#8230; <img src='http://image.3001.net/images/index/smilies/icon_lol.gif' alt=':lol:' class='wp-smiley' />   <img src='http://image.3001.net/images/index/smilies/icon_exclaim.gif' alt=':!:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-181112"><span id="acv_stat_181112"></span><a class="ilike_icon"  id="vote4-181112" href="javascript:acv_vote(181112,1);">亮了</a>(<span id="cos_support-181112">7</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181112" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181112" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181112" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181112" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181112" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-181124">
    <div id="comment-181124">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic4.png">     </div>
    <div class="tit"> 
	    <span class="name"> 某无良小编 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181124','181124', 'respond','100423' ) " href="?replytocom=181124#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ b41k3r    日出江花红胜火 b41的黑锅丢给我  （宝宝心里苦）</p>
<div class="comment-tools">
<div class="vote" id="vote-181124"><span id="acv_stat_181124"></span><a class="ilike_icon"  id="vote4-181124" href="javascript:acv_vote(181124,1);">亮了</a>(<span id="cos_support-181124">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181124" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181124" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181124" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181124" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181124" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181113">
    <div id="comment-181113">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic4.png">     </div>
    <div class="tit"> 
	    <span class="name"> banish </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181113','181113', 'respond','100423' ) " href="?replytocom=181113#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">12楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>banish已阅</p>
<div class="comment-tools">
<div class="vote" id="vote-181113"><span id="acv_stat_181113"></span><a class="ilike_icon"  id="vote4-181113" href="javascript:acv_vote(181113,1);">亮了</a>(<span id="cos_support-181113">4</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181113" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181113" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181113" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181113" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181113" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-181114">
    <div id="comment-181114">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic16.png">     </div>
    <div class="tit"> 
	    <span class="name"> banish </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181114','181114', 'respond','100423' ) " href="?replytocom=181114#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">13楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>昨天我表弟说硬盘坏了，我看你电脑2T硬盘拆了给他。刚全盘格，装了个xp系统。</p>
<div class="comment-tools">
<div class="vote" id="vote-181114"><span id="acv_stat_181114"></span><a class="ilike_icon"  id="vote4-181114" href="javascript:acv_vote(181114,1);">亮了</a>(<span id="cos_support-181114">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181114" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181114" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181114" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181114" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181114" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181117">
    <div id="comment-181117">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic15.png">     </div>
    <div class="tit"> 
	    <span class="name"> Stve </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181117','181117', 'respond','100423' ) " href="?replytocom=181117#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">14楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>你竟然有床头时钟！</p>
<div class="comment-tools">
<div class="vote" id="vote-181117"><span id="acv_stat_181117"></span><a class="ilike_icon"  id="vote4-181117" href="javascript:acv_vote(181117,1);">亮了</a>(<span id="cos_support-181117">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181117" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181117" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181117" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181117" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181117" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-l even thread-even depth-1" id="li-comment-181128">
    <div id="comment-181128">
        <div class="photo"> <a href="http://www.freebuf.com/author/未亦末L">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/未亦末L" target="_blank">未亦末L&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181128','181128', 'respond','100423' ) " href="?replytocom=181128#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">15楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>然后在solrconfig.xml的fieldType部分加入以下内容     这个地方是不是写错了 应该在 schema.xml 文件里 ？</p>
<div class="comment-tools">
<div class="vote" id="vote-181128"><span id="acv_stat_181128"></span><a class="ilike_icon"  id="vote4-181128" href="javascript:acv_vote(181128,1);">亮了</a>(<span id="cos_support-181128">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181128" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181128" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181128" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181128" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181128" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-b41k3r bypostauthor odd alt depth-2" id="li-comment-181158">
    <div id="comment-181158">
        <div class="photo"> <a href="http://www.freebuf.com/author/b41k3r">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181158','181158', 'respond','100423' ) " href="?replytocom=181158#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 未亦末L    感谢指正 校对两遍居然没发现这个错误.</p>
<div class="comment-tools">
<div class="vote" id="vote-181158"><span id="acv_stat_181158"></span><a class="ilike_icon"  id="vote4-181158" href="javascript:acv_vote(181158,1);">亮了</a>(<span id="cos_support-181158">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181158" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181158" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181158" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181158" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181158" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment byuser comment-author-blackeagle even thread-odd thread-alt depth-1" id="li-comment-181132">
    <div id="comment-181132">
        <div class="photo"> <a href="http://www.freebuf.com/author/blackeagle">
    <img src="http://image.3001.net/2016/01/tx.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/blackeagle" target="_blank">blackeagle&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(3级)</span>
				<span class="explain"> 向FreeBuf致敬 </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181132','181132', 'respond','100423' ) " href="?replytocom=181132#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">16楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>那么问题来了，ip呢？ <img src='http://image.3001.net/images/index/smilies/icon_mrgreen.gif' alt=':mrgreen:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-181132"><span id="acv_stat_181132"></span><a class="ilike_icon"  id="vote4-181132" href="javascript:acv_vote(181132,1);">亮了</a>(<span id="cos_support-181132">4</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181132" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181132" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181132" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181132" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181132" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-185 odd alt thread-even depth-1" id="li-comment-181148">
    <div id="comment-181148">
        <div class="photo"> <a href="http://www.freebuf.com/author/苹果">
    <img src="http://image.3001.net/2016/03/20120815170312_cyZui.jpeg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/苹果" target="_blank">苹果&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181148','181148', 'respond','100423' ) " href="?replytocom=181148#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">17楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>哇哇,膜拜ing <img src='http://image.3001.net/images/index/smilies/icon_razz.gif' alt=':razz:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-181148"><span id="acv_stat_181148"></span><a class="ilike_icon"  id="vote4-181148" href="javascript:acv_vote(181148,1);">亮了</a>(<span id="cos_support-181148">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181148" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181148" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181148" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181148" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181148" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-harry even thread-odd thread-alt depth-1" id="li-comment-181161">
    <div id="comment-181161">
        <div class="photo"> <a href="http://www.freebuf.com/author/Harry丶">
    <img src="http://image.3001.net/images/20170314/14894665438296.png!video"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/Harry丶" target="_blank">Harry丶&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain"> 这家伙太懒了，还未填写个人描述！ </span>
		<span class="time">&nbsp;2016-03-30</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181161','181161', 'respond','100423' ) " href="?replytocom=181161#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">18楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>早已安装过windows版的</p>
<div class="comment-tools">
<div class="vote" id="vote-181161"><span id="acv_stat_181161"></span><a class="ilike_icon"  id="vote4-181161" href="javascript:acv_vote(181161,1);">亮了</a>(<span id="cos_support-181161">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181161" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181161" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181161" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181161" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181161" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-181170">
    <div id="comment-181170">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic18.png">     </div>
    <div class="tit"> 
	    <span class="name"> wilson </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181170','181170', 'respond','100423' ) " href="?replytocom=181170#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">19楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>java 性能太渣，GC太吃内存，所以那么好的配置那么慢的速度。</p>
<p>mac air 最低配版 i5 4G  1T usb 2.0移动硬盘<br />
 50亿数据全表查询20秒内路过。若是 8G内存  10秒，<br />
最近想换SSD，到时候秒查。</p>
<p>关系数据库，数据清洗整理太麻烦。<br />
全文索引效率低，索引大，因为有些username password 会被分词分为多个，导致效率低。</p>
<p>非关系KV才是王道。</p>
<div class="comment-tools">
<div class="vote" id="vote-181170"><span id="acv_stat_181170"></span><a class="ilike_icon"  id="vote4-181170" href="javascript:acv_vote(181170,1);">亮了</a>(<span id="cos_support-181170">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181170" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181170" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181170" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181170" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181170" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-b41k3r bypostauthor even depth-2" id="li-comment-181175">
    <div id="comment-181175">
        <div class="photo"> <a href="http://www.freebuf.com/author/b41k3r">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/b41k3r" target="_blank">b41k3r&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181175','181175', 'respond','100423' ) " href="?replytocom=181175#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ wilson  请问我全篇哪个地方提到&quot;那么慢的速度&quot;了,又有哪个地方提到&quot;那么好的配置&quot;被全部占用了. 我只说了两个字:&quot;秒查&quot;. 本地搭建,能够秒查的方法多了去了,包括你用的方法,然而放网上做个每天N多人访问的社工站,1t usb2.0,4G内存&#8230;乃试试看.<br />
另外,你告诉我,java性能渣,为何大站全用java&#8230;为何apache上那一票大数据和集群项目全是java的?<br />
本地拿个macbook自个儿玩和真的做一个应用项目..这是两码事.</p>
<div class="comment-tools">
<div class="vote" id="vote-181175"><span id="acv_stat_181175"></span><a class="ilike_icon"  id="vote4-181175" href="javascript:acv_vote(181175,1);">亮了</a>(<span id="cos_support-181175">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181175" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181175" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181175" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181175" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181175" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181178">
    <div id="comment-181178">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic2.png">     </div>
    <div class="tit"> 
	    <span class="name"> hack8 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181178','181178', 'respond','100423' ) " href="?replytocom=181178#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">20楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>elasticsearch 20个条件20亿秒查的路过</p>
<div class="comment-tools">
<div class="vote" id="vote-181178"><span id="acv_stat_181178"></span><a class="ilike_icon"  id="vote4-181178" href="javascript:acv_vote(181178,1);">亮了</a>(<span id="cos_support-181178">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181178" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181178" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181178" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181178" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181178" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-181230">
    <div id="comment-181230">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic18.png">     </div>
    <div class="tit"> 
	    <span class="name"> 德华 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181230','181230', 'respond','100423' ) " href="?replytocom=181230#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">21楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>windows下和linux下效果差不多吗？</p>
<div class="comment-tools">
<div class="vote" id="vote-181230"><span id="acv_stat_181230"></span><a class="ilike_icon"  id="vote4-181230" href="javascript:acv_vote(181230,1);">亮了</a>(<span id="cos_support-181230">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181230" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181230" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181230" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181230" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181230" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-181238">
    <div id="comment-181238">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic16.png">     </div>
    <div class="tit"> 
	    <span class="name"> 马化腾 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-03-31</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181238','181238', 'respond','100423' ) " href="?replytocom=181238#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">22楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>那么能不能查到我的信息呢</p>
<div class="comment-tools">
<div class="vote" id="vote-181238"><span id="acv_stat_181238"></span><a class="ilike_icon"  id="vote4-181238" href="javascript:acv_vote(181238,1);">亮了</a>(<span id="cos_support-181238">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181238" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181238" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181238" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181238" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181238" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-cs423 even thread-even depth-1" id="li-comment-181452">
    <div id="comment-181452">
        <div class="photo"> <a href="http://www.freebuf.com/author/cs423">
    <img src="http://image.3001.net/2015/07/afc22d30jw1e4cbofbth3j20c90dxwfe.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/cs423" target="_blank">cs423&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-03</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181452','181452', 'respond','100423' ) " href="?replytocom=181452#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">23楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>&lt;fieldType name=&quot;text_ik&quot; class=&quot;solr.TextField&quot;&gt;<br />
        &lt;analyzer type=&quot;index&quot; useSmart=&quot;false&quot; class=&quot;org.wltea.analyzer.lucene.IKAnalyzer&quot;/&gt;<br />
        &lt;analyzer type=&quot;query&quot; useSmart=&quot;true&quot; class=&quot;org.wltea.analyzer.lucene.IKAnalyzer&quot;/&gt;<br />
    &lt;/fieldType&gt;</p>
<p>这个定义应该是加入schema.xml吧</p>
<div class="comment-tools">
<div class="vote" id="vote-181452"><span id="acv_stat_181452"></span><a class="ilike_icon"  id="vote4-181452" href="javascript:acv_vote(181452,1);">亮了</a>(<span id="cos_support-181452">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181452" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181452" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181452" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181452" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181452" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-qw110120789 odd alt thread-odd thread-alt depth-1" id="li-comment-181478">
    <div id="comment-181478">
        <div class="photo"> <a href="http://www.freebuf.com/author/qw110120789">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/qw110120789" target="_blank">qw110120789&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-04</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181478','181478', 'respond','100423' ) " href="?replytocom=181478#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">24楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>如何新增数据的结构和原有的结构差异大还是试用你最后的添加增量的方法么</p>
<div class="comment-tools">
<div class="vote" id="vote-181478"><span id="acv_stat_181478"></span><a class="ilike_icon"  id="vote4-181478" href="javascript:acv_vote(181478,1);">亮了</a>(<span id="cos_support-181478">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181478" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181478" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181478" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181478" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181478" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-qw110120789 even depth-2" id="li-comment-181479">
    <div id="comment-181479">
        <div class="photo"> <a href="http://www.freebuf.com/author/qw110120789">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/qw110120789" target="_blank">qw110120789&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-04</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181479','181479', 'respond','100423' ) " href="?replytocom=181479#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ qw110120789    这错别字我服</p>
<div class="comment-tools">
<div class="vote" id="vote-181479"><span id="acv_stat_181479"></span><a class="ilike_icon"  id="vote4-181479" href="javascript:acv_vote(181479,1);">亮了</a>(<span id="cos_support-181479">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181479" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181479" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181479" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181479" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181479" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-qw110120789 odd alt depth-2" id="li-comment-181480">
    <div id="comment-181480">
        <div class="photo"> <a href="http://www.freebuf.com/author/qw110120789">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/qw110120789" target="_blank">qw110120789&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-04</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181480','181480', 'respond','100423' ) " href="?replytocom=181480#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ qw110120789    如果新增数据的结构和原有的结构差异大，还能用你最后的添加增量数据的方法么</p>
<div class="comment-tools">
<div class="vote" id="vote-181480"><span id="acv_stat_181480"></span><a class="ilike_icon"  id="vote4-181480" href="javascript:acv_vote(181480,1);">亮了</a>(<span id="cos_support-181480">1</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181480" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181480" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181480" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181480" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181480" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-181540">
    <div id="comment-181540">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic17.png">     </div>
    <div class="tit"> 
	    <span class="name"> 画船听雨 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-05</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181540','181540', 'respond','100423' ) " href="?replytocom=181540#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">25楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>我配置文件总出错。。<br />
就是删除除了version和root节点的地方<br />
我可能误解了你的意思。。<br />
能交流下或者发一份你的schema.xml给我吗。。admin#nuptzj.cn<br />
谢谢了</p>
<div class="comment-tools">
<div class="vote" id="vote-181540"><span id="acv_stat_181540"></span><a class="ilike_icon"  id="vote4-181540" href="javascript:acv_vote(181540,1);">亮了</a>(<span id="cos_support-181540">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181540" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181540" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181540" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181540" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181540" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-wooyuntest odd alt thread-odd thread-alt depth-1" id="li-comment-181892">
    <div id="comment-181892">
        <div class="photo"> <a href="http://www.freebuf.com/author/wooyuntest">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/wooyuntest" target="_blank">wooyuntest&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-11</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-181892','181892', 'respond','100423' ) " href="?replytocom=181892#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">26楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>我在2.3 数据导入这一步出错，可否发您的schema.xml和solrconfig.xml给我参考一下呢？</p>
<div class="comment-tools">
<div class="vote" id="vote-181892"><span id="acv_stat_181892"></span><a class="ilike_icon"  id="vote4-181892" href="javascript:acv_vote(181892,1);">亮了</a>(<span id="cos_support-181892">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="181892" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="181892" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="181892" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="181892" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="181892" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-changroom even thread-even depth-1" id="li-comment-182639">
    <div id="comment-182639">
        <div class="photo"> <a href="http://www.freebuf.com/author/changroom">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/changroom" target="_blank">changroom&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-16</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-182639','182639', 'respond','100423' ) " href="?replytocom=182639#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">27楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>2.3 报错的同学  修改 elevate.xml 里面的内容<br />
 &lt;query text=&quot;ipod&quot;&gt;<br />
   &lt;doc id=&quot;MA147LL/A&quot; /&gt;  &lt;!&#8211; put the actual ipod at the top &#8211;&gt;<br />
   &lt;doc id=&quot;IW-02&quot; exclude=&quot;true&quot; /&gt; &lt;!&#8211; exclude this cable &#8211;&gt;<br />
 &lt;/query&gt;<br />
为<br />
&lt;query text=&quot;ipod&quot;&gt;<br />
   &lt;doc id=&quot;1&quot; /&gt;  &lt;!&#8211; put the actual ipod at the top &#8211;&gt;<br />
   &lt;doc id=&quot;2&quot; exclude=&quot;true&quot; /&gt; &lt;!&#8211; exclude this cable &#8211;&gt;<br />
 &lt;/query&gt;</p>
<div class="comment-tools">
<div class="vote" id="vote-182639"><span id="acv_stat_182639"></span><a class="ilike_icon"  id="vote4-182639" href="javascript:acv_vote(182639,1);">亮了</a>(<span id="cos_support-182639">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="182639" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="182639" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="182639" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="182639" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="182639" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-sniper_x odd alt thread-odd thread-alt depth-1" id="li-comment-183600">
    <div id="comment-183600">
        <div class="photo"> <a href="http://www.freebuf.com/author/sniper_x">
    <img src="http://image.3001.net/2016/04/staff2.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/sniper_x" target="_blank">sniper_x&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-04-23</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-183600','183600', 'respond','100423' ) " href="?replytocom=183600#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">28楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>赞，谢谢楼主分享</p>
<div class="comment-tools">
<div class="vote" id="vote-183600"><span id="acv_stat_183600"></span><a class="ilike_icon"  id="vote4-183600" href="javascript:acv_vote(183600,1);">亮了</a>(<span id="cos_support-183600">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="183600" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="183600" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="183600" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="183600" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="183600" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-190742">
    <div id="comment-190742">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic7.png">     </div>
    <div class="tit"> 
	    <span class="name"> sada </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-15</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190742','190742', 'respond','100423' ) " href="?replytocom=190742#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">29楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ b41k3r   大神 麻烦留个联系方式，有些问题 需要请教。</p>
<div class="comment-tools">
<div class="vote" id="vote-190742"><span id="acv_stat_190742"></span><a class="ilike_icon"  id="vote4-190742" href="javascript:acv_vote(190742,1);">亮了</a>(<span id="cos_support-190742">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190742" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190742" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190742" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190742" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190742" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-195744">
    <div id="comment-195744">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic15.png">     </div>
    <div class="tit"> 
	    <span class="name"> 雪山大脚怪 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-09-06</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-195744','195744', 'respond','100423' ) " href="?replytocom=195744#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">30楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>请问大批量的txt导入到mysql有什么好的方式么</p>
<div class="comment-tools">
<div class="vote" id="vote-195744"><span id="acv_stat_195744"></span><a class="ilike_icon"  id="vote4-195744" href="javascript:acv_vote(195744,1);">亮了</a>(<span id="cos_support-195744">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="195744" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="195744" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="195744" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="195744" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="195744" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-227275">
    <div id="comment-227275">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic4.png">     </div>
    <div class="tit"> 
	    <span class="name"> 嗨皮 </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2017-08-16</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-227275','227275', 'respond','100423' ) " href="?replytocom=227275#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 雪山大脚怪  load data infile</p>
<div class="comment-tools">
<div class="vote" id="vote-227275"><span id="acv_stat_227275"></span><a class="ilike_icon"  id="vote4-227275" href="javascript:acv_vote(227275,1);">亮了</a>(<span id="cos_support-227275">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="227275" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="227275" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="227275" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="227275" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="227275" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
      </ul>
      <div class="commentnav page01" style="padding-top:10px; text-align: center;">
               </div>
	  
<script src="http://www.freebuf.com/buf/themes/freebuf/js/ajaxfileupload.js" type="text/javascript"></script>
<div id="respond" class="comment-box">
<input type="file" id="uploadUnit" name="upfile" class="hidden" value="">
    <form action="http://www.freebuf.com/wp-comments-post.php" method="post" id="commentform">
        <div id="comment-author-info">
	    <div class="login-other">
		  <div class="login_button login_icon_sina" title="使用新浪微博登陆" onclick="login_button_click('sina')"></div>
          <div class="login_button login_icon_qq" title="使用腾讯QQ登陆" onclick="login_button_click('qq')"></div></div>
        <div class="login-input">
	    <p><label for="author">昵称</label>
		          <input type="text" name="author" id="author" value="" size="14" tabindex="1" aria-required='true' placeholder = "请输入昵称" required />
        </p><span>必须</span><span>您当前尚未登录。<a  class="simplemodal-login" href="http://www.freebuf.com/oauth" title="登陆">登陆？</a><a  href="https://account.tophant.com/register.html" target="_blank">注册</a></span></div>
		<div class="login-input">
		  <p><label for="email">邮箱</label><input type="text" name="email" id="email" value="" size="25" tabindex="2" aria-required='true' placeholder = "请输入邮箱地址" required /></p>
		<span>必须（保密）</span>
		</div>
    </div>

        <div id="test" class="post-area">
      <div class="holiday"></div>
	    <div class="comment-editor">
			<a id="comment-smiley" href="javascript:;">表情</a><a href="javascript:;" id="imageThumb">插图</a>
	    </div>
        <div id="smileys" >
           <a title="mrgreen" href="javascript:grin(':mrgreen:')"><img src="http://image.3001.net/images/index/smilies/icon_mrgreen.gif" /></a><a title="razz" href="javascript:grin(':razz:')"><img src="http://image.3001.net/images/index/smilies/icon_razz.gif" /></a><a title="sad" href="javascript:grin(':sad:')"><img src="http://image.3001.net/images/index/smilies/icon_sad.gif" /></a><a title="smile" href="javascript:grin(':smile:')"><img src="http://image.3001.net/images/index/smilies/icon_smile.gif" /></a><a title="oops" href="javascript:grin(':oops:')"><img src="http://image.3001.net/images/index/smilies/icon_redface.gif" /></a><a title="grin" href="javascript:grin(':grin:')"><img src="http://image.3001.net/images/index/smilies/icon_biggrin.gif" /></a><a title="eek" href="javascript:grin(':eek:')"><img src="http://image.3001.net/images/index/smilies/icon_surprised.gif" /></a><a title="???" href="javascript:grin(':???:')"><img src="http://image.3001.net/images/index/smilies/icon_confused.gif" /></a><a title="cool" href="javascript:grin(':cool:')"><img src="http://image.3001.net/images/index/smilies/icon_cool.gif" /></a><a title="lol" href="javascript:grin(':lol:')"><img src="http://image.3001.net/images/index/smilies/icon_lol.gif" /></a><a title="mad" href="javascript:grin(':mad:')"><img src="http://image.3001.net/images/index/smilies/icon_mad.gif" /></a><a title="twisted" href="javascript:grin(':twisted:')"><img src="http://image.3001.net/images/index/smilies/icon_twisted.gif" /></a><a title="roll" href="javascript:grin(':roll:')"><img src="http://image.3001.net/images/index/smilies/icon_rolleyes.gif" /></a><a title="wink" href="javascript:grin(':wink:')"><img src="http://image.3001.net/images/index/smilies/icon_wink.gif" /></a><a title="idea" href="javascript:grin(':idea:')"><img src="http://image.3001.net/images/index/smilies/icon_idea.gif" /></a><a title="arrow" href="javascript:grin(':arrow:')"><img src="http://image.3001.net/images/index/smilies/icon_arrow.gif" /></a><a title="neutral" href="javascript:grin(':neutral:')"><img src="http://image.3001.net/images/index/smilies/icon_neutral.gif" /></a><a title="cry" href="javascript:grin(':cry:')"><img src="http://image.3001.net/images/index/smilies/icon_cry.gif" /></a><a title="?" href="javascript:grin(':?:')"><img src="http://image.3001.net/images/index/smilies/icon_question.gif" /></a><a title="evil" href="javascript:grin(':evil:')"><img src="http://image.3001.net/images/index/smilies/icon_evil.gif" /></a><a title="shock" href="javascript:grin(':shock:')"><img src="http://image.3001.net/images/index/smilies/icon_eek.gif" /></a><a title="!" href="javascript:grin(':!:')"><img src="http://image.3001.net/images/index/smilies/icon_exclaim.gif" /></a>        </div>
         <textarea name="comment" id="comment" cols="100%" rows="7" tabindex="4" style="overflow-x:hidden; overflow-y:hidden; border:0; width:100%;" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById('submit').click();return false};"></textarea>
    </div>
      <div class="subcon but">
      <input class="btn btn-success" type="submit" name="submit" id="submit" tabindex="5" value="提交评论(Ctrl+Enter)" />
      <a rel="nofollow" class="btn btn-default" id="cancel-comment-reply-link" href="javascript:;">取消</a>
      <div class="checkbox"><input type='hidden' name='comment_post_ID' value='100423' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
<label for="comment_mail_notify" class="comment_mail"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked"/>有人回复时邮件通知我</label></div>
      </div>
    <input name="Token" id="Token" type="hidden" value="qhd7zd" />
  </form>
  </div>
</div>	  
<div class="commentshow">
<div class="comments-loading">Loading...</div>
</div>
<script language="javascript">
jQuery(document).ready(function($){ //Begin jQuery
    $('.reply').click(function() {
    var atid = '"#' + $(this).parent().attr("id") + '"';
    var atname = $(this).parent().find('span:first').text();
    $("#comment").val("@" + atname + " ").focus();
});
    $('.cancel-comment-reply a').click(function() { //点击取消回复评论清空评论框的内容
    $("#comment").val('');
});
}) 

jQuery(document).ready(function($) {
    $body = (window.opera) ? (document.compatMode == "CSS1Compat" ? $('html') : $('body')) : $('html,body');//commentnav ajax
    $(document).on('click', '.commentnav a', function(e) {
        e.preventDefault();
        $.ajax({
            type: "GET",
            url: $(this).attr('href'),
            beforeSend: function() {
                $('.commentnav').remove();
                $('.comment-list').remove();
                $('.comments-loading').slideDown();
            },
            dataType: "html",
            success: function(out) {
                result = $(out).find('.comment-list');
                nextlink = $(out).find('.commentnav');
                $('.comments-loading').slideUp(550);
                $('.comments-loading').after(result.fadeIn(800));
                $(".comment-list img").each(function(){
                  var url = $(this).attr("data-original");
                  $(this).attr("src",url);
                })
            }
        });
    });    
});
</script>            </div>
                    <div class="col-md-3 visible-md-block visible-lg-block">
                <div class="panel panel-default">
                    <div class="author-top">
                         <div class="author-wrap">
                            <div class="author-header"><img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-150x150.png" width="100" height="100" alt="" class="avatar avatar-100 wp-user-avatar wp-user-avatar-100 photo avatar-default" />                            </div>
                            <p class="name"><a href="http://www.freebuf.com/author/b41k3r" title="由 b41k3r 发布" rel="author">b41k3r</a><span></span></p>
                            <p class="signature">这家伙太懒，还未填写个人描述！</p>
                            <p class="art-com clearfix">
                                <span class="aut-article">
                                    <a href="/author/b41k3r"target="_blank">
                                        <i>3</i>
                                        <i>文章数</i>
                                    </a>
                                </span>
                                <span class="aut-comment">
                                    <a href="/author/b41k3r?comment=1" target="_blank">
                                        <i>16</i>
                                        <i>评论数</i>
                                    </a>
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="author-bottom">
                        <div class="author-wrap">
                            <h3 class="last-title">最近文章</h3>
                            <div class="last-item-wrap">
                                                                        <div class="last-item">
                                            <a href="http://www.freebuf.com/geek/126236.html" target="_blank"><span class="point"></span>用Hackrf One制作超级跑马机</a>
                                            <p class="last-time">2017.02.09</p>
                                        </div>
                                                                            <div class="last-item">
                                            <a href="http://www.freebuf.com/articles/database/100423.html" target="_blank"><span class="point"></span>技术分享：如何用Solr搭建大数据查询平台</a>
                                            <p class="last-time">2016.03.30</p>
                                        </div>
                                                                            <div class="last-item">
                                            <a href="http://www.freebuf.com/news/topnews/53197.html" target="_blank"><span class="point"></span>射手网复活攻略：用百度快照和phantomjs让射手网起死回生</a>
                                            <p class="last-time">2014.12.01</p>
                                        </div>
                                                                </div>
                        </div>

                        <div class="more-wrap">
                            <a href="http://www.freebuf.com/author/b41k3r" target="_blank" class="btn-new">浏览更多</a>
                        </div>
                    </div>
                </div>
                                <div class="panel panel-default">
                    <div class="read visible-md-block visible-lg-block">
                        <div class="main-tit02">
                            <h3>相关阅读</h3>
                        </div>
                        <ul>
  <li><a href="http://www.freebuf.com/news/103639.html" target="_blank">大数据追踪黑客：美国“神盾局”DARPA将开发新算法打击恐怖主义</a></li>
  
  <li><a href="http://www.freebuf.com/articles/database/132027.html" target="_blank">大数据安全分析的阶段性建设</a></li>
  
  <li><a href="http://www.freebuf.com/articles/others-articles/66214.html" target="_blank">一起来聊聊这个新职位：大数据安全分析师</a></li>
  
  <li><a href="http://www.freebuf.com/fevents/146865.html" target="_blank">XPwn 2017探索未来盛会遥望，迎接我们的会是少数派报告的世界吗？</a></li>
  
  <li><a href="http://www.freebuf.com/articles/database/120040.html" target="_blank">大数据隐私保护技术之脱敏技术探究</a></li>
  </ul>                    </div>
                </div>
                <!--<div class="ad-wrap"><a href="http://www.ijiami.cn/?freebuf.com" target="_blank"><img width="100%" src="http://image.3001.net/images/20141201/14174039186901.jpg"></a></div>-->
                <div class="panel panel-default rec-spe">
                    <div class="main-tit03 colour-blue">
                        <h3>特别推荐</h3>
                    </div>
                                                    <div class="rec-img"><a href="http://www.freebuf.com/ad?id=3" target="_blank"><img
                                            src="http://image.3001.net/2017/05/14a10c5c919d154dddbee79e3a944143-220x150.png" width="220"></a></div>
                                                </div>
                <div id="mar-right">
                    <!--<div class="read visible-lg-block">
        <div class="main-tit04">
          <h3>商城新品</h3>
        </div>
        <div id="slider" class="nivoSlider">  </div>
      </div>-->
                    <div class="panel panel-default code"><img src="http://image.3001.net/images/new/code.jpg" width="192"
                                                               height="192">
                        <p>关注我们 分享每日精选文章</p>
                    </div>
                </div>
            </div>
                </div>
                    <div class="row marvellous visible-lg-block">
                <h3>不容错过</h3>
                <ul>
                                                <li><a href="http://www.freebuf.com/articles/system/101447.html" rel="bookmark"
                                   title="黑暗幽灵（DCM）木马详细分析">黑暗幽灵（DCM）木马详细分析</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/%E8%85%BE%E8%AE%AF%E7%94%B5%E8%84%91%E7%AE%A1%E5%AE%B6" title="由 腾讯电脑管家 发布" rel="author">腾讯电脑管家</a></span>
                                                                        <span class="time">2016-04-13</span></p>
                            </li>
                                                    <li><a href="http://www.freebuf.com/vuls/144054.html" rel="bookmark"
                                   title="Office CVE-2017-8570远程代码执行漏洞复现">Office CVE-2017-8570远程代码执行漏洞复现</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/%e5%9b%bd%e5%85%89" title="由 国光 发布" rel="author">国光</a></span>
                                                                        <span class="time">2017-08-15</span></p>
                            </li>
                                                    <li><a href="http://www.freebuf.com/articles/web/53827.html" rel="bookmark"
                                   title="有趣的安全实验：利用多线程资源竞争技术上传shell">有趣的安全实验：利用多线程资源竞争技术上传shell</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/dawner" title="由 dawner 发布" rel="author">dawner</a></span>
                                                                        <span class="time">2014-12-09</span></p>
                            </li>
                                                    <li><a href="http://www.freebuf.com/news/37849.html" rel="bookmark"
                                   title="2014电子商务安全技术峰会（含全议题下载）">2014电子商务安全技术峰会（含全议题下载）</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/hackliu" title="由 HackLiu 发布" rel="author">HackLiu</a></span>
                                                                        <span class="time">2014-07-09</span></p>
                            </li>
                                                            </ul>
            </div>
            </div>
</div>
<script type="text/javascript">
  $(window).load(function() {
    $('#slider').nivoSlider();
  });
  $('#contenttxt img').removeAttr('height');
  $('#contenttxt img').wrap(function(){
    if(!$(this).parent().attr('href')){
      var imgurl = $(this).attr('data-original');
      if(imgurl.substr(-6)=='!small'){
        imgurl = imgurl.substring(0,imgurl.length-6);
      }
      return '<a href="' + imgurl + '" class="highslide-image" onclick="return hs.expand(this);" target="_blank"></a>';
    }
  })
</script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/comments-ajax.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.3001.net/js/focus/jquery.nivo.slider.pack.js"></script>
<!----------footer---------->
<div class="footer">
  <div class="container">
    <div class="footer-list ">
      <h3>FREEBUF</h3>
      <ul>
        <li><a href="http://www.freebuf.com/dis">免责声明</a></li>
        <li><a href="http://www.freebuf.com/news/others/864.html">关于我们</a></li>
        <li><a href="http://www.freebuf.com/jobs/40386.html">加入我们</a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <h3>广告及服务</h3>
      <ul>
        <li><a target="_blank" href="mailto:root@freebuf.com">寻求报道</a></li>
        <li><a href="http://www.freebuf.com/advertise">广告合作</a></li>
        <li><a target="_blank" href="mailto:help@freebuf.com">联系我们</a></li>
        <li><a href="http://www.freebuf.com/friends">友情链接</a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <h3>关注我们</h3>
      <ul>
        <li><div class="weixin-pannel weixin"><a class="qr" href="javascript:viod(0);"><span class="g-icon-qr1">官方微信</span><i></i></a></div></li>
        <li><a rel="nofollow" target="_blank" href="http://weibo.com/freebuf">新浪微博</a></li>
        <li><a rel="nofollow" target="_blank" href="http://t.qq.com/freebuf">腾讯微博</a></li>
        <li><a rel="nofollow" target="_blank" href="http://twitter.com/freebuf">Twitter</a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <h3>赞助商</h3>
      <ul>
        <li style="padding:6px 0 10px;"><a rel="nofollow" target="_blank" href="http://www.aliyun.com/?freebuf"><img src="http://image.3001.net/images/ad/ali.png"></a></li>
        <li><a rel="nofollow" target="_blank" href="http://www.upyun.com/?freebuf"><img src="http://image.3001.net/images/ad/upyun.png"></a></li>
        <li style="padding:6px 0 10px;"><a rel="nofollow" target="_blank" href="https://www.trustasia.com/?freebuf"><img src="http://image.3001.net/images/ad/ad-yzcx.png"></a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <ul>
      </ul>
    </div>
    <div class="footer-logo  pull-right"><img src="http://image.3001.net/images/index/freebufrobot_shendanjie.png" ></div>
  </div>
  <div class="copyright"><div class="container"><p>Copyright &copy; 2017 WWW.FREEBUF.COM All Rights Reserved <a rel="nofollow" target="_blank" href="http://www.miitbeian.gov.cn">沪ICP备13033796号</a></p><span><a rel="nofollow" target="_blank" href="http://click.aliyun.com/m/1336/?freebuf"><img src="http://image.3001.net/images/new/icon-aly.png"></a></span></div></div>
</div>
<div class="bottom_tools"><a id="scrollUp" href="javascript:;" title="飞回顶部"></a></div>
<!----------footer end----------> 
<script src="http://static.3001.net/js/new/backtop.js"></script>
<script type="text/javascript">
jQuery(function(){	
	jQuery('.tabPanes ul li').click(function(){
		jQuery(this).addClass('hit').siblings().removeClass('hit');
		jQuery('.panesl>div:eq('+jQuery(this).index()+')').show().siblings().hide();	
	})
	jQuery('.vulbox-nav').click(function(e) { 
        e.stopPropagation(); 
    });  
})
</script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fcc53db168808048541c6735ce30421f5' type='text/javascript'%3E%3C/script%3E"));
</script>
<img alt='css.php' src="http://www.freebuf.com/buf/plugins/cc/css.php?k=3cb185a485c81b23211eb80b75a406fd&amp;o=i&amp;t=1029370226" width='1' height='1' /><script type="text/javascript">
jQuery(function() {
    jQuery(".simditor pre").each(function(i, block){
        hljs.highlightBlock(block);    
    });
    hljs.initHighlightingOnLoad();
});
</script>
<script>
/* <![CDATA[ */
var rcGlobal = {
	serverUrl		:'http://www.freebuf.com',
	infoTemp		:'%REVIEWER% on %POST%',
	loadingText		:'Loading',
	noCommentsText	:'No comments',
	newestText		:'&laquo; 最新',
	newerText		:'&laquo; 新一点',
	olderText		:'旧一点 &raquo;',
	showContent		:'1',
	external		:'1',
	avatarSize		:'32',
	avatarPosition	:'left',
	anonymous		:'Anonymous'
};
/* ]]> */
</script>
<script type='text/javascript' src='http://static.3001.net/js/recentcomments/wp-recentcomments-jquery.js?ver=2.2.3'></script>
</body>
</html>
