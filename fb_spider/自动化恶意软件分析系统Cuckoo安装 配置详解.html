<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
                              _.._        ,------------.
                           ,'      `.    ( We want you! )
                          /  __) __` \    `-,----------'
                         (  (`-`(-')  ) _.-'
                         /)  \  = /  (
                        /'    |--' .  \
                       (  ,---|  `-.)__`
                        )(  `-.,--'   _`-.
                       '/,'          (  Uu",
                        (_       ,    `/,-' )
                        `.__,  : `-'/  /`--'
                          |     `--'  |
                          `   `-._   /
                           \        (
                           /\ .      \.  freebuf
                          / |` \     ,-\
                         /  \| .)   /   \
                        ( ,'|\    ,'     :
                        | \,`.`--"/      }
                        `,'    \  |,'    /
                       / "-._   `-/      |
                       "-.   "-.,'|     ;
                      /        _/["---'""]
                     :        /  |"-     '
                     '           |      /
                                 `      |
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  自动化恶意软件分析系统Cuckoo安装、配置详解 - FreeBuf.COM | 关注黑客与极客</title>
<meta name="description" content="本文作者： 甲鱼@千里目安全攻防实验室
0&#215;00 简述  
沙盒(Sanbox) 是一种将未知、不可信的软件隔离执行的安全机制。恶意软件分析沙盒一般用来将不可信软件放在隔离环境中自动地动态执行，然后提取其运行过程中…" />
<meta name="keywords" content="最全安全工具信息,安全工具下载地址,安全工具排行" />
<meta name="baidu-site-verification" content="nKKKqQxp6R" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="renderer" content="webkit">
<meta property="qc:admins" content="6620477777662552566375" />
<link rel='stylesheet' id='wpfp-css' href='http://www.freebuf.com/buf/plugins/wp-favorite-posts/wpfp.css' type='text/css' />
<link rel='stylesheet' id='wp-recentcomments-css'  href='http://static.3001.net/css/recentcomments/wp-recentcomments.css?ver=2.2.3' type='text/css' media='screen' />
<link rel='stylesheet' id='mycred-widget-css'  href='http://www.freebuf.com/buf/plugins/gold/assets/css/widget.css?ver=1.3.2.1' type='text/css' media='all' />
<script type='text/javascript' src='http://static.3001.net/js/header/jquery.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://www.freebuf.com/buf/plugins/wp-favorite-posts/wpfp.js?ver=3.6.1'></script>
<link rel='prev' title='揭秘Patchwork APT攻击 ：一个与中国南海和东南亚问题相关的网络攻击组织' href='http://www.freebuf.com/articles/network/108637.html' />
<link rel='next' title='躲不掉的红色炸弹，这次真的「爆」了' href='http://www.freebuf.com/articles/terminal/108731.html' />
<link rel='canonical' href='http://www.freebuf.com/sectool/108533.html' />
<link rel='shortlink' href='http://www.freebuf.com/?p=108533' />

<link rel="stylesheet" href="http://static.3001.net/css/highslide/highslide.css" type="text/css" />
<script type="text/javascript" src="http://static.3001.net/js/highslide/highslide-with-html.packed.js"></script>
<script type="text/javascript">
jQuery(document).ready(function($) {
    hs.graphicsDir = "http://www.freebuf.com/buf/plugins/auto-highslide/images/graphics/";
    hs.outlineType = "rounded-white";
    hs.dimmingOpacity = 0.8;
    hs.outlineWhileAnimating = true;
    hs.showCredits = false;
    hs.captionEval = "this.thumb.alt";
    hs.numberPosition = "caption";
    hs.align = "center";
    hs.transitions = ["expand", "crossfade"];
    hs.addSlideshow({
        interval: 5000,
        repeat: true,
        useControls: true,
        fixedControls: "fit",
        overlayOptions: {
            opacity: 0.75,
            position: "bottom center",
            hideOnMouseOut: true

        }

    });
});
</script>
          <script language="JavaScript" type="text/javascript" src="http://www.freebuf.com/buf/plugins/cartpauj-pm/js/script.js"></script>
      <link rel="stylesheet" type="text/css" href="http://www.freebuf.com/buf/plugins/cartpauj-pm/style/style.css" />
      <script type="text/javascript" src="http://www.freebuf.com/buf/plugins/simditor/highlight/highlight.pack.js"></script><link type="text/css" rel="stylesheet" href=" http://www.freebuf.com/buf/plugins/simditor/highlight/styles/default.css" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<link rel="shortcut icon" href="http://static.freebuf.com/images/favicon.ico" />
<link rel="stylesheet" href="http://static.3001.net/css/new/header.css" />
<link href="http://static.3001.net/css/new/bootstrap.min.css?ver=2016051701" rel="stylesheet" media="screen">
    <!--轮播图-->
    <link href="http://static.3001.net/css/new/swiper-3.4.2.min.css" rel="stylesheet" type="text/css">
    <link href="http://static.3001.net/css/new/style.css?ver=20170912568" rel="stylesheet" type="text/css">
    <style type="text/css">
#contenttxt hr {
  display: block;
  height: 0px;
  border: 0;
  border-top: 1px solid #ccc;
  margin: 15px 0;
  padding: 0;
}
#contenttxt table {
  width: 100%;
  table-layout: fixed;
  border-collapse: collapse;
  border-spacing: 0;
  margin: 15px 0;
}
#contenttxt table thead {
  background-color: #f9f9f9;
}
#contenttxt table td, #contenttxt table th {
  min-width: 40px;
  height: 30px;
  border: 1px solid #ccc;
  vertical-align: top;
  padding: 2px 4px;
  text-align: left;
  box-sizing: border-box;
  white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;
}
#contenttxt table td.active, #contenttxt table th.active {
  background-color: #ffffee;
  white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;
}
</style>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/jquery-2.0.3.min.js"></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/bootstrap.min.js"></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/slider.js?2016022501.1" type="text/javascript"></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/jquery.sticky.js" type="text/javascript"></script>
<script src="http://static.3001.net/js/focus/bjqs-1.3.min.js" type="text/javascript" ></script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/mosaic.1.0.1.min.js" type="text/javascript" ></script>
<script type="text/javascript" src="http://static.3001.net/js/new/setint.js"></script>
    <!--轮播图-->
    <script src="http://static.3001.net/js/colum/swiper-3.4.2.min.js"></script>
<!--[if lt IE 9]>
    <script src="http://www.freebuf.com/buf/themes/freebuf/js/html5shiv.min.js"></script>
    <script src="http://www.freebuf.com/buf/themes/freebuf/js/respond.min.js"></script>
<![endif]-->
    <style>
        @font-face {font-family: 'iconfont';
            src: url('http://static.3001.net/iconfont/iconfont.eot'); /* IE9*/
            src: url('http://static.3001.net/iconfont/iconfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
            url('http://static.3001.net/iconfont/iconfont.woff') format('woff'), /* chrome、firefox */
            url('http://static.3001.net/iconfont/iconfonticonfont.ttf') format('truetype'), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/
            url('http://static.3001.net/iconfont/iconfont.svg#iconfont') format('svg'); /* iOS 4.1- */
        }
    </style>
</head>

<body>
<!----------header---------->
<!--头部导航-->
<div id="undefined-sticky-wrapper" class="sticky-wrapper is-sticky">
    <div class="main-header">
        <div class="header">
            <div class="header-container clearfix">
                                <div class="header-logo"><a href="http://www.freebuf.com"></a></div>
                                        <!-- column -->
                        <div class="nav">
                            <ul class="nav-child clearfix">
                                <li class=" index">
                                    <a href="http://www.freebuf.com">首页</a></li>
                                <li data-value="read-menu">
                                    <a href="#">分类阅读<b class="triangle-down triangle-down-04"></b></a>
                                </li>
                                <li data-value="wenku-menu"><a href="javascript:;" target="_blank">文库<b class="triangle-down triangle-down-04"></b></a></li>
                                <li>
                                    <a href="http://zhuanlan.freebuf.com" target="_blank">专栏</a><b class="icon-betr"></b>
                                </li>
                                <li><a href="http://open.freebuf.com" target="_blank">公开课</a></li>
                                <li><a href="http://shop.freebuf.com" target="_blank">商城</a></li>
                                <li data-value="company-menu"><a href="javascript:;" >企业服务<b class="triangle-down triangle-down-04"></b></a></li>
                                <li data-value="user-menu"><a href="javascript:;" >用户服务<b class="triangle-down triangle-down-04"></b></a></li>
                            </ul>
                        </div>
                                        <div class="header-right">
                                    <div class="loginSign login-before">
                        <a href="https://account.tophant.com/register.html" class="login-btn">注册</a>
                        |
                        <a href="http://www.freebuf.com/oauth" class="sign-btn">登录</a>
                    </div>
                                    <!--搜索-->
                    <div class="search-form-inner clearfix">
                        <i class="searchdisplayico"></i>
                        <div class="form-group has-active search-col search-form-text">
                            <form id="hpsform-new" class="navbar-search navbar-form" onsubmit="return dispatch();">
                                <div class="form-group">
                                    <input id="bigq" class="input form-control" type="text" placeholder="关键字查找" autocomplete="off" title="关键字查找" name="q">
                                    <button class="submit" type="submit"></button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!--<script>
                        $('.search-form-inner .searchdisplayico').click(function(event) {
                            var evt = evt || event;
                            evt.stopPropagation();
                            $(this).siblings('.search-col').addClass('active');
                        });
                        $('.search-form-inner .search-col').click(function(event) {
                            var evt = evt || event;
                            evt.stopPropagation();
                            $('.search-form-inner .search-col').addClass('active');
                        });
                        $(document).click(function() {
                            $('.search-form-inner .search-col').removeClass('active');
                        });
                    </script>-->
                                    <div class="btn-publish">
                        <a href="#">投稿</a>
                        <div class="btn-publish-child">
                            <ul class="btn-child clearfix">
                                <li><a href="http://my.freebuf.com/post/edit/" target="_blank">文章撰写</a></li>
                                <li><hr/></li>
                                <li><a href="http://my.freebuf.com/post/article/" target="_blank">投稿管理</a></li>
                                                        </ul>
                        </div>
                    </div>
                </div>
                <div class="nav-small">
                    <a href="#">&#xe634;</a>
                    <ul class="nav-child clearfix">
                                                        <li class=" index">
                                    <a href="http://www.freebuf.com">首页</a></li>
                                <li class="read-classify">
                                    <a href="#">分类阅读<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2 read-classify clearfix">
                                        <li>
                                            <strong>黑客</strong>
                                            <div class="nav-item">
                                                <a href="http://www.freebuf.com/vuls" target="_blank">漏洞</a>
                                                <a href="http://www.freebuf.com/sectool" target="_blank">安全工具</a>
                                                <a href="http://www.freebuf.com/articles/web" target="_blank">WEB安全</a>
                                                <a href="http://www.freebuf.com/articles/system" target="_blank">系统安全</a>
                                                <a href="http://www.freebuf.com/articles/network" target="_blank">网络安全</a>
                                                <a href="http://www.freebuf.com/articles/wireless" target="_blank">无线安全</a>
                                                <a href="http://www.freebuf.com/articles/terminal" target="_blank">设备/客户端安全</a>
                                                <a href="http://www.freebuf.com/articles/database" target="_blank">数据库安全</a>
                                                <a href="http://www.freebuf.com/articles/security-management" target="_blank">安全管理</a>
                                                <a href="http://www.freebuf.com/articles/es" target="_blank">企业安全</a>
                                                <a href="http://www.freebuf.com/ics-articles" target="_blank">工控安全</a>
                                            </div>
                                        </li>
                                        <li>
                                            <strong>极客</strong>
                                            <div class="nav-item">
                                                <a href="http://www.freebuf.com/geek" target="_blank">极客有意思</a>
                                                <a href="http://www.freebuf.com/news/others" target="_blank">周边</a>
                                            </div>
                                        </li>
                                        <li>
                                            <strong>特色</strong>
                                            <div class="nav-item">
                                                <a href="http://www.freebuf.com/news/special" target="_blank">头条</a>
                                                <a href="http://www.freebuf.com/articles/people" target="_blank">人物志</a>
                                                <a href="http://www.freebuf.com/fevents" target="_blank">活动</a>
                                                <a href="http://www.freebuf.com/video" target="_blank">视频</a>
                                                <a href="http://www.freebuf.com/articles/neopoints" target="_blank">观点</a>
                                                <a href="http://www.freebuf.com/jobs" target="_blank">招聘</a>
                                                <a href="http://www.freebuf.com/paper/" target="_blank">报告</a>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="http://zhuanlan.freebuf.com/" target="_blank">专栏</a></li>
                                <li><a href="http://open.freebuf.com" target="_blank">公开课</a></li>
                                <li><a href="http://shop.freebuf.com" target="_blank">商城</a></li>
                                <li>
                                    <a href="javascript:;" target="_blank">企业服务<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2">
                                        <li>
                                            <a href="https://www.vulbox.com/bounties/item-9-0-1" target="_blank"><strong>企业SRC</strong></a>
                                        </li>
                                        <li>
                                            <a href="http://company.freebuf.com" target="_blank"><strong>企业空间</strong></a>
                                        </li>
                                        <li>
                                            <a href="https://www.vulbox.com/" target="_blank"><strong>安全测试</strong></a>
                                        </li>
                                        <li>
                                            <a href="https://www.riskivy.com/" target="_blank"><strong>风险感知</strong></a>
                                        </li>

                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript:;" target="_blank">用户服务<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2">
                                        <li>
                                            <a href="http://www.freebuf.com/newsend" target="_blank"><strong>有奖投稿</strong></a>
                                        </li>
                                        <li>
                                            <a href="http://zhuanlan.freebuf.com" target="_blank">
                                        </li>
                                        <li>
                                            <a href="https://www.vulbox.com/bounties/detail-72" target="_blank"><strong>提交漏洞</strong></a>
                                        </li>
                                        <li class="last">
                                            <a href="https://www.vulbox.com/bounties" target="_blank"><strong>参与众测</strong></a>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="javascript:;" target="_blank">文库<b class="icon-arrow"></b></a>
                                    <ul class="nav-child2">
                                        <li>
                                            <a href="http://www.freebuf.com/wenku" target="_blank"><strong>文库</strong></a>
                                        </li>
                                        <li>
                                            <a href="http://www.freebuf.com/special-subject" target="_blank"><strong>专题</strong></a>
                                        </li>
                                    </ul>
                                </li>
                                                    <li><a href="http://my.freebuf.com/post/edit" target="_blank">投稿</a></li>
                                                    <li><a href="https://account.tophant.com/register.html" class="login-btn">注册</a>
                            </li>
                            <li><a href="http://www.freebuf.com/oauth" class="sign-btn">登录</a></li>
                                            </ul>
                </div>
            </div>
            <div class="dropdown-menu read-menu" id="read-menu">
                <div class="container">
                    <ul class="menu clearfix">
                        <li>
                            <strong>黑客</strong>
                            <div class="nav-item">
                                <a href="http://www.freebuf.com/vuls" target="_blank">漏洞</a>
                                <a href="http://www.freebuf.com/sectool" target="_blank">安全工具</a>
                                <a href="http://www.freebuf.com/articles/web" target="_blank">WEB安全</a>
                                <a href="http://www.freebuf.com/articles/system" target="_blank">系统安全</a>
                                <a href="http://www.freebuf.com/articles/network" target="_blank">网络安全</a>
                                <a href="http://www.freebuf.com/articles/wireless" target="_blank">无线安全</a>
                                <a href="http://www.freebuf.com/articles/terminal" target="_blank">设备/客户端安全</a>
                                <a href="http://www.freebuf.com/articles/database" target="_blank">数据库安全</a>
                                <a href="http://www.freebuf.com/articles/security-management" target="_blank">安全管理</a>
                                <a href="http://www.freebuf.com/articles/es" target="_blank">企业安全</a>
                                <a class="last" href="http://www.freebuf.com/ics-articles" target="_blank">工控安全</a>
                            </div>
                        </li>
                        <li>
                            <strong>极客</strong>
                            <div class="nav-item">
                                <a href="http://www.freebuf.com/geek" target="_blank">极客有意思</a>
                                <a class="last" href="http://www.freebuf.com/news/others" target="_blank">周边</a>
                            </div>
                        </li>
                        <li>
                            <strong>特色</strong>
                            <div class="nav-item">
                                <a href="http://www.freebuf.com/news/special" target="_blank">头条</a>
                                <a href="http://www.freebuf.com/articles/people" target="_blank">人物志</a>
                                <a href="http://www.freebuf.com/fevents" target="_blank">活动</a>
                                <a href="http://www.freebuf.com/video" target="_blank">视频</a>
                                <a href="http://www.freebuf.com/articles/neopoints" target="_blank">观点</a>
                                <a href="http://www.freebuf.com/jobs" target="_blank">招聘</a>
                                <a class="last" href="http://www.freebuf.com/paper/" target="_blank">报告</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="dropdown-menu company-menu" id="company-menu">
                <div class="container">
                    <ul class="menu">
                        <li>
                            <a href="https://www.vulbox.com/bounties/item-9-0-1" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-src.png"></span>
                                <span class="name">企业SRC</span>
                                <span class="intro">全/半托管式互联网漏洞收集管理</span>
                            </a>
                        </li>
                        <li>
                            <a href="http://company.freebuf.com" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-company.png"></span>
                                <span class="name">企业空间</span>
                                <span class="intro">为企业定制信息安全专属门户</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.vulbox.com/" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-safety.png"></span>
                                <span class="name">安全测试</span>
                                <span class="intro">国内领先的互联网安全众测服务</span>
                            </a>
                        </li>
                        <li class="last">
                            <a href="https://www.riskivy.com/" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-risk.png"></span>
                                <span class="name">风险感知</span>
                                <span class="intro">基于IT资产的自动化安全监控</span>
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
            <div class="dropdown-menu user-menu" id="user-menu">
                <div class="container">
                    <ul class="menu">
                        <li>
                            <a href="http://www.freebuf.com/newsend" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-write.png"></span>
                                <span class="name">有奖投稿</span>
                                <span class="intro">与整个行业分享你的经验与见解</span>
                            </a>
                        </li>
                        <li>
                            <a href="http://zhuanlan.freebuf.com" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-column.png"></span>
                                <span class="name">申请专栏</span>
                                <span class="intro">自由创作，打造自主内容品牌</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.vulbox.com/bounties/detail-72" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-leak.png"></span>
                                <span class="name">提交漏洞</span>
                                <span class="intro">与数万白帽一起，让互联网更安全</span>
                            </a>
                        </li>
                        <li class="last">
                            <a href="https://www.vulbox.com/bounties" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-test.png"></span>
                                <span class="name">参与众测</span>
                                <span class="intro">挖洞开启自由职业之路</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="dropdown-menu wenku-menu" id="wenku-menu">
                <div class="container">
                    <ul class="menu">
                        <li>
                            <a href="http://www.freebuf.com/wenku" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-write.png"></span>
                                <span class="name">文库</span>
                                <span class="intro">最全的FB百科</span>
                            </a>
                        </li>
                        <li class="last">
                            <a href="http://www.freebuf.com/special-subject" target="_blank">
                                <span class="img"><img src="http://image.3001.net/images/header/icon-test.png"></span>
                                <span class="name">专题</span>
                                <span class="intro">浓缩的安全精华汇总</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!----------header end---------->
<!--<script type="application/javascript">
    var  _value_tab = '';
    $(function(){
        var _that = '', _show_flag = 0;
        $('.header .header-container .nav .nav-child > li:not(input[data-value])').mouseover(function() {
            $('.header .dropdown-menu').stop().slideUp(50);
        });
        $('.header').mouseout(function() {
            $('.header .dropdown-menu').stop().slideUp(50);
        });
        /*$('.header .header-container .nav .nav-child > li').mouseover(function() {
         _value_tab = $(this).attr('data-value');
         $('#'+_value_tab).siblings('.dropdown-menu').stop().slideUp(50);
         $('#'+_value_tab).stop().slideDown(100);
         });*/
        $(".header .header-container .nav .nav-child > li").hoverDelay({
            hoverDuring: 500,
            hoverEvent: function(){
                $('#'+_value_tab).siblings('.dropdown-menu').stop().slideUp(50);
                $('#'+_value_tab).stop().slideDown(100);
            }
        });
        $('.header .dropdown-menu').mouseover(function() {
            _value_tab = $(this).attr('id');
            _that = this;
            $('.nav-child li[data-value="'+_value_tab+'"]').addClass('hover');
            $(this).stop().slideDown(50);
        }).mouseout(function() {
            $('.nav-child li[data-value="'+_value_tab+'"]').removeClass('hover');
            $(_that).stop().slideUp(50);
        });

        $(".nav-small .nav-child > li").click(function(event){
            var ev = ev || event;
            ev.stopPropagation();

            if($(this).find('.nav-child2').is(":hidden")) {
                _show_flag = 1;
                $(this).find('.nav-child2').slideDown();
                $(this).find('.icon-arrow').addClass('bottom');
            }else {
                _show_flag = 0;
                $(this).find('.nav-child2').slideUp();
                $(this).find('.icon-arrow').removeClass('bottom');
            }
            $(this).siblings().find('.nav-child2').slideUp();
            $(this).siblings().find('.icon-arrow').removeClass('bottom');
        });
        //头部投稿按钮hover状态展开菜单
        $(".btn-publish-child > ul > li").hover(function(){
            $(this).addClass("active");
            $(this).siblings().removeClass("active");
        });

        $(document).click(function(event){
            var ev = ev || event;
            $(".login-after").find(".login-after-child").hide();
        });
        //点击用户信息，出现下拉菜单
        $("#user-info").click(function(event){
            var ev = ev || event;
            ev.stopPropagation();
            $(".login-after").find(".login-after-child").toggle();
        });
        //顶部导航
        $(".nav-small").click(function(){
            $(this).find(".nav-child").slideToggle();
        });
        var that = '';
        $('.header .header-container .nav .nav-child > li').mouseover(function() {
            that = this;
            $(this).find('.dropdown-menu').stop().slideDown(200);
        }).mouseout(function() {
            $(that).find('.dropdown-menu').stop().slideUp(200);
        });
    });
    $(".nav-small .nav-child > li").click(function(event){
        var ev = ev || event;
        ev.stopPropagation();
        $(this).siblings('li').find('.dropdown-menu').hide();
        $(this).find(".dropdown-menu").toggle();
    });
    //鼠标经过(hover)事件的延时处理
    (function($){
        $.fn.hoverDelay = function(options){
            var defaults = {
                hoverDuring: 100,
                outDuring: 100,
                hoverEvent: function(){
                    $.noop();
                },
                outEvent: function(){
                    $.noop();
                }
            };
            var sets = $.extend(defaults,options || {});
            var hoverTimer, outTimer;
            return $(this).each(function(){
                $(this).hover(function(){
                    _value_tab = $(this).attr('data-value');
                    clearTimeout(outTimer);
                    hoverTimer = setTimeout(sets.hoverEvent, sets.hoverDuring);
                },function(){
                    clearTimeout(hoverTimer);
                    outTimer = setTimeout(sets.outEvent, sets.outDuring);
                });
            });
        }
    })(jQuery);
</script>-->
<script type="text/javascript" src="http://static.3001.net/js/header/header.js"></script><script>
    jQuery(window).load(function(){
      if(jQuery(window).width()>480){
        jQuery(".main-header").sticky({ topSpacing: 0 });
      }else{
        jQuery(".main-header nav").removeClass("navbar-fixed-top");
      }
      jQuery("#mar-right").sticky({ topSpacing: 105,bottomSpacing: 410 });
    });
</script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/layer.js"></script>
<script type="text/javascript" src="http://static.3001.net/js/pretty/prettify.js"></script>
<script type="text/javascript" src="http://static.3001.net/js/header/lazyload.js"></script>
<script type="text/javascript" charset="utf-8">
      jQuery(function() {
          jQuery("img").lazyload({
              effect : "fadeIn"
          });
      });
 </script>
<script type="text/javascript">
    window.onload = function(){
        prettyPrint();
    }
</script>
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var va = "您已经点亮过了";
function acv_vote(id,option, m){
  if( m==null) m =''; m = m + '';
  jQuery('#acv_stat_'+m+id).html('Loading...');
  var url="http://www.freebuf.com/index.php?acv_ajax=true&option="+option+"&ID="+id;
  jQuery.get(url,function(d){
    d =d.split('|');var s='#acv_stat_'+m+d[0];
    var sele = '#cos_support-'+m+id,unsele = '#cos_unsupport-'+m+id,tpjs = 'javascript:alert(va)';
    jQuery( s ).html( d[1] );jQuery(s).fadeOut(400,function(){jQuery(s).fadeIn();});
    if( d[2] == 1 ){ jQuery(sele).html(jQuery(sele).html()*1+1); }
    if( d[2] == -1 ){ jQuery(unsele).html(jQuery(unsele).html()*1+1); }
    jQuery('#vote4-'+id).attr('href',tpjs);jQuery('#vote4-2'+id).attr('href',tpjs);
    jQuery('#votea-'+id).attr('href',tpjs);jQuery('#votea-2'+id).attr('href',tpjs);
  });
}
  
$(document).on("mouseenter",".comment-tools",function(){
  $(this).find(".btn-report").show();
  $(this).find(".btn-report").addClass("hover");
}).on("mouseleave",".comment-tools",function(){
  var $_this = $(this);
  $(this).find(".btn-report").removeClass("hover");
  if(!$(this).find(".dropup").hasClass('open')){
    $(this).find(".btn-report").hide(); 
    $_this.find(".dropdown-menu").css("display","none");
  }else{
    setTimeout(function(){
      if(!$_this.find(".btn-report").hasClass("hover")){
        $_this.find(".dropup").removeClass("open");
        $_this.find(".dropdown-menu").css("display","none");
        $_this.find(".btn-report").hide(); 
      }
    },"500");
  }
})

$(document).on("click",".click_report",function(){
  $(this).parent().parent().css("display","none");
  var id = $(this).attr("data-id");
  var url="http://www.freebuf.com/index.php?acv_ajax=true&option=0&ID="+id;
  $_this = $(this);
  jQuery.get(url,function(d){
    d =d.split('|');
    if(d[1]=='您已经点过灯了'){
      d[1] = '您已经举报过了';
    }
    if(d[1]=='Thank you'){
      d[1] = '举报成功';
    }
    $_this.parent().parent().parent().find(".btn-report").text(d[1]);
    $_this.parent().parent().parent().find(".btn-report").css("display","block");
  })
})

$(document).on("click",".btn-report",function(){
  if($(this).parent().hasClass('open')){
    $(this).parent().find(".dropdown-menu").css("display","block");
  }else{
    $(this).parent().find(".dropdown-menu").css("display","none");
  }
})
//]]>
</script>
<div class="column-article" data-column="">
            <div class="container pad-top35">
        <div class="row clearfix">
            <div class="col-md-9" id="getWidth">
                                    <div class="reletive search-xs-wrap">
                    <div class="form-group has-active search-col search-xs">
                        <form id="hpsform-new" class="navbar-search navbar-form" onsubmit="return dispatch()">
                            <div class="form-group">
                                <input id="q" class="input form-control" type="text" placeholder="关键字查找" autocomplete="off" title="关键字查找" name="q">
                                <button class="submit" type="submit"></button>
                            </div>
                        </form>
                    </div>
                </div>
                    <script type="text/javascript">
                        var dispatch = function () {
                            console.log(123)
                            var q = document.getElementById("q");
                            if (q.value == "") {
                                q = document.getElementById("bigq");
                            }
                            if (q.value != "") {
                                window.open('http://www.freebuf.com/?s=' + q.value, "_blank");
                                return false;
                            } else {
                                return false;
                            }
                        }
                    </script>
                                <div class="article-wrap panel panel-default">
                                                            <div class="articlecontent">
                                                    <div class="title">
                                <h2>
                                    自动化恶意软件分析系统Cuckoo安装、配置详解                                </h2>
                                <div class="property">
                                                                            <span class="name"><a href="http://www.freebuf.com/author/%e5%8d%83%e9%87%8c%e7%9b%ae%e5%ae%89%e5%85%a8%e5%ae%9e%e9%aa%8c%e5%ae%a4" title="由 千里目安全实验室 发布" rel="author">千里目安全实验室</a></span>
                                                                        <span class="icon-f"></span>
                                    <span class="time">2016-07-11</span>
                                                                                                            <span class="look">共<strong>366914</strong>人围观
                                        ，发现 <strong>12</strong> 个不明物体 </span>                                      </span>
                                                                <span class="tags">
                                      <a href="http://www.freebuf.com/./sectool">工具</a></span>
                                    <span class="tags_01"></span>
                                </div>
                            </div>
                                                                                                <div id="contenttxt">
                            <p><b style="color: rgb(0, 112, 192);">本文作者： 甲鱼@千里目安全攻防实验室</b></p>
<h2>0&#215;00 简述  <br /></h2>
<p><b style="color: rgb(0, 176, 80);">沙盒(Sanbox) 是一种将未知、不可信的软件隔离执行的安全机制。恶意软件分析沙盒一般用来将不可信软件放在隔离环境中自动地动态执行，然后提取其运行过程中的进程行为、网络行为、文件行为等动态行为，安全研究员可以根据这些行为分析结果对恶意软件进行更深入地分析。</b></p>
<p>Cuckoo 是一款用 <strong>Python</strong> 编写的开源的自动化恶意软件分析系统，它的主要功能有：</p>
<blockquote><ul>
<li>跟踪记录恶意软件所有的调用状况；</li>
<li>恶意软件文件行为：恶意软件执行过程中创建新文件、修改文件、删除文件、读取文件或下载文件的行为；</li>
<li>获取恶意软件的内存镜像；</li>
<li>以 PCAP 格式记录恶意软件的网络流量；</li>
<li>获取恶意软件执行过程中的屏幕截图；</li>
<li>获取执行恶意软件的客户机的完整内存镜像</li>
</ul>
</blockquote>
<p>Cuckoo 可以分析的文件类型包括但不限于：</p>
<blockquote><ul>
<li>Windows 可执行文件</li>
<li>DLL 文件</li>
<li>PDF 文件</li>
<li>MS Office 文件</li>
<li>URL 和 HTML 文件</li>
<li>PHP 脚本文件</li>
<li>CPL 文件</li>
<li>VB 脚本文件</li>
<li>ZIP 压缩包</li>
<li>JAR 文件</li>
<li>Python 脚本文件</li>
<li>APK 文件</li>
<li>ELF 文件</li>
</ul>
</blockquote>
<p>Cuckoo 的架构也比较简单，在 Host 机上运行 Cuckoo 主程序，多个 Guest 机通过虚拟网络与 Host 机相连，每个 Guest 机上有一个 <strong>Cuckoo Agent</strong> 程序，用来做 Cuckoo 的监控代理，结构图如下：</p>
<p style="text-align: center;"><img alt="1467691019551.png" data-original="http://image.3001.net/images/20160707/14678747343474.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="690" height="453">    </p>
<noscript><img alt="1467691019551.png" src="http://image.3001.net/images/20160707/14678747343474.png!small" width="690" height="453">    </p></noscript>
<h2>0&#215;01 Host 机环境准备</h2>
<p>Host 机操作系统： <strong>Ubuntu14.04.01_amd64_desktop</strong>（官方推荐用 Ubuntu 最新的 LTS 版本），Python 版本 <strong>2.7.6</strong>。</p>
<p>先去 Cuckoo Sandbox 官网下载最新的发布版本（目前是 <strong>v2.0-RC1</strong>）： <a href="https://cuckoosandbox.org/">https://cuckoosandbox.org/</a></p>
<p>先安装基本的依赖：</p>
<pre><code>apt-get install python python-pip python-dev libffi-dev libssl-dev
</code></pre>
<p>如果要用 Cuckoo 自带的基于 Django 的 Web 管理系统，还要安装 MongoDB：</p>
<pre><code>apt-get install mongodb
</code></pre>
<p>接下来需要批量安装 Cuckoo 的 Python 依赖包，Cuckoo 主目录里有一个 <code>requirements.txt</code> 文件，内容如下：</p>
<pre><code>alembic==0.8.0
beautifulsoup4==4.4.1
cffi==1.2.1
chardet==2.3.0
cryptography==1.0
Django==1.8.4
dpkt==1.8.6.2
ecdsa==0.13
enum34==1.0.4
Flask==0.10.1
HTTPReplay==0.1.5
idna==2.0
ipaddress==1.0.14
itsdangerous==0.24
Jinja2==2.8
jsbeautifier==1.5.10
Mako==1.0.1
MarkupSafe==0.23
ndg-httpsclient==0.4.0

http://pefile.googlecode.com/files/pefile-1.2.10-139.tar.gz#egg=pefile

pyasn1==0.1.8
pycparser==2.14
pymongo==3.0.3
pyOpenSSL==0.15.1
python-dateutil==2.4.2
python-editor==0.3
python-magic==0.4.6
requests==2.7.0
six==1.9.0
SQLAlchemy==1.0.8
tlslite-ng==0.6.0-alpha3
wakeonlan==0.2.2
Werkzeug==0.10.4
</code></pre>
<p>其中的 <code>pefile</code> 需要从 Google Code 上下载，由于大陆网络限制，需要自备梯子，登上梯子后执行以下批量安装命令：</p>
<pre><code>pip install -r requirements.txt
</code></pre>
<blockquote><p>或者先在爬梯子的情况下手动安装 <code>pefile</code>，再把 <code>pefile</code> 这一项从 <code>requirements.txt</code>文件中剔除，然后在不翻墙的状态下批量安装其他不用翻墙的依赖包</p>
</blockquote>
<p>Host 机需要可以嗅探网络数据包，需要安装 <code>tcpdump</code> ，如果本机没有，则执行以下命令安装 <code>tcpdump</code>：</p>
<pre><code>apt-get install tcpdump
</code></pre>
<p>如果系统没启用 <code>root</code> 账户，由于 <code>tcpdump</code> 的执行需要 <code>root</code> 权限，则需要以下配置：</p>
<pre><code>$ sudo setcap cap_net_raw,cap_net_admin=eip /usr/sbin/tcpdump
</code></pre>
<p>如果系统里没有<code>setcap</code>命令，则需要安装 <code>libpcap</code>包：</p>
<pre><code>$ sudo apt-get install libcap2-bin
</code></pre>
<p>如果需要启用内存镜像分析，需要安装 <code>volatility</code>：</p>
<pre><code>apt-get install volatility
</code></pre>
<h2>0&#215;02 Guest 客户机配置</h2>
<p>根据前文的 Cuckoo 架构图，前面准备好了宿主机，下面就该准备 Guest 机器了。Guest 机是一个或多个虚拟机，官方推荐的虚拟机管理软件是 <strong><code>VirtualBox</code></strong> 。</p>
<p>先去 VBox 官网下载最新的对应系统版本的 Deb 安装包： <a href="https://www.virtualbox.org/wiki/Linux_Downloads">https://www.virtualbox.org/wiki/Linux_Downloads</a></p>
<p>安装好 VBox 之后，创建新的虚拟机（推荐用 <code>Windows7</code>），需要对 Win7 客户机做一些基础配置。</p>
<h3>0&#215;02.1 安装 Cuckoo Agent</h3>
<p>Cuckoo Agent 是一个植入客户机的 Python 脚本，通过 XMLRPC Server 的方式来跟 Host 主机通信、交换数据。这个 Python 脚本是跨平台的，可以在 Windows/Linux/OS X 上运行。所以客户机上需要安装 Python 环境，如果需要截屏功能，还要安装 <strong><code>PIL</code></strong> （Python Image Library）库：</p>
<pre><code>pip instsall PIL
</code></pre>
<p>Cuckoo Agent 在 Window 系统上的安装方法很简单，只需要将 <code>cuckoo/agent/agent.py</code> 文件拷贝到 Win7 客户机里，并启动即可。</p>
<p>但是这样的运行方式并不够完美，我们需要这个 <code>agent.py</code> 开机启动，并且不能有运行窗口，这就需要另做一些处理：</p>
<ol>
<li>把 <code>agent.py</code> 文件放到系统开机启动目录中，Win7 默认的路径是 <code>C:\Users\[USER]\AppData\Roaming\MicroSoft\Windows\Start Menu\Programs\Startup\</code>；</li>
<li>把 <code>agent.py</code> 后缀改成 <code>agent.pyw</code>，这样程序启动就不会有 GUI 窗口了。</li>
</ol>
<h3>0&#215;02.2 配置系统开机自动登录</h3>
<p>Win7 客户机如果开机自动登录，可以方便 Cuckoo 控制。可以用管理员权限打开 CMD 窗口，依次执行以下命令：</p>
<pre><code>reg add "hklm\software\Microsoft\Windows NT\CurrentVersion\WinLogon" /v DefaultUserName /d &lt;USERNAME&gt; /t REG_SZ /f
reg add "hklm\software\Microsoft\Windows NT\CurrentVersion\WinLogon" /v DefaultPassword /d &lt;PASSWORD&gt; /t REG_SZ /f
reg add "hklm\software\Microsoft\Windows NT\CurrentVersion\WinLogon" /v AutoAdminLogon /d 1 /t REG_SZ /f
reg add "hklm\system\CurrentControlSet\Control\TerminalServer" /v AllowRemoteRPC /d 0x01 /t REG_DWORD /f
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System" /v LocalAccountTokenFilterPolicy /d 0x01 /t REG_DWORD /f
</code></pre>
<blockquote><p>注意修改前两条命令里的 <code>&lt;USERNAME&gt;</code> 和 <code>&lt;PASSWORD&gt;</code> 为自己的账户和密码</p>
</blockquote>
<h3>0&#215;02.3 其他处理</h3>
<p>为了方便恶意样本分析，最大程度保证恶意样本顺利执行，还需要关闭 Windows 系统的 <strong>Windows 防火墙</strong> 和 <strong>Windows 自动更新</strong>。</p>
<p>为了方便分析多种类型的恶意软件，还应该尽量在操作系统上安装 MS-Office 套装、PDF 阅读器、常用浏览器、Java 执行环境等等。并且，为了让客户机看起来更像普通人用的正常机器而不是一台沙盒客户机，尽量给操作系统安装其他常用的办公、娱乐、聊天软件，并访问一些网站、留下一些 Cookie 或其他数据。</p>
<h3>0&#215;02.4 网络配置</h3>
<p>客户机的网络配置是重中之重，配置不好 Cuckoo 几乎无法有效运行。</p>
<p>推荐的网络配置方法是通过 VirtualBox 的 <strong><code>Host-Only</code></strong> 模式，将一个或多个虚拟客户机部署在一个小的局域网中，与外界隔离开，通过 Host 机与外界交流。</p>
<p>首先，需要在 VirtualBox 上添加一块给 <code>Host-Only</code> 部署用的虚拟网卡，默认是 <code>vboxnet0</code>，Host 机通过此虚拟网卡与同网段的虚拟客户机通信：</p>
<p style="text-align: center;"><img alt="1467772922722.png" data-original="http://image.3001.net/images/20160707/14678747824606.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="600" height="397">    </p>
<noscript><img alt="1467772922722.png" src="http://image.3001.net/images/20160707/14678747824606.png!small" width="600" height="397">    </p></noscript>
<blockquote><p>VBox 中默认可能没有此 <code>vboxnet0</code> 的 <code>Host-only</code> 网卡，可以通过上图右上角的 <strong>添加</strong> 按钮手动添加</p>
</blockquote>
<p>Cuckoo 默认的 <code>Result Server</code> IP 地址为 <code>192.168.56.1</code>(在配置文件 <code>cuckoo/conf/cuckoo.conf</code> 中)，此 IP 要与上面的 <code>vboxnet0</code> 网卡的 IP 地址相对应，所以，还要手动修改 <code>vboxnet0</code> 的配置（DHCP 服务可不启用，手动配置客户机 IP 地址即可）：</p>
<p style="text-align: center;"><img alt="1467773364943.png" data-original="http://image.3001.net/images/20160707/14678748092216.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="519" height="286">    </p>
<noscript><img alt="1467773364943.png" src="http://image.3001.net/images/20160707/14678748092216.png!small" width="519" height="286">    </p></noscript>
<p>接下来手动配置 Win7 客户机的网络：</p>
<p style="text-align: center;"><img alt="1467773714198.png" data-original="http://image.3001.net/images/20160707/14678748175543.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="399" height="414">    </p>
<noscript><img alt="1467773714198.png" src="http://image.3001.net/images/20160707/14678748175543.png!small" width="399" height="414">    </p></noscript>
<p>至此，Host 机和 Win7 客户机就可以互相通信了，互相 Ping 一下可以 Ping 通。但这还无法满足正常的自动化恶意软件分析的要求，因为这种初级的 <code>Host-only</code> 模式里面虚拟机无法访问互联网，而很多恶意软件都需要访问网络才可以正常运行。所以我们还需要 <code>vboxnet0</code> 这块网卡具有代理上网的功能，使这个小局域网里的虚拟客户机可以通过这块虚拟网卡访问互联网。如果要满足这个需求，需要在 Ubuntu Host 机上做两个操作：开启流量转发、用    <code>iptables</code> 做地址转换（NAT）规则。</p>
<p>开启 IP 转发，用下面两条命令之一皆可：</p>
<pre><code>sysctl -w net.ipv4.ip_forward=1
echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</code></pre>
<p>但是上面的命令只能 <strong>临时开启</strong> IP 转发功能，系统重启之后便失效。若想永久开启此功能，需要手动修改配置文件 <strong><code>/etc/sysctl.conf</code></strong> ，将里面 <code>net.ipv4.ip_forward=1</code> 前的注释取消，然后运行以下命令即可永久开启 IP 转发功能：</p>
<pre><code>sysctl -p /etc/sysctl.conf
</code></pre>
<p>Ubuntu 系统中用 <code>iptables</code> 设置地址转换规则，Cuckoo 官方资料给出了参考命令：</p>
<pre><code>iptables -A FORWARD -o eth0 -i vboxnet0 -s 192.168.56.0/24 -m conntrack --ctstate NEW -j ACCEPT
iptables -A FORWARD -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
iptables -A POSTROUTING -t nat -j MASQUERADE
</code></pre>
<p>但是 Ubuntu 中的 <code>iptables</code> 这样设置也只是 <strong>临时</strong> 的，系统重启之后这些规则就会失效，如果想系统重启这些规则仍然可用，可以做以下处理：</p>
<p>编辑 Ubuntu 的网络配置文件 <code>/etc/network/interfaces</code> ，在文件末尾添加以下两行：</p>
<pre><code>pre-up iptables-restore &lt; /etc/iptables.rules #开机时启用 iptables 规则
post-down iptables-save &gt; /etc/iptables.rules #关机前保存当前所有的 iptables 规则
</code></pre>
<p>这样一来，Ubuntu Host 主机每次关机前都会把已有的 <code>iptables</code> 规则备份到 <code>/etc/iptables.rules</code> 文件中、每次开机是都会从 <code>/etc/iptables.rules</code> 读取规则并启用。</p>
<p>配置好之后，Guest 虚拟机就可以通过 <code>vboxnet0</code> 来访问互联网了。</p>
<h3>0&#215;02.5 保存客户机</h3>
<p>上面算是把客户机相关的配置都配置好了，接下来需要对配置好的客户机建立一个快照。每次 Cuckoo 调用客户机分析完一个恶意样本之后，会把虚拟机恢复到这个快照的状态。</p>
<p>保存系统快照的时候有一点需要注意：确保在系统正常运行、且 <code>agent.py</code> 无界面运行的时候，执行系统快照。</p>
<hr />
<h2>0&#215;03 Cuckoo 配置</h2>
<p>准备好 Host 机系统环境、配置好客户机之后， Cuckoo 还不能正常运行，还需要配置一下 Cuckoo 才能正常运行。 Cuckoo 有好多配置文件，都在 <code>cuckoo/conf/</code> 目录下，下面简要介绍几个主要配置文件的作用：</p>
<blockquote><ul>
<li><strong><code>cuckoo.conf</code></strong>： 主要的配置文件，最主要的是 <code>machinery</code> 用于指定我们使用的虚拟机配置文件，默认是 <code>virtualbox</code>，该文件同样位于 <code>conf</code> 目录下，名字是 <code>virtualbox.conf</code>。另外一个比较重要的配置项是<code>[resultserver]</code> 的 <code>ip</code>和            <code>port</code>，用于指定接收分析结果的服务器。该地址必须能够让虚拟机访问到，一般设置为虚拟网卡的地址，比如前面说过的 <code>Host-only</code> 虚拟网卡 <code>vboxnet0</code> 的 IP 地址<code>192.168.56.1</code>（也可以自己改成其他的），端口默认即可；</li>
<li><strong><code>auxiliary.conf</code></strong>： 辅助组件配置模块，可以配置 <code>tcpdump</code> /<code>mitm</code>/<code>sniffer</code>等；</li>
<li><strong><code>memory.conf</code></strong>： 内存分析配置模块，主要用来配置 <code>Volatility</code> 的行为；</li>
<li><strong><code>processing.conf</code></strong>： 核心处理组件配置文件，可以开启/关闭行为分析、缓冲区分析、内存分析、截屏、Snort、字符串提取、<code>VirusTotal</code>辅助分析等等功能；</li>
<li><strong><code>&lt;machinery&gt;.conf</code></strong>： 虚拟化配置文件，包括 <code>virtualbox</code>/<code>vmware</code>/<code>kvm</code>/<code>qume</code>等。在实际的配置当中，根据自己试用的虚拟化环境，只需要配置其中一个即可，同时采用的这个配置文件也必须 在<code>cuckoo.conf</code> 的 <code>machinery</code>            字段指定。这里的配置选项都是针对特定虚拟化平台的，很多选项只适用于某些平台。前面我们用的是 <code>virtualbox.conf</code>，其中 <code>mode</code> 指定 <code>virtualbox</code> 的运行模式，<code>path</code> 指定 <code>VBoxManage</code> 的绝对路径，<code>machines</code>指定我们使用的虚拟机的名字（多个虚拟机需要用半角逗号隔开），<code>platform</code>            指定虚拟客户机的系统类型，<code>ip</code> 指定虚拟机的 <code>ip</code> 地址;</li>
<li><strong><code>reporting.conf</code></strong>： 报告生成模块的配置文件，用来开启 <code>jsondump</code> 或者 <code>HTML Report</code>，还可以配置 <code>MongoDB</code> 存储分析结果（Web 控制台会用到）。</li>
</ul>
</blockquote>
<p>这里，我们需要修改的配置文件，可以修改 <strong><code>processing.conf</code></strong> 启用/关闭 自己想要的模块（比如 VT 模块），还需要修改 <strong><code>virtualbox.conf</code></strong>。根绝前文所述，假设我的 Win7 客户机名称是 <strong><code>jiayu1</code></strong>，IP 地址是 <code>192.168.56.101</code>，<strong><code>virtualbox.conf</code></strong>    的内容示例如下（<code>mode = headless</code> 是指 VBox 的 <strong>无界面启动模式</strong>）：</p>
<pre><code>[virtualbox]
# Specify which VirtualBox mode you want to run your machines on.
# Can be "gui", "sdl" or "headless". Refer to VirtualBox's official
# documentation to understand the differences.
mode = headless

# Path to the local installation of the VBoxManage utility.
path = /usr/bin/vboxmanage

# Default network interface.
interface = vboxnet0

# Specify a comma-separated list of available machines to be used. For each
# specified ID you have to define a dedicated section containing the details
# on the respective machine. (E.g. cuckoo1,cuckoo2,cuckoo3)
machines = jiayu1

[jiayu1]
# Specify the label name of the current machine as specified in your
# VirtualBox configuration.
label = jiayu1

# Specify the operating system platform used by current machine
# [windows/darwin/linux].
platform = windows

# Specify the IP address of the current virtual machine. Make sure that the
# IP address is valid and that the host machine is able to reach it. If not,
# the analysis will fail.
ip = 192.168.56.101

[honeyd]
# For more information on this VM please refer to the "services" section of
# the conf/auxiliary.conf configuration file. This machine is a bit special
# in the way that its used as an additional VM for an analysis.
# *NOTE* that if this functionality is used, the VM should be registered in
# the "machines" list in the beginning of this file.
label = honeyd
platform = linux
ip = 192.168.56.102
tags = service, honeyd
options = nictrace noagent
</code></pre>
<h2>0&#215;04 启动 Cuckoo，上传样本执行自动化分析</h2>
<p>至此，Cuckoo 自动化恶意软件分析环境的配置工作算是基本完成，接下来就是启动 Cuckoo 服务、上传样本进行自动化分析了。</p>
<p>在启动 Cuckoo 服务之前，还需要开启 <code>MongoDB</code> 服务，并根据 <strong><code>reporting.conf</code></strong> 中的关于 <code>MongoDB</code> 的配置创建一个新的数据集。比如我的 <strong><code>reporting.conf</code></strong> 关于数据库的 配置如下所示，我就需要手动创建一个名为 <code>cuckoo</code> 的数据集：</p>
<pre><code>[mongodb]
enabled = yes 
host = 127.0.0.1
port = 27017
db = cuckoo
store_memdump = yes 
paginate = 100
</code></pre>
<p>启动 Cuckoo 的服务只需一条命令：</p>
<pre><code>python cuckoo.py
</code></pre>
<p>但这样只能让该服务进程前台运行并且不能关闭中断，如果想让它后台运行，可以这样启动：</p>
<pre><code>nohup python cuckoo.py &amp;
</code></pre>
<p>启动 Cuckoo 服务进程之后，就可以提交样本进行分析了。提交样本可以用 <code>cuckoo/utils/submit.py</code> 来提交，具体方法见帮助：</p>
<pre><code>usage: submit.py [-h] [-d] [--remote REMOTE] [--url] [--package PACKAGE]
                 [--custom CUSTOM] [--owner OWNER] [--timeout TIMEOUT]
                 [-o OPTIONS] [--priority PRIORITY] [--machine MACHINE]
                 [--platform PLATFORM] [--memory] [--enforce-timeout]
                 [--clock CLOCK] [--tags TAGS] [--baseline] [--max MAX]
                 [--pattern PATTERN] [--shuffle] [--unique] [--quiet]
                 [target]

positional arguments:
  target                URL, path to the file or folder to analyze

optional arguments:
  -h, --help            show this help message and exit
  -d, --debug           Enable debug logging
  --remote REMOTE       Specify IP:port to a Cuckoo API server to submit
                        remotely
  --url                 Specify whether the target is an URL
  --package PACKAGE     Specify an analysis package
  --custom CUSTOM       Specify any custom value
  --owner OWNER         Specify the task owner
  --timeout TIMEOUT     Specify an analysis timeout
  -o OPTIONS, --options OPTIONS
                        Specify options for the analysis package (e.g.
                        "name=value,name2=value2")
  --priority PRIORITY   Specify a priority for the analysis represented by an
                        integer
  --machine MACHINE     Specify the identifier of a machine you want to use
  --platform PLATFORM   Specify the operating system platform you want to use
                        (windows/darwin/linux)
  --memory              Enable to take a memory dump of the analysis machine
  --enforce-timeout     Enable to force the analysis to run for the full
                        timeout period
  --clock CLOCK         Set virtual machine clock
  --tags TAGS           Specify tags identifier of a machine you want to use
  --baseline            Run a baseline analysis
  --max MAX             Maximum samples to add in a row
  --pattern PATTERN     Pattern of files to submit
  --shuffle             Shuffle samples before submitting them
  --unique              Only submit new samples, ignore duplicates
  --quiet               Only print text on failure
</code></pre>
<p>但这种命令提交的方法体验不太好，Cuckoo 官方提供了一个基于 Django 的 Web 管理界面，在 <code>cuckoo/web/</code> 目录中，启动这个 Web 管理界面需要进入 <code>cucoo/web/</code> 目录，然后运行以下命令：</p>
<pre><code>python manage.py runserver
</code></pre>
<p>如果需要对外开放该 Web 界面，则需要指定监听的 IP 地址 和端口：</p>
<pre><code>python manage.py runserver 0.0.0.0:[PORT]
</code></pre>
<p>然后就可以通过浏览器访问 Ubuntu Host 机的 IP 地址和 Cuckoo Web 界面对应的端口了，界面如下所示：</p>
<p style="text-align: center;"><img alt="1467798366595.png" data-original="http://image.3001.net/images/20160707/14678748936885.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="690" height="597">    </p>
<noscript><img alt="1467798366595.png" src="http://image.3001.net/images/20160707/14678748936885.png!small" width="690" height="597">    </p></noscript>
<p>点击导航栏上的 <code>Submit</code> 按钮，即可跳转到样本上传页面，上传时还可以选择一些高级的选项：</p>
<p style="text-align: center;"><img alt="1467798476312.png" data-original="http://image.3001.net/images/20160707/14678749033575.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="690" height="892">    </p>
<noscript><img alt="1467798476312.png" src="http://image.3001.net/images/20160707/14678749033575.png!small" width="690" height="892">    </p></noscript>
<blockquote><p>可以看到，Cuckoo 不仅可以直接分析上传的样本文件，还可以分析远程的 URL</p>
</blockquote>
<p>上传完成后，Cuckoo 就会自动分析，分析完成后，可以在 <code>Recent</code> 页面里查看最近分析的样本以及结果：</p>
<p style="text-align: center;"><img alt="1467798638548.png" data-original="http://image.3001.net/images/20160707/14678749136423.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="690" height="273">    </p>
<noscript><img alt="1467798638548.png" src="http://image.3001.net/images/20160707/14678749136423.png!small" width="690" height="273">    </p></noscript>
<p>Cuckoo 分析完的样本，可以点击查看分析报告，也可以重新分析已经完成的分析任务。</p>
<h2>0&#215;05 其他</h2>
<p><code>cuckoo/cukoo.py</code> 启动时有一个特殊的参数选项 <code>--clean</code>，官方的解释为 <code>Remove all tasks and samples and their associated data</code>。即一旦运行<code>python cuckoo.py --clean</code> ，那么所有的分析任务、样本和分析结果相关的数据都会被清除，相当于对 Cuckoo <strong>恢复出厂设置</strong>。</p>
<p>Cuckoo 自带了一个基于 <strong><code>flask</code></strong> 的轻量级 REST API 服务程序，即 <code>cuckoo/utils/api.py</code>，默认启动此程序会绑定到 <strong>localhost:8090</strong>，也可以启动时指定监听地址和端口：</p>
<pre><code>python utils/api.py --host 0.0.0.0 --port 1337
</code></pre>
<blockquote><p>也可以用此 API 程序，通过 <strong><code>uWSGI</code></strong> 和 <strong><code>Nginx</code></strong> 代理部署一个高性能的 REST API 服务。</p>
</blockquote>
<p>通过这个 REST API，可以实现灵活的任务管理（甚至比前文提到的 Cuckoo 自带的 Web 管理界面还灵活） ，也可以基于此开发一套自己的 Cuckoo 管理程序。具体用法参考 Cuckoo 官方文档。</p>
<p>Cuckoo 还支持分布式部署，多 Host 机节点、多 Guest 机支持，部署方式详见 官方文档。</p>
<p>Cuckoo 部署完成后，通过自带的 Web 管理界面，如果某个样本完成分析但查看分析报告的时候出现如下模板渲染错误：</p>
<p><img alt="1467860877539.png" data-original="http://image.3001.net/images/20160707/14678749356778.png!small" src="http://www.freebuf.com/buf/themes/freebuf/images/grey.gif" width="690" height="273">    </p>
<noscript><img alt="1467860877539.png" src="http://image.3001.net/images/20160707/14678749356778.png!small" width="690" height="273">    </p></noscript>
<p>处理方式是修改 <code>web/analysis/urls.py</code> 文件：</p>
<pre><code>-    "/(?P&lt;ip&gt;[\d\.]+)?/(?P&lt;host&gt;[a-zA-Z0-9-\.]+)?"
+    "/(?P&lt;ip&gt;[\d\.]+)?/(?P&lt;host&gt;[a-zA-Z0-9-_\.]+)?"
</code></pre>
<p>最后，Cuckoo 官方虽然声称可以支持 Linux 样本的分析，但支持的并不好。在 Ubuntu 上安装 <code>Systemtap</code> 并用 <code>stap</code> 命令执行 <code>cuckoo/data/strace.stp</code> 脚本完美生成可用的 <code>stap_xxxx.ko</code>，还要搞定官方并没有提供的 <code>probelkm.ko</code>，会经历各种大坑小坑，足够另起一篇长文，此处不详述。</p>
<hr />
<h2>0&#215;06 参考资料</h2>
<ol>
<li><a href="http://docs.cuckoosandbox.org/en/latest/">http://docs.cuckoosandbox.org/en/latest/</a></li>
<li><a href="http://drops.wooyun.org/tips/11367">http://drops.wooyun.org/tips/11367</a></li>
<li><a href="http://easwy.com/blog/archives/enable-ip-forward-on-linux/">http://easwy.com/blog/archives/enable-ip-forward-on-linux/</a></li>
</ol>
                                                    </div>
                        <div class="article-oper article-oper-new">
                            <style>
                                @font-face {font-family: 'iconfont';
                                    src: url('http://static.3001.net/iconfonts/iconfont.eot'); /* IE9*/
                                    src: url('http://static.3001.net/iconfonts/iconfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
                                    url('http://static.3001.net/iconfonts/iconfont.woff') format('woff'), /* chrome、firefox */
                                    url('http://static.3001.net/iconfonts/iconfont.ttf') format('truetype'), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/
                                    url('http://static.3001.net/iconfonts/iconfont.svg#iconfont') format('svg'); /* iOS 4.1- */
                                }
                            </style>
                            <div class="share-new clearfix">
                                <div class="share-author">
                                                                            <a href="http://www.freebuf.com/author/千里目安全实验室" title="由 千里目安全实验室 发布" rel="author">
                                            <img src="http://image.3001.net/2016/04/0_副本.jpg" width="50" height="50" alt="千里目安全实验室" class="avatar avatar-50 wp-user-avatar wp-user-avatar-50 photo" />                                            <!--							<img src="http://image.3001.net/2015/06/17.jpg" alt="ArthurKiller">-->
                                        </a>
                                        <div class="share-author-info">
                                                                                        <a class="author-name" href="http://www.freebuf.com/author/千里目安全实验室">千里目安全实验室</a>
                                            <!--<span class="icon-f"></span>-->
                                            <span>
                                <i class="colour-red">
                                    3                                </i>
                                篇文章</span>
                                            <span>等级：
                                <i class="colour-green">3</i>级
                            </span>
                                        </div>
                                                                                                        </div>
                                <div class="user-center clearfix">
                                                                            <a href="http://www.freebuf.com/author/千里目安全实验室" data-toggle="tooltip" data-placement="top" title="个人主页" class="home" target="_blank"></a>
                                                                        <a href="http://www.freebuf.com/user/pm?pmaction=newmessage&to=千里目安全实验室" data-toggle="tooltip" data-placement="top" title="私信" class="letter" target="_blank"></a>
                                </div>
                                <div class="share-ctrl clearfix">
                                                                        <div class="bdsharebuttonbox clearfix bdshare-button-style1-24 columnstatus"
                                         data-bd-bind="1489991449190" data-column="" data-title="自动化恶意软件分析系统Cuckoo安装、配置详解" data-name="">
                                        <a href="#" data-toggle="tooltip" data-placement="top" data-cmd="tsina" title="分享到新浪微博" id="tsina"></a>
                                        <a href="#" data-toggle="tooltip" data-placement="top" data-cmd="weixin" title="分享到微信" id="weixin"></a>
                                        <a href="#" data-toggle="tooltip" data-placement="top" data-cmd="qzone" title="分享到QQ空间" id="qzone"></a>
                                       <!-- _shareUrlWeibo = 'http://service.weibo.com/share/share.php?url=http://'+encodeURIComponent(_json[i].url)+'&title='+encodeURIComponent(_json[i].title)+'-FreeBuf涓撴爮路'+_json[i].columnName;
                                        _shareUrlZone = 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://'+encodeURIComponent(_json[i].url)+'&title='+_json[i].title+'-FreeBuf涓撴爮路'+_json[i].columnName;
                                        _shareSrc = 'http://s.jiathis.com/qrcode.php?url=http://'+_json[i].url;-->
                                        <span class="share-line">|</span>
                                    </div>
                                </div>
                                <div class="user-ctrl clearfix">
                                                                            <a href="http://www.freebuf.com/oauth" id="collect" data-toggle="tooltip" data-placement="top" title="收藏" ></a>
                                                                        <a href="#respond" data-toggle="tooltip" data-placement="top" title="评论" id="comments"></a>
                                                                        <!--					<a href="#" title="文章纠正">&#xe6e3;</a>-->
                                    <span class="share-line">|</span>
                                    <span class="info-alert"></span>
                                </div>
                            </div>
                            <script>
                                var column = $('.columnstatus').attr('data-column');
                                var text = '';
                                if(column){
                                    var title = $('.columnstatus').attr('data-title');
                                    var name = $('.columnstatus').attr('data-name');
                                    text = title+' - FreeBuf专栏·'+name;
                                }
                                window._bd_share_config={
                                    "common": {
                                        "bdSnsKey": {},
                                        "bdText": text,
                                        "bdMini": "2",
                                        "bdMiniList": ["qzone", "tsina", "weixin"],
                                        "bdPic": "",
                                        "bdStyle": "1",
                                        "bdSize": "24"
                                    },
                                    "share":{},
                                };
                                with(document)0[
                                    (getElementsByTagName('head')[0]||body).
                                    appendChild(createElement('script')).
                                        src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)
                                    ];
                                //控制垂直方向分享模块的定位
                                function shareFixVertical(){
                                    var offsetTop = jQuery(".article-oper").get(0).offsetTop;
                                    var win_h = jQuery(window).height();
                                    var win_w = jQuery(window).width();
                                    var scrollTop = document.body.scrollTop||document.documentElement.scrollTop;
                                    var _height = offsetTop-scrollTop;
                                    var _flag = $('.column-article').attr('data-column');
                                    if(_flag == 1) {
                                        if(_height>=win_h-660&&win_w>975){
                                            var _width = jQuery("#getWidth").innerWidth()-30;
                                            var _left = jQuery("#getWidth").offset().left+15;
                                            jQuery(".share-new").addClass("fixed");
                                            jQuery(".fixed").css({
                                                width:_width,
                                                left:_left
                                            });

                                        }else{
                                            jQuery(".share-new").removeClass("fixed");
                                            jQuery(".share-new").css({
                                                width: "100%"
                                            });
                                        }
                                    }else {
                                        if(_height>=win_h-255&&win_w>975){
                                            var _width = jQuery("#getWidth").innerWidth()-30;
                                            var _left = jQuery("#getWidth").offset().left+15;
                                            jQuery(".share-new").addClass("fixed");
                                            jQuery(".fixed").css({
                                                width:_width,
                                                left:_left
                                            });

                                        }else{
                                            jQuery(".share-new").removeClass("fixed");
                                            jQuery(".share-new").css({
                                                width: "100%"
                                            });
                                        }
                                    }
                                }
                                //控制水平方向分享模块的定位
                                function shareFixHorizontal(){
                                    var _width = jQuery("#getWidth").innerWidth()-30;
                                    var _left = jQuery("#getWidth").get(0).offsetLeft+15;
                                    var win_w = document.documentElement.clientWidth || document.body.clientWidth;
                                    jQuery(".fixed").css({
                                        width:_width,
                                        left:_left
                                    });
                                    if(win_w< 975){
                                        jQuery(".share-new").css({
                                            width: "100%",
                                            left: "0"
                                        });
                                    }else{
                                        var _width = jQuery("#getWidth").innerWidth()-30;
                                        var _left = jQuery("#getWidth").get(0).offsetLeft+15;
                                        jQuery(".fixed").css({
                                            width:_width,
                                            left:_left
                                        });
                                    }
                                }
                                function click(){
                                    var _w = jQuery(window).width();
                                    jQuery(document).click(function(e){
                                        if(jQuery(e.target).attr("id")=="weixin"){
                                            if(_w <= 760) {
                                                jQuery("#bdshare_weixin_qrcode_dialog").hide();
                                                layer.open({
                                                    title: '提示',
                                                    btnAlign: 'c',
                                                    content: '请使用手机浏览器自带的分享功能分享该页面',
                                                    area: '260px'
                                                });
                                            }else {
                                                jQuery("#bdshare_weixin_qrcode_dialog").show();
                                            }
                                        }else {
                                            jQuery("#bdshare_weixin_qrcode_dialog").hide();
                                        }
                                    });
                                }

                                jQuery(window).on("load",function(){
                                    shareFixVertical();
                                    click();
                                });

                                jQuery(window).on("scroll",function(){
                                    //判断滚轮方向
                                    var agent = navigator.userAgent;
                                    if (/.*Firefox.*/.test(agent)) {
                                        document.addEventListener("DOMMouseScroll", function(e) {
                                            e = e || window.event;
                                            var detail = e.detail;
                                            if (detail > 0) {
                                                $(".share-new").removeClass("fixed");
                                                $(".share-new").css({
                                                    width: "100%"
                                                });
                                                $('.main-header .header').removeClass('op1');
                                                $('.main-header .header').addClass('op0');
                                            } else {
                                                shareFixVertical();
                                                $('.main-header .header').removeClass('op0');
                                                $('.main-header .header').addClass('op1');
                                            }
                                        });
                                    } else {
                                        document.onmousewheel = function(e) {
                                            e = e || window.event;
                                            var wheelDelta = e.wheelDelta;
                                            if (wheelDelta > 0) {
                                                shareFixVertical();
                                                $('.main-header .header').removeClass('op0');
                                                $('.main-header .header').addClass('op1');
                                            } else {
                                                $(".share-new").removeClass("fixed");
                                                $(".share-new").css({
                                                    width: "100%"
                                                });
                                                $('.main-header .header').removeClass('op1');
                                                $('.main-header .header').addClass('op0');
                                            }
                                        }
                                    }
                                });


                                jQuery(window).on("resize",function(){
                                    shareFixHorizontal();
                                    click();
                                })

                                //tooltips提示
                                $(function () { $("[data-toggle='tooltip']").tooltip(); });
                            </script>
                        </div>
                                                                                                                            <div class="article-pager ">
                                <ul>
                                    <li class="previous"><span>上一篇：</span><a href="http://www.freebuf.com/sectool/108568.html" rel="prev">Flash XSS检测脚本的简单实现</a>                                    </li>
                                    <li class="next"><span>下一篇：</span>
                                        <a href="http://www.freebuf.com/sectool/108387.html" rel="next">文件监控程序V2.0改进版（网站防挂马好手）</a>                                    </li>
                                </ul>
                            </div>
                                            </div>
                </div>
                    <div class="comment-bright"><div class="main-tit04">
    <h3>这些评论亮了</h3></div>      <ul>      <li>
            <div class="user_photo"> <a href="http://www.freebuf.com/author/甲鱼">
            <img src="http://image.3001.net/2014/11/头像.jpg" width="58" height="58" /></a>
             </div>
            <div class="tit"><span class="name"> <a href="http://www.freebuf.com/author/甲鱼" target="_blank">甲鱼</a>  </span> 
						<span class="icon-f">  </span> 
			<span class="rank">(2级)</span>
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','108533' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						@ taylorwin    是的，很多恶意程序这方面的对抗做的比较好。不过这种情况下自动化分析系统也不是完全没有用武之地，仍然可以用来进行简易地批量分类、分族，只是对那种可以识别沙盒环境的样本拿不到完整地分析结果 :arrow:</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2190326" class="vote-count">7</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2190326" href="javascript:acv_vote(190326,1,2);">亮了</a></span></div>
          </li>
            <li>
            <div class="user_photo"> <a href="http://www.freebuf.com/author/taylorwin">
            <img src="http://image.3001.net/2016/05/1.jpg" width="58" height="58" /></a>
             </div>
            <div class="tit"><span class="name"> <a href="http://www.freebuf.com/author/taylorwin" target="_blank">taylorwin</a>  </span> 
						<span class="icon-f">  </span> 
			<span class="rank">(5级)</span>
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','108533' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						很多恶意程序有，虚拟机探测的，探测到了就不运行或是不执行恶意程序了。</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2190321" class="vote-count">7</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2190321" href="javascript:acv_vote(190321,1,2);">亮了</a></span></div>
          </li>
            <li>
            <div class="user_photo">             <img src="http://image.3001.net/images/headimg/pic4.png">             </div>
            <div class="tit"><span class="name"> test </span> 
						<span class="explain"></span>
			<span class="reply"><a onclick="return addComment.moveForm( 'comment-','', 'respond','108533' ) " href="?replytocom=#respond" class="comment-reply-link" rel="nofollow">回复</a></span></div>
            <div class="txt">
						贵公司在搞apt防御？还是下一代防火墙？</div>
            <div class="but"><span class="vote-count">)</span><span style="none" id="cos_support-2190347" class="vote-count">6</span><span class="vote-count">(</span><span class="vote">  <a class="ilike_icon" id="vote4-2190347" href="javascript:acv_vote(190347,1,2);">亮了</a></span></div>
          </li>
         </ul></div><div class="comment-list">
      <div class="main-tit02">
		<a rel="nofollow" class="btnbtn-default btn-comment" href="#respond">发表评论</a>
        <h3>已有 <span class="color_red">12</span> 条评论
      </div>
      <ul>
         <li class="comment byuser comment-author-taylorwin even thread-even depth-1" id="li-comment-190321">
    <div id="comment-190321">
        <div class="photo"> <a href="http://www.freebuf.com/author/taylorwin">
    <img src="http://image.3001.net/2016/05/1.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/taylorwin" target="_blank">taylorwin&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(5级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-11</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190321','190321', 'respond','108533' ) " href="?replytocom=190321#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">1楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>很多恶意程序有，虚拟机探测的，探测到了就不运行或是不执行恶意程序了。</p>
<div class="comment-tools">
<div class="vote" id="vote-190321"><span id="acv_stat_190321"></span><a class="ilike_icon"  id="vote4-190321" href="javascript:acv_vote(190321,1);">亮了</a>(<span id="cos_support-190321">7</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190321" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190321" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190321" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190321" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190321" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-10532 odd alt depth-2" id="li-comment-190326">
    <div id="comment-190326">
        <div class="photo"> <a href="http://www.freebuf.com/author/甲鱼">
    <img src="http://image.3001.net/2014/11/头像.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/甲鱼" target="_blank">甲鱼&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-11</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190326','190326', 'respond','108533' ) " href="?replytocom=190326#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ taylorwin    是的，很多恶意程序这方面的对抗做的比较好。不过这种情况下自动化分析系统也不是完全没有用武之地，仍然可以用来进行简易地批量分类、分族，只是对那种可以识别沙盒环境的样本拿不到完整地分析结果 <img src='http://image.3001.net/images/index/smilies/icon_arrow.gif' alt=':arrow:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-190326"><span id="acv_stat_190326"></span><a class="ilike_icon"  id="vote4-190326" href="javascript:acv_vote(190326,1);">亮了</a>(<span id="cos_support-190326">7</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190326" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190326" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190326" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190326" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190326" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-nickchang even depth-3" id="li-comment-190367">
    <div id="comment-190367">
        <div class="photo"> <a href="http://www.freebuf.com/author/nickchang">
    <img src="http://image.3001.net/2015/07/IMG_2521.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/nickchang" target="_blank">nickchang&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(4级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-11</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		           <a onclick="return addComment.moveForm( 'comment-190367','190326', 'respond','108533' )" href="?replytocom=190367#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 甲鱼    一般都是一启动就监测，监测到就直接退出了，你拿什么行为特征来分类分族？ virtualbox和agent.py的默认配制特征比较显著，而且cuckoo虽然好用，但是树大招风。我觉得自己修改定制virtualbox 和 cuckoo才是王道。</p>
<div class="comment-tools">
<div class="vote" id="vote-190367"><span id="acv_stat_190367"></span><a class="ilike_icon"  id="vote4-190367" href="javascript:acv_vote(190367,1);">亮了</a>(<span id="cos_support-190367">4</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190367" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190367" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190367" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190367" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190367" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-10532 odd alt depth-3" id="li-comment-190370">
    <div id="comment-190370">
        <div class="photo"> <a href="http://www.freebuf.com/author/甲鱼">
    <img src="http://image.3001.net/2014/11/头像.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/甲鱼" target="_blank">甲鱼&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-11</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		           <a onclick="return addComment.moveForm( 'comment-190370','190326', 'respond','108533' )" href="?replytocom=190370#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ nickchang    嗯，想好好用肯定要自己修改、定制，不过那是后话，这一篇只是最基础的安装、配置了</p>
<div class="comment-tools">
<div class="vote" id="vote-190370"><span id="acv_stat_190370"></span><a class="ilike_icon"  id="vote4-190370" href="javascript:acv_vote(190370,1);">亮了</a>(<span id="cos_support-190370">5</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190370" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190370" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190370" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190370" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190370" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-190347">
    <div id="comment-190347">
        <div class="photo">     <img src="http://image.3001.net/images/headimg/pic3.png">     </div>
    <div class="tit"> 
	    <span class="name"> test </span>
        		<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-11</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190347','190347', 'respond','108533' ) " href="?replytocom=190347#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">2楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>贵公司在搞apt防御？还是下一代防火墙？</p>
<div class="comment-tools">
<div class="vote" id="vote-190347"><span id="acv_stat_190347"></span><a class="ilike_icon"  id="vote4-190347" href="javascript:acv_vote(190347,1);">亮了</a>(<span id="cos_support-190347">6</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190347" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190347" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190347" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190347" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190347" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-ymmy odd alt thread-even depth-1" id="li-comment-190471">
    <div id="comment-190471">
        <div class="photo"> <a href="http://www.freebuf.com/author/ymmy">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/ymmy" target="_blank">ymmy&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(4级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-12</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190471','190471', 'respond','108533' ) " href="?replytocom=190471#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">3楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>这东西，我也想写，很早就知道这开源软件了，日日被拉去东跑西跑，折腾，没有时间写，兄弟有耐心写完，赞一个 <img src='http://image.3001.net/images/index/smilies/icon_mrgreen.gif' alt=':mrgreen:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-190471"><span id="acv_stat_190471"></span><a class="ilike_icon"  id="vote4-190471" href="javascript:acv_vote(190471,1);">亮了</a>(<span id="cos_support-190471">4</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190471" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190471" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190471" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190471" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190471" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-10532 even depth-2" id="li-comment-190499">
    <div id="comment-190499">
        <div class="photo"> <a href="http://www.freebuf.com/author/甲鱼">
    <img src="http://image.3001.net/2014/11/头像.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/甲鱼" target="_blank">甲鱼&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-13</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190499','190499', 'respond','108533' ) " href="?replytocom=190499#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ ymmy     <img src='http://image.3001.net/images/index/smilies/icon_twisted.gif' alt=':twisted:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-190499"><span id="acv_stat_190499"></span><a class="ilike_icon"  id="vote4-190499" href="javascript:acv_vote(190499,1);">亮了</a>(<span id="cos_support-190499">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190499" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190499" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190499" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190499" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190499" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment byuser comment-author-onefor1 odd alt thread-odd thread-alt depth-1" id="li-comment-190501">
    <div id="comment-190501">
        <div class="photo"> <a href="http://www.freebuf.com/author/onefor1">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/onefor1" target="_blank">onefor1&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-13</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190501','190501', 'respond','108533' ) " href="?replytocom=190501#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">4楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>楼主你好，按照你的教程安装好环境并上传样本文件后，一直处于pending状态是怎么回事？</p>
<div class="comment-tools">
<div class="vote" id="vote-190501"><span id="acv_stat_190501"></span><a class="ilike_icon"  id="vote4-190501" href="javascript:acv_vote(190501,1);">亮了</a>(<span id="cos_support-190501">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190501" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190501" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190501" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190501" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190501" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-10532 even depth-2" id="li-comment-190522">
    <div id="comment-190522">
        <div class="photo"> <a href="http://www.freebuf.com/author/甲鱼">
    <img src="http://image.3001.net/2014/11/头像.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/甲鱼" target="_blank">甲鱼&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-13</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-190522','190522', 'respond','108533' ) " href="?replytocom=190522#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ onefor1    我遇到过一次一直 pending 的原因是忘了启动 Cuckoo 服务主进程（nohup python cuckoo.py &amp;），你检查一下是不是自己的也忘了启动？<br />
上面的 nohup 命令，会在工作主目录默认生成一个 nohup.out 文件，保存了所有标准输出内容，如果启动了还一直处于 pending 状态，你可以检查一下这个 nohup.out 文件内容，看看有没有详细的错误信息；也可以检查一下 cuckoo/web/ 目录下的 nohup.out 文件。<br />
还有一个，就是当前任务的分析日志，是 cuckoo/storage/analyses/latest/analysis.log（没启动分析的话这个文件可能不存在），如果检查到这个文件存在，也可以看一下里面有没有详细的报错信息。<br />
目前我能想到的就这些了。</p>
<div class="comment-tools">
<div class="vote" id="vote-190522"><span id="acv_stat_190522"></span><a class="ilike_icon"  id="vote4-190522" href="javascript:acv_vote(190522,1);">亮了</a>(<span id="cos_support-190522">3</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190522" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190522" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190522" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190522" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190522" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
<ul class="children">
<li class="comment byuser comment-author-onefor1 odd alt depth-3" id="li-comment-190746">
    <div id="comment-190746">
        <div class="photo"> <a href="http://www.freebuf.com/author/onefor1">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/onefor1" target="_blank">onefor1&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-15</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		           <a onclick="return addComment.moveForm( 'comment-190746','190522', 'respond','108533' )" href="?replytocom=190746#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ 甲鱼    谢谢，我找到原因了，我把label写成了win7系统名，应该把label写成win7虚拟机名</p>
<div class="comment-tools">
<div class="vote" id="vote-190746"><span id="acv_stat_190746"></span><a class="ilike_icon"  id="vote4-190746" href="javascript:acv_vote(190746,1);">亮了</a>(<span id="cos_support-190746">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190746" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190746" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190746" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190746" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190746" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
<li class="comment byuser comment-author-10532 even depth-3" id="li-comment-190751">
    <div id="comment-190751">
        <div class="photo"> <a href="http://www.freebuf.com/author/甲鱼">
    <img src="http://image.3001.net/2014/11/头像.jpg"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/甲鱼" target="_blank">甲鱼&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(2级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2016-07-15</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		           <a onclick="return addComment.moveForm( 'comment-190751','190522', 'respond','108533' )" href="?replytocom=190751#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor"></span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>@ onefor1    不客气。。。这一点是我没写清楚，只贴了配置样例没有详细解释 <img src='http://image.3001.net/images/index/smilies/icon_eek.gif' alt=':shock:' class='wp-smiley' /> </p>
<div class="comment-tools">
<div class="vote" id="vote-190751"><span id="acv_stat_190751"></span><a class="ilike_icon"  id="vote4-190751" href="javascript:acv_vote(190751,1);">亮了</a>(<span id="cos_support-190751">2</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="190751" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="190751" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="190751" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="190751" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="190751" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment byuser comment-author-sfbree odd alt thread-even depth-1" id="li-comment-224442">
    <div id="comment-224442">
        <div class="photo"> <a href="http://www.freebuf.com/author/sfbree">
    <img src="http://www.freebuf.com/buf/plugins/wp-user-avatar/images/wp-user-avatar-96x96.png"></a>
     </div>
    <div class="tit"> 
	    <span class="name"> <a href="http://www.freebuf.com/author/sfbree" target="_blank">sfbree&nbsp;</a>  </span>
        		
		<span class="icon-f"> </span>
		<span class="rank">(1级)</span>
				<span class="explain">  </span>
		<span class="time">&nbsp;2017-07-20</span>
		<span class="time">
                    </span>
        <span class="useragent_output_custom"></span>
        <span class="useragent_output_custom"></span> 
		<span class="reply">
		        <!-- 正常情况 -->
           <a onclick="return addComment.moveForm( 'comment-224442','224442', 'respond','108533' ) " href="?replytocom=224442#respond" class="comment-reply-link" rel="nofollow">回复</a>
        	    </span>
		<span class="floor">5楼</span>
	</div>
	    <div class="txt">
	  <p class="useragent_output_custom"></p>
      <p>楼主，cuckoo哪个版本开始对 win7的64位进行支持的呀</p>
<div class="comment-tools">
<div class="vote" id="vote-224442"><span id="acv_stat_224442"></span><a class="ilike_icon"  id="vote4-224442" href="javascript:acv_vote(224442,1);">亮了</a>(<span id="cos_support-224442">0</span>)</div>
<div class="dropup"><a class="dropdown-toggle btn-report" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="display:none;"> 举报</a>
<ul class="dropdown-menu" style="display:none;bottom:auto;">
<li><a data-id="224442" class="click_report" href="javascript:;">广告等垃圾信息</a></li>
<li><a data-id="224442" class="click_report" href="javascript:;">不友善内容</a></li>
<li><a data-id="224442" class="click_report" href="javascript:;">违反法律法规的内容</a></li>
<li><a data-id="224442" class="click_report" href="javascript:;">不宜公开讨论的政治内容</a></li>
<li><a data-id="224442" class="click_report" href="javascript:;">其他</a></li>
</ul></div>
</div>
	</div></div>
</li><!-- #comment-## -->
      </ul>
      <div class="commentnav page01" style="padding-top:10px; text-align: center;">
               </div>
	  
<script src="http://www.freebuf.com/buf/themes/freebuf/js/ajaxfileupload.js" type="text/javascript"></script>
<div id="respond" class="comment-box">
<input type="file" id="uploadUnit" name="upfile" class="hidden" value="">
    <form action="http://www.freebuf.com/wp-comments-post.php" method="post" id="commentform">
        <div id="comment-author-info">
	    <div class="login-other">
		  <div class="login_button login_icon_sina" title="使用新浪微博登陆" onclick="login_button_click('sina')"></div>
          <div class="login_button login_icon_qq" title="使用腾讯QQ登陆" onclick="login_button_click('qq')"></div></div>
        <div class="login-input">
	    <p><label for="author">昵称</label>
		          <input type="text" name="author" id="author" value="" size="14" tabindex="1" aria-required='true' placeholder = "请输入昵称" required />
        </p><span>必须</span><span>您当前尚未登录。<a  class="simplemodal-login" href="http://www.freebuf.com/oauth" title="登陆">登陆？</a><a  href="https://account.tophant.com/register.html" target="_blank">注册</a></span></div>
		<div class="login-input">
		  <p><label for="email">邮箱</label><input type="text" name="email" id="email" value="" size="25" tabindex="2" aria-required='true' placeholder = "请输入邮箱地址" required /></p>
		<span>必须（保密）</span>
		</div>
    </div>

        <div id="test" class="post-area">
      <div class="holiday"></div>
	    <div class="comment-editor">
			<a id="comment-smiley" href="javascript:;">表情</a><a href="javascript:;" id="imageThumb">插图</a>
	    </div>
        <div id="smileys" >
           <a title="mrgreen" href="javascript:grin(':mrgreen:')"><img src="http://image.3001.net/images/index/smilies/icon_mrgreen.gif" /></a><a title="razz" href="javascript:grin(':razz:')"><img src="http://image.3001.net/images/index/smilies/icon_razz.gif" /></a><a title="sad" href="javascript:grin(':sad:')"><img src="http://image.3001.net/images/index/smilies/icon_sad.gif" /></a><a title="smile" href="javascript:grin(':smile:')"><img src="http://image.3001.net/images/index/smilies/icon_smile.gif" /></a><a title="oops" href="javascript:grin(':oops:')"><img src="http://image.3001.net/images/index/smilies/icon_redface.gif" /></a><a title="grin" href="javascript:grin(':grin:')"><img src="http://image.3001.net/images/index/smilies/icon_biggrin.gif" /></a><a title="eek" href="javascript:grin(':eek:')"><img src="http://image.3001.net/images/index/smilies/icon_surprised.gif" /></a><a title="???" href="javascript:grin(':???:')"><img src="http://image.3001.net/images/index/smilies/icon_confused.gif" /></a><a title="cool" href="javascript:grin(':cool:')"><img src="http://image.3001.net/images/index/smilies/icon_cool.gif" /></a><a title="lol" href="javascript:grin(':lol:')"><img src="http://image.3001.net/images/index/smilies/icon_lol.gif" /></a><a title="mad" href="javascript:grin(':mad:')"><img src="http://image.3001.net/images/index/smilies/icon_mad.gif" /></a><a title="twisted" href="javascript:grin(':twisted:')"><img src="http://image.3001.net/images/index/smilies/icon_twisted.gif" /></a><a title="roll" href="javascript:grin(':roll:')"><img src="http://image.3001.net/images/index/smilies/icon_rolleyes.gif" /></a><a title="wink" href="javascript:grin(':wink:')"><img src="http://image.3001.net/images/index/smilies/icon_wink.gif" /></a><a title="idea" href="javascript:grin(':idea:')"><img src="http://image.3001.net/images/index/smilies/icon_idea.gif" /></a><a title="arrow" href="javascript:grin(':arrow:')"><img src="http://image.3001.net/images/index/smilies/icon_arrow.gif" /></a><a title="neutral" href="javascript:grin(':neutral:')"><img src="http://image.3001.net/images/index/smilies/icon_neutral.gif" /></a><a title="cry" href="javascript:grin(':cry:')"><img src="http://image.3001.net/images/index/smilies/icon_cry.gif" /></a><a title="?" href="javascript:grin(':?:')"><img src="http://image.3001.net/images/index/smilies/icon_question.gif" /></a><a title="evil" href="javascript:grin(':evil:')"><img src="http://image.3001.net/images/index/smilies/icon_evil.gif" /></a><a title="shock" href="javascript:grin(':shock:')"><img src="http://image.3001.net/images/index/smilies/icon_eek.gif" /></a><a title="!" href="javascript:grin(':!:')"><img src="http://image.3001.net/images/index/smilies/icon_exclaim.gif" /></a>        </div>
         <textarea name="comment" id="comment" cols="100%" rows="7" tabindex="4" style="overflow-x:hidden; overflow-y:hidden; border:0; width:100%;" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById('submit').click();return false};"></textarea>
    </div>
      <div class="subcon but">
      <input class="btn btn-success" type="submit" name="submit" id="submit" tabindex="5" value="提交评论(Ctrl+Enter)" />
      <a rel="nofollow" class="btn btn-default" id="cancel-comment-reply-link" href="javascript:;">取消</a>
      <div class="checkbox"><input type='hidden' name='comment_post_ID' value='108533' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
<label for="comment_mail_notify" class="comment_mail"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked"/>有人回复时邮件通知我</label></div>
      </div>
    <input name="Token" id="Token" type="hidden" value="7pl049" />
  </form>
  </div>
</div>	  
<div class="commentshow">
<div class="comments-loading">Loading...</div>
</div>
<script language="javascript">
jQuery(document).ready(function($){ //Begin jQuery
    $('.reply').click(function() {
    var atid = '"#' + $(this).parent().attr("id") + '"';
    var atname = $(this).parent().find('span:first').text();
    $("#comment").val("@" + atname + " ").focus();
});
    $('.cancel-comment-reply a').click(function() { //点击取消回复评论清空评论框的内容
    $("#comment").val('');
});
}) 

jQuery(document).ready(function($) {
    $body = (window.opera) ? (document.compatMode == "CSS1Compat" ? $('html') : $('body')) : $('html,body');//commentnav ajax
    $(document).on('click', '.commentnav a', function(e) {
        e.preventDefault();
        $.ajax({
            type: "GET",
            url: $(this).attr('href'),
            beforeSend: function() {
                $('.commentnav').remove();
                $('.comment-list').remove();
                $('.comments-loading').slideDown();
            },
            dataType: "html",
            success: function(out) {
                result = $(out).find('.comment-list');
                nextlink = $(out).find('.commentnav');
                $('.comments-loading').slideUp(550);
                $('.comments-loading').after(result.fadeIn(800));
                $(".comment-list img").each(function(){
                  var url = $(this).attr("data-original");
                  $(this).attr("src",url);
                })
            }
        });
    });    
});
</script>            </div>
                    <div class="col-md-3 visible-md-block visible-lg-block">
                <div class="panel panel-default">
                    <div class="author-top">
                         <div class="author-wrap">
                            <div class="author-header"><img src="http://image.3001.net/2016/04/0_副本.jpg" width="96" height="96" alt="千里目安全实验室" class="avatar avatar-100 wp-user-avatar wp-user-avatar-100 photo" />                            </div>
                            <p class="name"><a href="http://www.freebuf.com/author/%e5%8d%83%e9%87%8c%e7%9b%ae%e5%ae%89%e5%85%a8%e5%ae%9e%e9%aa%8c%e5%ae%a4" title="由 千里目安全实验室 发布" rel="author">千里目安全实验室</a><span></span></p>
                            <p class="signature">这家伙太懒，还未填写个人描述！</p>
                            <p class="art-com clearfix">
                                <span class="aut-article">
                                    <a href="/author/千里目安全实验室"target="_blank">
                                        <i>3</i>
                                        <i>文章数</i>
                                    </a>
                                </span>
                                <span class="aut-comment">
                                    <a href="/author/千里目安全实验室?comment=1" target="_blank">
                                        <i>1</i>
                                        <i>评论数</i>
                                    </a>
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="author-bottom">
                        <div class="author-wrap">
                            <h3 class="last-title">最近文章</h3>
                            <div class="last-item-wrap">
                                                                        <div class="last-item">
                                            <a href="http://www.freebuf.com/articles/system/110027.html" target="_blank"><span class="point"></span>OPENVAS源码编译解析</a>
                                            <p class="last-time">2016.07.29</p>
                                        </div>
                                                                            <div class="last-item">
                                            <a href="http://www.freebuf.com/sectool/108533.html" target="_blank"><span class="point"></span>自动化恶意软件分析系统Cuckoo安装、配置详解</a>
                                            <p class="last-time">2016.07.11</p>
                                        </div>
                                                                            <div class="last-item">
                                            <a href="http://www.freebuf.com/articles/system/101464.html" target="_blank"><span class="point"></span>PowerWare：勒索软件如何温柔地借刀杀人</a>
                                            <p class="last-time">2016.04.22</p>
                                        </div>
                                                                </div>
                        </div>

                        <div class="more-wrap">
                            <a href="http://www.freebuf.com/author/千里目安全实验室" target="_blank" class="btn-new">浏览更多</a>
                        </div>
                    </div>
                </div>
                                <div class="panel panel-default">
                    <div class="read visible-md-block visible-lg-block">
                        <div class="main-tit02">
                            <h3>相关阅读</h3>
                        </div>
                        <ul>
  <li><a href="http://www.freebuf.com/sectool/5346.html" target="_blank" title=SqlmapGUI汉化修正版软件及中文使用说明>SqlmapGUI汉化修正版软件及中文使用说明</a></li>
  
  <li><a href="http://www.freebuf.com/sectool/38375.html" target="_blank" title=punkspider &#8211; 全球Web应用程序漏洞扫描引擎>punkspider &#8211; 全球Web应用程序漏洞扫描引擎</a></li>
  
  <li><a href="http://www.freebuf.com/sectool/35455.html" target="_blank" title=The Social-Engineer Toolkit V6.0发布>The Social-Engineer Toolkit V6.0发布</a></li>
  
  <li><a href="http://www.freebuf.com/sectool/75270.html" target="_blank" title=从SQLMap踩坑到如何优雅地控制子进程>从SQLMap踩坑到如何优雅地控制子进程</a></li>
  
  <li><a href="http://www.freebuf.com/sectool/11985.html" target="_blank" title=Zmap详细用户手册及DDOS的可行性>Zmap详细用户手册及DDOS的可行性</a></li>
  </ul>                    </div>
                </div>
                <!--<div class="ad-wrap"><a href="http://www.ijiami.cn/?freebuf.com" target="_blank"><img width="100%" src="http://image.3001.net/images/20141201/14174039186901.jpg"></a></div>-->
                <div class="panel panel-default rec-spe">
                    <div class="main-tit03 colour-blue">
                        <h3>特别推荐</h3>
                    </div>
                                                    <div class="rec-img"><a href="http://www.freebuf.com/ad?id=3" target="_blank"><img
                                            src="http://image.3001.net/2017/05/14a10c5c919d154dddbee79e3a944143-220x150.png" width="220"></a></div>
                                                </div>
                <div id="mar-right">
                    <!--<div class="read visible-lg-block">
        <div class="main-tit04">
          <h3>商城新品</h3>
        </div>
        <div id="slider" class="nivoSlider">  </div>
      </div>-->
                    <div class="panel panel-default code"><img src="http://image.3001.net/images/new/code.jpg" width="192"
                                                               height="192">
                        <p>关注我们 分享每日精选文章</p>
                    </div>
                </div>
            </div>
                </div>
                    <div class="row marvellous visible-lg-block">
                <h3>不容错过</h3>
                <ul>
                                                <li><a href="http://www.freebuf.com/news/79262.html" rel="bookmark"
                                   title="安卓粉的愤怒：苹果首款Android App遭疯狂差评">安卓粉的愤怒：苹果首款Android App遭疯狂差评</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/dawner" title="由 dawner 发布" rel="author">dawner</a></span>
                                                                        <span class="time">2015-09-22</span></p>
                            </li>
                                                    <li><a href="http://www.freebuf.com/articles/web/133306.html" rel="bookmark"
                                   title="游戏外挂网站暗藏病毒：盗号、锁首等数种危害并举">游戏外挂网站暗藏病毒：盗号、锁首等数种危害并举</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/%e7%81%ab%e7%bb%92%e5%ae%89%e5%85%a8" title="由 火绒安全 发布" rel="author">火绒安全</a></span>
                                                                        <span class="time">2017-05-02</span></p>
                            </li>
                                                    <li><a href="http://www.freebuf.com/news/111825.html" rel="bookmark"
                                   title="【FB TV】一周「BUF大事件」（20160806-201608012）">【FB TV】一周「BUF大事件」（20160806-201608012）</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/supercoco" title="由 supercoco 发布" rel="author">supercoco</a></span>
                                                                        <span class="time">2016-08-13</span></p>
                            </li>
                                                    <li><a href="http://www.freebuf.com/news/107916.html" rel="bookmark"
                                   title="动手搭建DDoS演练：揭秘在线DDoS攻击平台（下）">动手搭建DDoS演练：揭秘在线DDoS攻击平台（下）</a>
                                <p>                                        <span class="name"><a href="http://www.freebuf.com/author/arthurkiller" title="由 ArthurKiller 发布" rel="author">ArthurKiller</a></span>
                                                                        <span class="time">2016-07-05</span></p>
                            </li>
                                                            </ul>
            </div>
            </div>
</div>
<script type="text/javascript">
  $(window).load(function() {
    $('#slider').nivoSlider();
  });
  $('#contenttxt img').removeAttr('height');
  $('#contenttxt img').wrap(function(){
    if(!$(this).parent().attr('href')){
      var imgurl = $(this).attr('data-original');
      if(imgurl.substr(-6)=='!small'){
        imgurl = imgurl.substring(0,imgurl.length-6);
      }
      return '<a href="' + imgurl + '" class="highslide-image" onclick="return hs.expand(this);" target="_blank"></a>';
    }
  })
</script>
<script src="http://www.freebuf.com/buf/themes/freebuf/js/comments-ajax.js" type="text/javascript"></script>
<script type="text/javascript" src="http://static.3001.net/js/focus/jquery.nivo.slider.pack.js"></script>
<!----------footer---------->
<div class="footer">
  <div class="container">
    <div class="footer-list ">
      <h3>FREEBUF</h3>
      <ul>
        <li><a href="http://www.freebuf.com/dis">免责声明</a></li>
        <li><a href="http://www.freebuf.com/news/others/864.html">关于我们</a></li>
        <li><a href="http://www.freebuf.com/jobs/40386.html">加入我们</a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <h3>广告及服务</h3>
      <ul>
        <li><a target="_blank" href="mailto:root@freebuf.com">寻求报道</a></li>
        <li><a href="http://www.freebuf.com/advertise">广告合作</a></li>
        <li><a target="_blank" href="mailto:help@freebuf.com">联系我们</a></li>
        <li><a href="http://www.freebuf.com/friends">友情链接</a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <h3>关注我们</h3>
      <ul>
        <li><div class="weixin-pannel weixin"><a class="qr" href="javascript:viod(0);"><span class="g-icon-qr1">官方微信</span><i></i></a></div></li>
        <li><a rel="nofollow" target="_blank" href="http://weibo.com/freebuf">新浪微博</a></li>
        <li><a rel="nofollow" target="_blank" href="http://t.qq.com/freebuf">腾讯微博</a></li>
        <li><a rel="nofollow" target="_blank" href="http://twitter.com/freebuf">Twitter</a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <h3>赞助商</h3>
      <ul>
        <li style="padding:6px 0 10px;"><a rel="nofollow" target="_blank" href="http://www.aliyun.com/?freebuf"><img src="http://image.3001.net/images/ad/ali.png"></a></li>
        <li><a rel="nofollow" target="_blank" href="http://www.upyun.com/?freebuf"><img src="http://image.3001.net/images/ad/upyun.png"></a></li>
        <li style="padding:6px 0 10px;"><a rel="nofollow" target="_blank" href="https://www.trustasia.com/?freebuf"><img src="http://image.3001.net/images/ad/ad-yzcx.png"></a></li>
      </ul>
    </div>
    <div class="footer-list ">
      <ul>
      </ul>
    </div>
    <div class="footer-logo  pull-right"><img src="http://image.3001.net/images/index/freebufrobot_shendanjie.png" ></div>
  </div>
  <div class="copyright"><div class="container"><p>Copyright &copy; 2017 WWW.FREEBUF.COM All Rights Reserved <a rel="nofollow" target="_blank" href="http://www.miitbeian.gov.cn">沪ICP备13033796号</a></p><span><a rel="nofollow" target="_blank" href="http://click.aliyun.com/m/1336/?freebuf"><img src="http://image.3001.net/images/new/icon-aly.png"></a></span></div></div>
</div>
<div class="bottom_tools"><a id="scrollUp" href="javascript:;" title="飞回顶部"></a></div>
<!----------footer end----------> 
<script src="http://static.3001.net/js/new/backtop.js"></script>
<script type="text/javascript">
jQuery(function(){	
	jQuery('.tabPanes ul li').click(function(){
		jQuery(this).addClass('hit').siblings().removeClass('hit');
		jQuery('.panesl>div:eq('+jQuery(this).index()+')').show().siblings().hide();	
	})
	jQuery('.vulbox-nav').click(function(e) { 
        e.stopPropagation(); 
    });  
})
</script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fcc53db168808048541c6735ce30421f5' type='text/javascript'%3E%3C/script%3E"));
</script>
<img alt='css.php' src="http://www.freebuf.com/buf/plugins/cc/css.php?k=3cb185a485c81b23211eb80b75a406fd&amp;o=i&amp;t=1025195276" width='1' height='1' /><script type="text/javascript">
jQuery(function() {
    jQuery(".simditor pre").each(function(i, block){
        hljs.highlightBlock(block);    
    });
    hljs.initHighlightingOnLoad();
});
</script>
<script>
/* <![CDATA[ */
var rcGlobal = {
	serverUrl		:'http://www.freebuf.com',
	infoTemp		:'%REVIEWER% on %POST%',
	loadingText		:'Loading',
	noCommentsText	:'No comments',
	newestText		:'&laquo; 最新',
	newerText		:'&laquo; 新一点',
	olderText		:'旧一点 &raquo;',
	showContent		:'1',
	external		:'1',
	avatarSize		:'32',
	avatarPosition	:'left',
	anonymous		:'Anonymous'
};
/* ]]> */
</script>
<script type='text/javascript' src='http://static.3001.net/js/recentcomments/wp-recentcomments-jquery.js?ver=2.2.3'></script>
</body>
</html>
