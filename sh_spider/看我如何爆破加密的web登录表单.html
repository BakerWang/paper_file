<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>看我如何爆破加密的web登录表单 - 嘶吼 RoarTalk &#8211; 回归最本质的信息安全,互联网安全新媒体,4hou.com</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta property="wb:webmaster" content="4517e8fe39b18975" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
    <meta name="description" content="有很多方法来爆破登录表单，你只需要google一下就可以在搜索的结果中看到一些通常的做法。在你使用Burp的情况下，这些搜索出来的爆破方式将足以满足大多数的形式爆破。但有时候，爆破不会那么简单，你需要编写自己…" />
    <meta name="keywords" content="" />
        <link href="http://img.4hou.com/wp-content/themes/4houv2/images/favicon.ico" rel="shortcut icon">
    <link href="http://img.4hou.com/wp-content/themes/4houv2/images/favicon_114.png" rel="apple-touch-icon">
    <link href="http://img.4hou.com/wp-content/themes/4houv2/images/favicon_76.png" sizes="76x76" rel="apple-touch-icon">
    <link href="http://img.4hou.com/wp-content/themes/4houv2/images/favicon_120.png" sizes="120x120" rel="apple-touch-icon">
    <link href="http://img.4hou.com/wp-content/themes/4houv2/images/favicon_152.png" sizes="152x152" rel="apple-touch-icon">

    <!-- 引入 lib -->
    <script src="http://www.4hou.com/wp-content/themes/4houv2/lib/jquery.min.js"></script>
    <script src="http://www.4hou.com/wp-content/themes/4houv2/lib/swiper.jquery.min.js"></script>
    <link rel="stylesheet" href="http://www.4hou.com/wp-content/themes/4houv2/lib/swiper.min.css">
    <link rel="stylesheet" href="http://www.4hou.com/wp-content/themes/4houv2/lib/allmin.css">
    <!--[if lt IE 11]>
    <script src="http://www.4hou.com/wp-content/themes/4houv2/lib/html5shiv.min.js"></script>
    <script src="http://www.4hou.com/wp-content/themes/4houv2/lib/respond.js"></script>
    <![endif]-->
    <!-- 引入 css js -->
    <link rel="stylesheet" href="http://www.4hou.com/wp-content/themes/4houv2/css/style.css">
    <link rel="stylesheet" href="http://www.4hou.com/wp-content/themes/4houv2/lib/allmin.css">
    <script src="http://www.4hou.com/wp-content/themes/4houv2/js/public.js"></script>
    <script src="http://www.4hou.com/wp-content/themes/4houv2/js/main.js"></script>
    <script src="http://www.4hou.com/wp-content/themes/4houv2/js/index-more.js"></script>
    </head>
<body>
<style type="text/css">
.memberlistanimate{width: 122px}
.memberlistanimateleave{width: 122px}
.nameheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width: 78px;display: block;}
</style>

<header class="header">
            <article class="header_center">
                <div class="logowrap">
            <a href="http://www.4hou.com"><div class="logo icons"></div></a>
            <h1>回归最本质的信息安全</h1>
        </div>
        <div class="login">
            <form action="/" class="navbar-form inSearch " name="searchform" onsubmit="return checksubmit()">
                <div class="br">
                    <span class="in-btn icons"></span>
                    <input type="text" name="s" id="search" class="animated">
                    <div class="clear icons"></div>
                </div>
                <div id="submitBtnplace" class="icons animated" value=""></div>
                <!--<input type="submit" id="submitBtn" class="icons animated" value="">-->
            </form>
                            <!--登录注册按钮-->
                 <div id="register">
                     <a href="http://www.4hou.com/register" data-event-category="Referral to Signup" data-event-action="click" data-event-label="Signup Menu button / Header">注册</a>
                 </div>
                 <div id="sing">
                      <a href="http://www.4hou.com/login" class="pzh_login">登录</a>
                 </div>

                 <div class="burger2 menu" id="burger">
                  <div class="icon"></div>
                 </div>

            
           <!-- <div id="register">注册</div>
            <div id="sing">登录</div>
            <div class="burger2 menu" id="burger">
                <div class="icon"></div>
            </div>-->
        </div>
    </article>
</header>
<nav class="navbox animated">
    <section class="navbox_cen">
        <article class="navboxleft">
            <ul class="nav navbar-nav index-nav" id="inNav">
					<li>
							<li class="cat-item cat-item-18"><a href="http://www.4hou.com/category/info" >资讯</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.4hou.com/category/technology" >技术</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://www.4hou.com/category/xactivity" >活动</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://www.4hou.com/category/vulnerable" >漏洞</a>
</li>
					</li>
                    <li class="cat-item cat-item-29"><a href="http://www.4hou.com/piao" >嘶票</a>
                    </li>
            </ul>
        </article>
        <article class="navboxright">
            <div class="contrib"> <a href="http://www.4hou.com/contribute" class="tougao" data-event-category="Referral to Signup" data-event-action="click" data-event-label="Signup Menu button / Header">投稿</a></div>
        </article>
    </section>
</nav>
<div id="modelbg"></div>
    <style>


    ::selection {
    background:#fea283;
    color:#fff;
}
::-moz-selection {
    background:#fea283;
    color:#fff;
}
::-webkit-selection {
    background:#fea283;
    color:#fff;
}


        .article_cen p img{height: auto !important;}
        .commentlist .children{width: 90%; padding-right: 15px; border-color: transparent ;}
        .commentname,.commenteml{width: 60%; margin-left:5% ;margin-bottom: 30px;border-bottom: 1px solid #dbdbdb;}
        .article_cen ol li{list-style-type: decimal;}
         .article_cen ol li p{overflow: inherit;}
        .commentname label{font-size: 16px;color: #666; margin-right: 10px;line-height: 32px;}
        .commentname input{width: 50%;border: none; outline: none;}
        .commenteml label{font-size: 16px;color: #666; margin-right: 10px;line-height: 32px;}
        .commenteml input{width: 50%;border: none; outline: none;}
        #zooming{display: none;width: 100%;height: 100%; position: fixed;z-index: 999;left: 0px; top: 0px; background-color: rgba(0,0,0,.6);}
        .zoomaniatae{display: block !important;}
        .imgcon{}
        #imgcon{position: absolute;left: 50%; top: 20%;max-width: 80%}
        .article_cen img{cursor: pointer;}
        #zooming{cursor: pointer;}
        .imgconadimate{animation:imgcon 0.5s 1 forwards;
        -webkit-animation:imgcon 0.5s 1 forwards;}
        .article_authorbox{    width: 222px;min-height: 214px;
        padding-bottom: 20px;
        float: right;
        position: relative;}
        .interested{position: relative;}
        .interested>h1{font-size: 18px; font-weight: 900; position: absolute; top: -36px;color: #5e5e5e}
       .user-comment span{font-size: 13px; position: relative; top: 2px;}
        .article_authoradd{position: fixed;}
        .stratend{background:url(http://www.4hou.com/wp-content/themes/4houv2/img/starend.png); !important;background-size: contain !important;}
        .wpfp-span{opacity: 0;width:100%; height: 100%;display: block; left: 0px; top: 0px; }
        .wpfp-link{width:100%; height: 100%;display: block; left: 0px; top: 0px; }
        .wpfp-span img{display: none;}
        .interested{width: 222px;padding-bottom: 20px;background-color: #fff;margin-top: 70px; padding-bottom: 10px; padding-top: 10px;border: 1px solid #f5c2b1}
        .interested li{width: 100%;position: relative;padding-top: 8px; padding-bottom: 8px;  line-height: 24px; padding-left: 20px;padding-right: 14px}
        .interested li i{width: 6px;height: 6px;border-radius: 50%; background-color: #f63;position: absolute; left: 8px; top: 18px;}
        .interested li a{color: #666;font-size: 14px; line-height: 18px;}
        .interested li:hover{background-color: #f9e7e3;-moz-transition: all 0.4s ease-in-out;
        .footer{position: relative;z-index: 99}   
        .article_authorbox_top{position: relative;} 
        

        -o-transition: all 0.4s ease-in-out; -webkit-transition: all 0.4s ease-in-out; transition: all 0.4s ease-in-out;}
    
        @-webkit-keyframes imgcon{
            0%{ opacity:0; -webkit-transform:scale3d(.3, .3, .3); transform:scale3d(.3, .3, .3) }
            50%{ opacity:1 }
        }
        @keyframes imgcon{
            0%{ opacity:0; -webkit-transform:scale3d(.3, .3, .3); transform:scale3d(.3, .3, .3) }
            50%{ opacity:1 }
        }
        .asideanimate{animation:asideanimate 1s 1 forwards;
        -webkit-animation:asideanimate 1s 1 forwards; position: fixed;}
        @-webkit-keyframes asideanimate{
            0%{ opacity:0; -webkit-transform:translate3d(0,-20%, 0); transform:translate3d(0, -20%, 0) }
            50%{ opacity:1 }
        }
        @keyframes asideanimate{
            0%{ opacity:0; -webkit-transform:translate3d(0,-20%, 0); transform:translate3d(0, -20%, 0) }
            50%{ opacity:1 }
        }
        .asideanimateleave{animation:asideanimateleave 1s 1 forwards;
        -webkit-animation:asideanimateleave 1s 1 forwards;}
        @-webkit-keyframes asideanimateleave{
            0%{ opacity:1; -webkit-transform:translate3d(0,0, 0); transform:translate3d(0, 0, 0) }
            50%{ opacity:0;-webkit-transform:translate3d(0,-20%, 0); transform:translate3d(0, -20%, 0) }
        }
        @keyframes asideanimateleave{
            0%{ opacity:1; -webkit-transform:translate3d(0,0, 0); transform:translate3d(0, 0, 0) }
            50%{ opacity:0;-webkit-transform:translate3d(0,-20%, 0); transform:translate3d(0, -20%, 0) }
        }
        @media screen and (max-width:650px) {
            .member_list{right: -30px !important;top: 34px !important;}
            .article_authorbox{display: none;}
            .nameheader{display: none;}
            .shang_box{width: 90%; margin-left:-45% }
            #imgcon{width: 90% !important; margin-left: -45% !important;max-width: inherit !important}
            .dy{padding: 12px 15px!important;font-size: 14px !important; line-height: 22px !important;}
        }
        .article_author{float:none !important;padding-top: 1px;}
        .article_cen pre{color: #666 !important; line-height: 26px; background-color: #f1f1f1}
        .articlecontent blockquote>p{ color: #666; font-size: 16px; }
    </style>
    <section class="articlewrap">
        <article class="articlecontent">
            <div class="article_top">
                <h1 class="art_title">看我如何爆破加密的web登录表单</h1>
                <p class="art_time">2017年9月5日发布</p>
                <div class="art_nav">
                    <!--<a href="">翻译文章</a>
                    <span>／</span>
                    <a href="">新闻</a>
                    <span>／</span>
                    <a href="">原创</a>-->
                                        <a href="http://www.4hou.com">首页 </a></a>
                    <span>／</span>
                    <a href="http://www.4hou.com/category/web">Web安全</a>
                    <span>／</span>
                    <a href="">正文</a>

                    </ul>
                </div>
                <div class="art_type">
                    <div class="newtype">
                        <div class="read ">
                            <i class="icons"></i>
                            <span>34,796</span>
                        </div>
                        <div class="comment ">
                            <i class="icons"></i>
                            <span>0</span>
                        </div>
                        <div class="Praise">
                            <i class="icons"></i>
                            <span>2</span>
                        </div>
                    </div>
                </div>
            </div>
             <p class="dy" style="padding: 24px 60px;font-size: 16px;line-height: 30px;color: #808080;background-color: #f6f6f6;"><span style="font-weight: bold;">导语：</span>​有很多方法来爆破登录表单，你只需要google一下就可以在搜索的结果中看到一些通常的做法。在你使用Burp的情况下，这些搜索出来的爆破方式将足以满足大多数的形式爆破。</p>

            <div class="article_cen">
                <!--文章摘要-->
               
                <p><p style="text-align: left">有很多方法来爆破登录表单，你只需要google一下就可以在搜索的结果中看到一些通常的做法。在你使用Burp的情况下，这些搜索出来的爆破方式将足以满足大多数的形式爆破。但有时候，爆破不会那么简单，你需要编写自己的工具。这可能是因为一些各种原因所致，但通常它归结为通过HTTP（S）的自定义协议或输入的数据的是一些自定义的加密算法。在这篇文章中，我们将介绍两种编写这些工具的方法：</p>
<pre class="brush:html;toolbar:false">1.编写你自己的python脚本
2.&nbsp;一个Greasemonkey脚本</pre>
<p style="text-align: left">既然要编写这两种工具，那么首先你需要了解和分析非默认形式的登录表单，我们先来做一下分析。如果你想跟着我一起操作，你需要安装以下工具：</p>
<pre class="brush:html;toolbar:false">1.&nbsp;Python
2.&nbsp;Burp免费版
3.&nbsp;安装了Greasemonkey插件的Firefox
4.&nbsp;FoxyProxy
5.&nbsp;FireFox开发工具（F12）</pre>
<p style="text-align: left">请注意，即使我们使用了一些商业可用的软件作为示例，但这并不是软件本身的一个漏洞。大多数登录表单都可以被爆破，只是某些登录表单的形式可能比其他形式慢一些;）像往常一样，你也可以跳过本博文的一些介绍，直接下载python脚本和Greasemonkey脚本。请注意，你可能需要根据你自己的情况对这些工具进行调整。</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>遇到的问题</strong></span></p>
<p style="text-align: left">有时你会碰到一些非常有趣的登录表单，就像&nbsp;<a href="https://www.milestonesys.com/solutions/platform/video-management-software/" target="_blank">Milestone XProtect</a>软件一样。我没有执行XProtect软件的任何配置，似乎它使用了Windows登录凭据进行身份验证。</p>
<p style="text-align: left">我们的目标是你可以使用用户名和密码登录的软件的“Web客户端”。如果你正确配置了foxyproxy ，那么你的请求应该在打开XProtect登录表单之前进行拦截。请注意，如果你在localhost上运行XProtect，则可能需要配置Firefox，以避免绕过本地主机127.0.0.1的代理设置。</p>
<p style="text-align: left">所以当你尝试登录时，你应该可以看到以下两个请求：</p>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262399556225.png" title="1504262399556225.png" alt="login1.png" /><noscript><img src="/uploads/20170901/1504262399556225.png" title="1504262399556225.png" alt="login1.png" /></noscript></p>
<p style="text-align: left">首次登录的请求</p>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262410775679.png" title="1504262410775679.png" alt="login2.png" /><noscript><img src="/uploads/20170901/1504262410775679.png" title="1504262410775679.png" alt="login2.png" /></noscript></p>
<p style="text-align: left">第二次登录的请求</p>
<p style="text-align: left">现在，如果你尝试base64解码用户名和密码的值，最终会出现乱码，第一个请求中的第一个初始的base64字符串也是如此。另外，看起来似乎每个登录都需要发起两个请求。看来我们已经找到了问题所在并且需要进行进一步的分析。</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>开始分析</strong></span></p>
<p style="text-align: left">首先让我们看看每个请求和响应消息的数据。</p>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262423838686.png" title="1504262423838686.png" alt="login1req.png" /><noscript><img src="/uploads/20170901/1504262423838686.png" title="1504262423838686.png" alt="login1req.png" /></noscript></p>
<p style="text-align: left">这是第一个请求，我们可以发现不同的东西，可能有助于我们更好地了解我们输入的用户名和密码的值是由于什么样的转换所发生了篡改。以下XML参数引起了我的注意：</p>
<pre class="brush:html;toolbar:false">1.&nbsp;PublicKey
2.&nbsp;EncryptionPadding</pre>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262434223745.png" title="1504262434223745.png" alt="login1resp.png" /><noscript><img src="/uploads/20170901/1504262434223745.png" title="1504262434223745.png" alt="login1resp.png" /></noscript></p>
<p style="text-align: left">这是第一个请求的响应，就像第一个请求一样，以下XML参数也引起了我的注意：</p>
<pre class="brush:html;toolbar:false">1.&nbsp;ConnectionId
2.&nbsp;PublicKey</pre>
<p style="text-align: left">响应中也包含其他一些有趣的信息，甚至有些信息可以被看作信息泄露，但为了我们本文所述的目的，我们将忽略这些敏感的信息。</p>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262446733257.png" title="1504262446733257.png" alt="login2req.png" /><noscript><img src="/uploads/20170901/1504262446733257.png" title="1504262446733257.png" alt="login2req.png" /></noscript></p>
<p style="text-align: left">上图的内容是实际包含我们可能加密的用户名和密码的请求。我唯一看到的XML参数是：</p>
<p style="text-align: left">l&nbsp;&nbsp; ConnectionId</p>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262457448602.png" title="1504262457448602.png" alt="login2resp.png" /><noscript><img src="/uploads/20170901/1504262457448602.png" title="1504262457448602.png" alt="login2resp.png" /></noscript></p>
<p style="text-align: left">响应中包含了一个&#039;&lt;Result&gt;&#039;XML标签，可以让我们知道登录是否成功。因为我只截取了整个数据的下面的一部分，所以你在上图中看不到。</p>
<p style="text-align: left">根据已经得知的信息，我们得出以下结论：</p>
<p style="text-align: left">1. &nbsp;客户端向服务器发送公钥</p>
<p style="text-align: left">2. &nbsp;服务器向客户端发送公钥</p>
<p style="text-align: left">3. &nbsp;魔术发生，凭证被加密</p>
<p style="text-align: left">1. &nbsp;显然加密模式使用了&#039;ISO10126&#039;进行填充</p>
<p style="text-align: left">上面提到的还有什么吗？当然有！ 不过这似乎是一本教科书Diffie Hellman密钥交换。填充模式表示加密最有可能是一个块密码，因为如果你去谷歌一下的话，你会发现<a href="https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO_10126">维基百科</a>的这篇文章。如果我们进行一些积极的探索，我们可以推断出更多的信息。如果我们输入一个&#039;a&#039;作为密码，然后对该值进行解码，则它将变为16个字节长。为了清楚起见，我添加了空格：</p>
<p style="text-align: left">输入：a</p>
<pre class="brush:html;toolbar:false">Base64：qlqsMXD7uS&nbsp;/&nbsp;Kl15iyIIlxA&nbsp;==</pre>
<p style="text-align: left">解码后的字节：aa 5a ac 31 70 fb b9 2f ca 97 5e 62 c8 82 25 c4</p>
<p style="text-align: left">如果我们输入少于16个&#039;a&#039;字符，它仍然是16个字节长度。</p>
<p style="text-align: left">输入：aaaa aaaa aaaa aaa</p>
<pre class="brush:html;toolbar:false">Base64：PIV8H1Rg3KuVi&nbsp;+&nbsp;GyhYsPsg&nbsp;==</pre>
<p style="text-align: left">解码后的字节：3c 85 7c 1f 54 60 dc ab 95 8b e1 b2 85 8b 0f b2</p>
<p style="text-align: left">但是，如果我们输入16个&#039;a&#039;或更多字符，则会变为32个字节长度。</p>
<p style="text-align: left">输入：aaaa aaaa aaaa aaaa a</p>
<pre class="brush:html;toolbar:false">Base64：G3vCXn54ZV6gHq9hxV&nbsp;+&nbsp;S0E1Fs619AccEnvq2WMRKPMQ&nbsp;=</pre>
<p style="text-align: left">解码字节：1b 7b c2 5e 7e 78 65 5e a0 1e af 61 c5 5f 92 d0 49 45 b3 ad 7d 01 c7 04 9e fa b6 58 c4 4a 3c c4</p>
<p style="text-align: left">这表明它最有可能是一个16位字节的块密码。所以当你将其转换为位（8 * 16）时，会产生128bit的块，即使我们没有进一步的证据来证明，但是这可能会让你想到AES加密算法。</p>
<p style="text-align: left">确切的块密码算法以及确认它确实是一个Diffie Hellman密钥交换的方式，我们将在我们尝试编写我们的爆破脚本时弄清楚。</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>编写我们的python脚本</strong></span></p>
<p style="text-align: left">现在我们至少有了一些我们必须需要实现的想法，让我们开始工作吧。在这种情况下，这不意味着单纯的进行编码开发，而是意味着我们需要进一步深入加密的内部工作原理，然后再做一些编码开发工作。</p>
<p style="text-align: left">由于所有的加密都在浏览器中发生，所以了解一下相关的javascript是一个很好的开始。当你查看/js/文件夹中的文件时，你可以很快看到&#039;main.js&#039;很可能包含了所有的逻辑，因为这个js文件很大。你要做的第一件事是格式化javascript代码，使用开发人员工具中的内置工具，或者使用自定义的插件，比如你最喜爱的编辑器，如Atom或Sublime。</p>
<p style="text-align: left">在格式化JS代码之后，有几种不同的策略来定位我们感兴趣的代码，我最喜欢的代码之一是搜索任何之前识别到的加密字符串，如“填充”，“ISO10126”或者搜索默认的加密字符串，如“encrypt &#039;，&#039;decrypt&#039;，&#039;aes&#039;，&#039;diffie hellman&#039;，&#039;random&#039;。所有这些搜索字词都会在我们正在查看的main.js文件中查找到密码。让我们看看我们该如何理解这一点，而不是需要去充分了解所有的代码。</p>
<p style="text-align: left"><strong><span style="font-size: 20px">兼容性检查</span></strong></p>
<p style="text-align: left">当我在处理跨编程语言的加密实现时，我学到的一件事是：要记住，实现可能不太一样，你应该为一些长的调试会话做好准备。为了避免这种情况，我总是试图找到一个易于实现，但是又非常重要的加密技术，并且仅实现该部分来验证加密是否兼容。虽然这不是百分之百需要做的测试工作，但它确实能给你一些洞察力。</p>
<p style="text-align: left">对于这种兼容性测试，我首先选择输入用户名和密码的加密，前提是假设它可能是用AES加密的并且易于实现。假定的逻辑如下：</p>
<pre class="brush:html;toolbar:false">1.调试javascript并查找AES操作
2.提取加密密钥
3.创建python解密代码</pre>
<p style="text-align: left">启动开发人员工具，并在以下位置打个断点：</p>
<pre class="brush:html;toolbar:false">1.&nbsp;loginSubmit：function（a）{
2.&nbsp;Connection.login（a）
3.&nbsp;aP.Username&nbsp;=&nbsp;at.dh.encodeString（aP.Username）;
4.&nbsp;aP.Password&nbsp;=&nbsp;at.dh.encodeString（aP.Password）</pre>
<p style="text-align: left">如果你想知道为什么在这些地方打断点，那么当你查看页面的HTML源码时，你会看到表单和提交按钮的“onsubmit”和“onclick”事件设置为了“loginSubmit”。如果你随后转到“main.js”文件并搜索该字符串，那么你就可以在同一个地方找到它。使用一些很好的老式阅读方式（从该行往下读）并应用一些试错的点，你可以遵循代码执行流程，并发现上述有趣的函数调用。在调试期间，我注意到，Chrome开发人员工具似乎比Firefox更好用，如：实际触发的断点。</p>
<p style="text-align: left">当你单步调试（有时需要选择into）这些函数时，你应该能够看到输入被加密的代码点。所以如果我们进入&#039;encodeString&#039;函数，我们就可以看到加密字符串的源代码：</p>
<pre class="brush:html;toolbar:false;">this.encodeString&nbsp;=&nbsp;function(r)&nbsp;{
var&nbsp;o&nbsp;=&nbsp;this.getSharedKey().substring(0,&nbsp;96);
var&nbsp;n&nbsp;=&nbsp;CryptoJS.enc.Hex.parse(o.substring(32,&nbsp;96));
var&nbsp;m&nbsp;=&nbsp;CryptoJS.enc.Hex.parse(o.substring(0,&nbsp;32));
var&nbsp;q&nbsp;=&nbsp;{
iv:&nbsp;m
};
if&nbsp;(Settings.DefaultEncryptionPadding&nbsp;&amp;&amp;&nbsp;CryptoJS.pad[Settings.DefaultEncryptionPadding])&nbsp;{
q.padding&nbsp;=&nbsp;CryptoJS.pad[Settings.DefaultEncryptionPadding]
}
return&nbsp;CryptoJS.AES.encrypt(r,&nbsp;n,&nbsp;q).ciphertext.toString(CryptoJS.enc.Base64)
}</pre>
<p style="text-align: left">如果你阅读了上面的代码，那么你可以得出以下结论：</p>
<pre class="brush:html;toolbar:false">1.&nbsp;o可能是diffie&nbsp;hellman密钥交换的结果
2.&nbsp;q＆m是IV
3.&nbsp;n是实际的加密密钥
4.&nbsp;r是要加密的字符串</pre>
<p style="text-align: left">所以这意味着如果我们从调试器中获取到加密值，并且使用&#039;o&#039;变量的值，我们应该就能够解密它。你可能会喜欢这样的操作，但是你缺少操作方法！是的，你是正确的，但我们的目标是不完全理解所有的代码，所以让我们直接来操作吧;）要运行下面的代码片段，你只需要执行“pip install pycrypto”和“pip install Padding”。</p>
<pre class="brush:html;toolbar:false;">#decrypt&nbsp;values&nbsp;if&nbsp;key&nbsp;is&nbsp;known
encdata&nbsp;=&nbsp;base64.urlsafe_b64decode(&#039;9OTg1OvudO7jOYOrnkttMA==&#039;)
aesrawkey&nbsp;=&nbsp;&#039;6b0df8a5406348aab2aa0883c3b3f4e55b45e00ad6959f7468e25e88c3eb166a3ee8934ceda08e4116b7afc05eae4d6c&#039;
aeskey&nbsp;=&nbsp;aesrawkey[32:96].decode(&#039;hex&#039;)
aesiv&nbsp;=&nbsp;aesrawkey[0:32].decode(&#039;hex&#039;)
cipher&nbsp;=&nbsp;AES.new(aeskey,&nbsp;AES.MODE_CBC,&nbsp;aesiv&nbsp;)
print&nbsp;removePadding(cipher.decrypt(encdata),16,&#039;Random&#039;)</pre>
<p style="text-align: left">如果你运行了上述代码，应该会打印出&#039;sdf&#039;，这是我输入到用户名字段中的用户名。现在从加密的结果来看，这意味着加密似乎是兼容的，不需要任何特殊的努力。</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>diffie hellman实现</strong></span></p>
<p style="text-align: left">我们所需要的核心是diffie hellman密钥交换（DHke）的实现。原因是实际的加密密钥是从这里派生的，所以没有它，我们注定要失败。在上一段中，我们已经发现了一个DHke函数：getSharedKey（），如果你进入了该函数，然后向上滚动到在所有的DHke代码的中间，即：</p>
<p style="text-align: left">创建私钥</p>
<pre class="brush:html;toolbar:false;">var&nbsp;g&nbsp;=&nbsp;randBigInt(160,&nbsp;0);</pre>
<p style="text-align: left">创建公钥</p>
<pre class="brush:html;toolbar:false;">this.createPublicKey&nbsp;=&nbsp;function()&nbsp;{
&nbsp;var&nbsp;n&nbsp;=&nbsp;b(e(bigInt2str(powMod(d,&nbsp;g,&nbsp;f),&nbsp;16)));
&nbsp;n.push(0);
&nbsp;var&nbsp;m&nbsp;=&nbsp;Base64.encodeArray(n);
&nbsp;return&nbsp;m
&nbsp;}</pre>
<p style="text-align: left">创建共享密钥</p>
<pre class="brush:html;toolbar:false;">this.getSharedKey&nbsp;=&nbsp;function()&nbsp;{
&nbsp;var&nbsp;m&nbsp;=&nbsp;b(e(bigInt2str(powMod(str2bigInt(l,&nbsp;16,&nbsp;1),&nbsp;g,&nbsp;f),&nbsp;16)));
&nbsp;return&nbsp;CryptoJS.enc.Base64.parse(Base64.encodeArray(m)).toString()
&nbsp;}</pre>
<p style="text-align: left">如果你了解Diffie Hellman算法，你可以将它的算法代码移植到python脚本中，在脚本中，你可以阅读完整的代码实现。以下是python中的三个函数：</p>
<pre class="brush:html;toolbar:false;">def&nbsp;genprivkey():
&nbsp;return&nbsp;getrandbits(160)
&nbsp;
def&nbsp;genpubkey(g,prkey,prime):
&nbsp;pubkey&nbsp;=&nbsp;pow(g,&nbsp;prkey,&nbsp;prime)
&nbsp;packedpubkey&nbsp;=&nbsp;pack_bigint(pubkey)
&nbsp;return&nbsp;base64.b64encode(bytes(packedpubkey))
&nbsp;
def&nbsp;gensharedkey(rpubkey,&nbsp;privkey,&nbsp;prime):
&nbsp;decrkey&nbsp;=&nbsp;base64.b64decode(rpubkey)
&nbsp;rkey&nbsp;=&nbsp;unpack_bigint(decrkey)
&nbsp;sharedkey&nbsp;=&nbsp;pow(rkey,privkey,prime)
&nbsp;return&nbsp;sharedkey</pre>
<p style="text-align: left">我遇到的最大的陷阱是你需要使用大数的方式，如果你想对它们进行编码，将它们拼接成不同的字节等等，你就必须使用big int。你必须打包/解包它们！以下是从stackoverflow复制来的代码段：</p>
<pre class="brush:html;toolbar:false;">def&nbsp;pack_bigint(i):
&nbsp;#https://stackoverflow.com/a/14764681
&nbsp;b&nbsp;=&nbsp;bytearray()
&nbsp;while&nbsp;i:
&nbsp;b.append(i&nbsp;&amp;&nbsp;0xFF)
&nbsp;i&nbsp;&gt;&gt;=&nbsp;8
&nbsp;return&nbsp;b
&nbsp;
def&nbsp;unpack_bigint(b):
&nbsp;#https://stackoverflow.com/a/14764681
&nbsp;b&nbsp;=&nbsp;bytearray(b)&nbsp;#&nbsp;in&nbsp;case&nbsp;you&#039;re&nbsp;passing&nbsp;in&nbsp;a&nbsp;bytes/str
&nbsp;return&nbsp;sum((1&nbsp;&lt;&lt;&nbsp;(bi*8))&nbsp;*&nbsp;bb&nbsp;for&nbsp;(bi,&nbsp;bb)&nbsp;in&nbsp;enumerate(b))</pre>
<p style="text-align: left">随着diffie hellman密钥交换核心代码的实现，脚本的其余部分就不言自明了。它创建了XML请求，进行必要的解析以读取/写入值并发送/接收请求。脚本有点暴力&#8230;但是为了演示这个过程，请忽略吧。:)</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>Greasemonkey：最后的手段</strong></span></p>
<p style="text-align: left">如果你之前的分析失败了或是一些奇怪的加密互操作导致错误发生了，那么在这种情况下，有一个普遍使用的可选方式，并不要求我们完全了解到底发生了什么。当然，它也有一些缺点，如执行速度比较慢。</p>
<p style="text-align: left">我选择的通用解决方案是创建一个Greasemonkey脚本，因为这样可以控制窗体，就像你输入凭据一样，手动提交它们。Greasemonkey脚本最重要的限制是，据我所知，你不能（轻松地）读取本地文件以用作你的暴力尝试的输入。这将导致脚本中需要嵌入用于爆破尝试的用户名和密码。这个脚本可以很容易地适应于其他爆破登录表单。</p>
<p style="text-align:center"><img src="http://img.4hou.com/wp-content/themes/4houv2/img/lazy.gif" data-original="/uploads/20170901/1504262526467372.png" title="1504262526467372.png" alt="gm_brute.png" /><noscript><img src="/uploads/20170901/1504262526467372.png" title="1504262526467372.png" alt="gm_brute.png" /></noscript></p>
<p style="text-align: left">上面的屏幕截图显示了Greasemonkey脚本的执行结果，你可以在其中看到添加的按钮来启动爆破，以及在开发人员工具控制台中滚动显示当前的尝试。我们需要为脚本实现的逻辑非常简单：</p>
<pre class="brush:html;toolbar:false">1.&nbsp;在网站上显示一个按钮，点击后开始爆破
2.循环使用用户名和密码组合
3.&nbsp;尝试登录
4.&nbsp;检测登录尝试是否成功</pre>
<p style="text-align: left">上述逻辑的实现并不困难，只需要了解一些浏览器和JavaScript的知识（事件驱动的编程）。幸运的是我们可以在stackoverflow中搜索代码，我们不需要将它变成世界上最华丽的脚本（从而可以忽略事件驱动方法的一部分）。我将从脚本中解释一些有趣的亮点：</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>尝试登录，休眠，再次尝试</strong></span></p>
<p style="text-align: left">这是我创建的比较挫的代码的一部分，因为我并没有想到JavaScript没有sleep函数。阅读完代码之后，我尝试使用sleep的替代方法，因为它会挂起你的浏览器。所以我最后将整块代码包裹在一个函数并且每隔5秒使用&nbsp; setInterval函数调用这个函数。这当然意味着我必须保持某种形式的状态，因此我设置的全局变量都变得疯狂（更确切地说，我用while循环和全局变量替换了循环，这样我可以在每次尝试后退出while循环，但是恢复循环后，函数会再次被调用。</p>
<p style="text-align: left">我对实际提交的表单进行了一些搜索和阅读，因为我在大多数示例中遇到的默认方法并不起作用。通常你可以收集表单元素或提交按钮元素，并调用click（）或submit（）函数。我没有完全弄清楚为什么没有起作用，但是对于这种具体的形式，它并没有奏效。以下代码是起作用的，应该也是普遍的做法：</p>
<pre class="brush:html;toolbar:false;">//https://stackoverflow.com/a/6337307
var&nbsp;evt&nbsp;=&nbsp;document.createEvent&nbsp;(&quot;HTMLEvents&quot;);
evt.initEvent&nbsp;(&quot;click&quot;,&nbsp;true,&nbsp;true);
document.getElementById(&#039;loginWindow_submit&#039;).dispatchEvent(evt);</pre>
<p style="text-align: left">检测登录是否成功</p>
<pre class="brush:html;toolbar:false;">//https://stackoverflow.com/a/2497223
var&nbsp;oldTitle&nbsp;=&nbsp;document.title;
window.setInterval(function()
{
&nbsp;if&nbsp;(document.title&nbsp;!==&nbsp;oldTitle)
&nbsp;{
&nbsp;console.log(&quot;[!!!!!!!!]&nbsp;YAY!&nbsp;&quot;+currUsr+&quot;&nbsp;&quot;+currPwd);
&nbsp;if&nbsp;(currUsr&nbsp;!=&nbsp;&quot;&quot;){
&nbsp;foundcreds&nbsp;=&nbsp;1;
&nbsp;}
&nbsp;}
&nbsp;oldTitle&nbsp;=&nbsp;document.title;
},&nbsp;100);&nbsp;//check&nbsp;every&nbsp;100ms</pre>
<p style="text-align: left">上述代码使用setInterval函数来检查每100毫秒页面标题的更改。你也可以通过订阅事件来解决这个问题，但这似乎更容易理解并且更通用一些，因为大多数网站在成功登录时都会更改标题。</p>
<p style="text-align: left">脚本的其余部分比较简单，尽管我还没有测试，但应该是可重用的。这些类型的脚本的开发并不需要很长时间，在我看来，当密码加密操作变得很复杂或者是自定义加密算法或者你没有足够的时间来处理它们时，这是一个很好的可选方案。</p>
<p style="text-align: left"><span style="font-size: 20px"><strong>结论</strong></span></p>
<p style="text-align: left">感谢你能花时间来阅读这篇博文！我希望你学习了一种额外的爆破某种特别的数据加密登录表单的方法。像往常一样，工具的实现比工具本身更加有趣:)</p>
                <div class="foot_description" style="background-color: #fff;">
                    本文翻译自：https://diablohorn.com/2017/08/15/brute-forcing-encrypted-web-login-forms/
，如若转载，请注明来源于嘶吼：                        <a href="http://www.4hou.com/technology/7526.html" target=_blank>http://www.4hou.com/technology/7526.html</a>
                                    </div>


                 </p>
            </div>
            <div class="article_con">
                <!--文章内容-->
            </div>
            <div class="post-like">
                <a href="javascript:;" data-action="ding" target=_blank data-id="7526" class="favorite">
                <div class="zanbox">
                    <dd class="zanbefor"></dd>
                    <dd class="zanafter"></dd>
                </div>
                <span class="zantext">点赞</span>
                <span class="count">
            2</span>
                </a>
            </div>
            <div class="active_bottom">
                <ul>
                    <a class="Sina" href="http://service.weibo.com/share/share.php?url=http://www.4hou.com/technology/7526.html" title="分享到新浪微博" target="_blank"><li class="sinahover"></li></a>
                    <a onclick="window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+encodeURIComponent(document.location.href));return false;" title="分享到QQ空间" class="WeChat" href="javascript:void(0)" target="_blank"><li class="kj"></li></a>
                    <a onclick="dashangToggle()" class="friend" title="分享到微信、朋友圈等" target="_blank"><li class="wx"></li></a>

                </ul>
                <div class="strat icons"><span class='wpfp-span'><img src='http://img.4hou.com/wp-content/plugins/wp-favorite-posts/img/star.png' alt='Favorite' title='Favorite' class='wpfp-img' /><a class='wpfp-link' href='?wpfpaction=add&amp;postid=7526' title='收藏' rel='nofollow'>收藏</a></span></div>
                <div class="hide_box"></div>
                <div class="shang_box">
                    <a class="shang_close" href="javascript:void(0)" onClick="dashangToggle()" title="关闭"><img src="http://img.4hou.com/wp-content/themes/4houv2/images/close.jpg" alt="取消" /></a>
                    <img class="shang_logo" width="120px" src="http://img.4hou.com/wp-content/themes/4houv2/images/logo.png" alt="嘶吼" />
                    <div class="shang_tit">
                        <p>感谢您的支持，我会继续努力的!</p>
                    </div>
                    <div class="shang_payimg">
                        <img src="http://www.4hou.com/wp-content/themes/4houv2/qrcode.php?url=http%3A%2F%2Fwww.4hou.com%2Ftechnology%2F7526.html" alt="扫码支持" title="扫一扫" />
                    </div>

                    <div class="shang_info">
                        <p>打开<span id="shang_pay_txt">微信</span>扫一扫后点击右上角即可分享哟</p>
                    </div>
                </div>
            </div>
            
            <div class="avatarbottomwrap">
                 <div class="avatarboxleft">
                        <div class="avatarbottom">
                           
                            <a class="upload-img"><img alt='丝绸之路' src='http://img.4hou.com/wp-content/uploads/2017/06/7d0f41b6202b24cb61e4-96x96.jpg' class='avatar avatar-96 photo' height='96' width='96' /></a>
                        </div>
                        <h1 class="authornamebottom"><a href="http://www.4hou.com/member?Author=丝绸之路" class="upload-img" target=_blank>
                                丝绸之路                                                            <i class="mem_level"></i>
                             </a></h1>
                        <p class="authorzybottom">嘶吼认证-特约作者/译者</p>

                        <div class="authorbottombox">
                            <!--<div class="gzbtn">关注</div>
                            <div class="sxbtn">私信</div>-->
                                                            <span class="gzbtn"  style="cursor: pointer;" onclick="location.href='/mybox?action=reply&to_user=丝绸之路&type=send'">发私信</span>
                                                    </div>
                 </div>
                <div class="authorother">
                 <a class="morearticle" href="http://www.4hou.com/member?Author=丝绸之路" class="upload-img" target=_blank>
                            <span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span>
                            <span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span>
                            <span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span>
                             </a>
                    <div class="swiper-container">

                                                    <div class="swiper-wrapper">
                               
                                <div class="swiper-slide">
                                                                        <div><a href="http://www.4hou.com/technology/5704.html" target=_blank>
                                            <img data-original="http://img.4hou.com/wp-content/uploads/2017/06/54ba00b0ff1d9cd52443.jpeg?imageView2/1/w/140/h/104/format/png"  class="wp-post-image"width="140" height="104"  />                                        </a></div>
                                                                        <div><a href="http://www.4hou.com/web/7542.html" target=_blank>
                                            <img data-original="http://img.4hou.com/wp-content/uploads/2017/09/907d9fd912c1a9671b6e.jpg?imageView2/1/w/140/h/104/format/png"  class="wp-post-image"width="140" height="104"  />                                        </a></div>
                                                                        <div><a href="http://www.4hou.com/technology/5642.html" target=_blank>
                                            <img data-original="http://img.4hou.com/wp-content/uploads/2017/09/698eaee5df4f95f461ab.png?imageView2/1/w/140/h/104/format/png"  class="wp-post-image"width="140" height="104"  />                                        </a></div>
                                                                        <div><a href="http://www.4hou.com/technology/7526.html" target=_blank>
                                            <img data-original="http://img.4hou.com/wp-content/uploads/2017/09/9600819e3002c6d718c9.png?imageView2/1/w/140/h/104/format/png"  class="wp-post-image"width="140" height="104"  />                                        </a></div>
                                                                    </div>
                            </div>
                                        </div>
                </div>
                <script type="text/javascript">
                    function dashangToggle(){
                        $(".hide_box").fadeToggle();
                        $(".shang_box").fadeToggle();
                    }
                </script>
                <script> 
                    var mySwiper = new Swiper('.swiper-container', {
                        direction : 'vertical',
                        pagination : '.swiper-pagination',
                        paginationClickable :true,
                        spaceBetween : 20
                    })
                </script>
            </div>
                            <div class="review" style="margin-bottom:80px;">
    <h3 id="reply-title" class="comment-reply-title">发表评论 <small></h3>
    <form action="http://www.4hou.com/wp-comments-post.php" method="post" id="commentform">
        <p class="commentname"><label for="author">昵称</label>
            <input type="text" name="author" id="author" value="" size="14" tabindex="1" aria-required='true' placeholder = "请输入昵称" required />
        </p>
        <p class="commenteml">
            <label for="email">邮箱</label>
            <input type="text" name="email" id="email" value="" size="25" tabindex="2" aria-required='true' placeholder = "请输入邮箱地址" required />
        </p>
        <p class="comment-form-comment">
           <label for="comment">评论</label>
           <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea>
        </p>

        <p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="发表评论" />
        <input type='hidden' name='comment_post_ID' value="7526" id='comment_post_ID' />
            <input type='hidden' name='comment_parent' id='comment_parent' value='0' />
        </p>
    </form>
					
<div class="new-review">
   <ol class="commentlist">
      </ol>
   <div class="hr clearfix">&nbsp;</div>
</div>
</div>             
        </article>

        <!--作者其他文章-->
        <aside class="article_authorbox">
          <div class="article_authorbox_top">
                <div class="article_author">
            <div class="article_author_avatar">
                 <a class="upload-img"><img alt='丝绸之路' src='http://img.4hou.com/wp-content/uploads/2017/06/7d0f41b6202b24cb61e4-96x96.jpg' class='avatar avatar-96 photo' height='96' width='96' /></a>
            </div>
            <h1 class="article_author_name"><a href="http://www.4hou.com/member?Author=丝绸之路" class="upload-img" target=_blank>
                    丝绸之路                                    <i class="mem_level"></i>
                </a></h1>
            <p class="article_author_type">嘶吼认证-特约作者/译者 </p>
            <div class="article_author_bottom">
                                        <span class="send-info" onclick="location.href='/mybox?action=reply&to_user=丝绸之路&type=send'">发私信</span>
                         
            </div>
          </div>  
            <div class="interested">
                <h1>可能喜欢</h1>
                                                    <li>
                    <i></i>
                    <a href="http://www.4hou.com/technology/7667.html" target="_blank">小心找工作时被挖坑，有人利用 LinkedIn 发送钓鱼链接</a> 
                </li> 
                                <li>
                    <i></i>
                    <a href="http://www.4hou.com/technology/7653.html" target="_blank">一次服务器被攻击的应急行动</a> 
                </li> 
                                <li>
                    <i></i>
                    <a href="http://www.4hou.com/info/news/7646.html" target="_blank">一个Tor浏览器0day漏洞价值100万美元，其中的隐情是……</a> 
                </li> 
                                <li>
                    <i></i>
                    <a href="http://www.4hou.com/info/news/7660.html" target="_blank">Elasticsearche僵尸网络：超过4000台服务器遭到两款POS 恶意软件感染</a> 
                </li> 
                                <li>
                    <i></i>
                    <a href="http://www.4hou.com/technology/7669.html" target="_blank">渗透挑战赛：从SQL注入到管理员权限</a> 
                </li> 
                                                </div>
       </div>

          
        </aside>
    </section>
    <div id="zooming">
        <img src="" id="imgcon">
    </div>
    <script>
        $(document).ready(function() {
            $.fn.postLike = function() {
                if ($(this).hasClass('done')) {
                    return false;
                } else {
                    $(this).addClass('done');
                    var id = $(this).data("id"),
                        action = $(this).data('action'),
                        rateHolder = $(this).children('.count');
                    var ajax_data = {
                        action: "bigfa_like",
                        um_id: id,
                        um_action: action
                    };
                    $.post("/wp-admin/admin-ajax.php", ajax_data,
                        function(data) {
                            $(rateHolder).html(data);
                        });
                    return false;
                }
            };
            $(document).on("click", ".favorite",
                function() {
                    $(this).postLike();
                });


            $("img").attr("title","");
            var altcon=$(".art_title").text();
            $("img").attr("alt",altcon);
            // 图片放大
            $(".article_cen").find('img').on("click",function(){
                var imgsrc=$(this).attr("src");
                var winthimg=$(this).width();
                var zooming=winthimg*1.2;
                $("#imgcon").css({width:zooming});
                $("#imgcon").css({marginLeft:-zooming/2});
                $("#imgcon").attr("src",imgsrc);
                $("#zooming").addClass("zoomaniatae");
                $("#imgcon").addClass("imgconadimate");
            });
            $("#zooming").on("click",function(){
                $("#imgcon").removeClass("imgconadimate");
                $("#zooming").removeClass("zoomaniatae");

            });

            $(window).scroll(function(){
                var scrtop=$(window).scrollTop();
                if(scrtop>450){
                    $(".article_authorbox_top").removeClass("asideanimateleave").addClass('asideanimate')
                    // $(".interested").hide()
                }
                else if(scrtop<450&&scrtop>350){
                     $(".article_authorbox_top").addClass("asideanimateleave").removeClass('asideanimate')
                     $(".interested").show()

                }
            });
            var start=$(".strat .wpfp-span .wpfp-link").text()
            if(start=="已收藏"){
                $(".strat").addClass("stratend")
            }else{
                $(".strat").removeClass("stratend")
            }

            $(".avatar-96").width(72);
            $(".avatar-96").height(72);
            $(".avatar-120").width(50);
            $(".avatar-120").height(50);

        });
    </script>
<style type="text/css">
.footer{height:auto; background-color: #282828}
.footer_about{width: 1200px;height: 50px;padding-top: 26px; margin: 0 auto;border-bottom-color: transparent !important; position: relative;}
.footer_about>a{font-size: 16px;height: 16px !important;line-height: 16px !important; float: left; padding-right: 18px; border-right:1px solid #ccc;}
.last-child-a{border:none !important}
.footer_bottom_cen p{ margin-top: 5px; margin-right: 25px;text-align: left; margin-bottom: 6px;float: left;}
.footer_bottom_cen>div{width: 450px;float: left;margin-right: 8px}
.footer_bottom{height: 74px}
.footerlogos{width: 130px; height: 24px; position: absolute;right: 10%; top:24px;}
.footerlogos dd{float: left; margin-right: 20px;cursor: pointer;}
.footerlogos dd a{display: block;width: 100%; height: 100%}
.wechartlogo{width: 20px; height: 20px; background-position:-227px 0px;}
.weibologo{width: 20px; height: 20px; background-position:-269px 0px;}
.zhihulogo{width: 20px; height: 20px; background-position:-361px 0px;}
.wechartlogo i{width: 80px;height: 78px;background-size: contain !important; right: 137px;display: none;opacity: 1;background: url(http://www.4hou.com/wp-content/themes/4houv2/img/wechatqr.png) no-repeat;position: absolute;top: -28px;}
.wechartlogo:hover i{display: block;}
.footer_bottom{width: 1200px; background-color: #282828; margin:0 auto } 
.footer_bottom_cen>div img{float: left; margin-right: 4px;margin-top: 4px; margin-left: 4px;width: 66px;}
.footer_bottom_cen{width: 100%}
.cloudserver{float: right !important; margin: 0 auto !important;width: 385px !important; margin-top: -31px}
.cloudserver img{float: left;}
.cloudserver dd{float: left;}
@media screen and (max-width:1260px) {
    .footer{width: 100%; padding: 0px 20px;}
    .footer_about{width: 100%}
    .footer_bottom{width: 100%}
    .footer_bottom div{width: 100%;display: none;}
}
@media screen and (max-width:660px) {
    .footer_about{padding-top: 14px; margin-bottom: 22px;}
    .footerlogos{display: none;}
    .footer_bottom{height: 44px;}

}
</style>
<footer class="footer">
    <div class="footer_about">
        <a href="/about" target=_blank>关于我们</a>
        <!--<a href="">加入我们</a>-->
        <a href="/submit" target=_blank>我要投稿</a>
        <a href="/service" target=_blank>广告及服务</a>
        <a href="/partner" target=_blank class="last-child-a">友情链接</a>
        <div class="footerlogos">
                <dd class="wechartlogo icons">
                  <i></i>
                </dd>
                <dd class="weibologo icons">
                 <a href="http://weibo.com/u/6069423878" target=_blank></a>
                </dd>
                <dd class="zhihulogo icons">
                    <a href="https://zhuanlan.zhihu.com/roartalk" target=_blank></a>
                    
                </dd>
        </div>
    </div>

    <section class="footer_bottom">
        <article class="footer_bottom_cen">
            <p>©2017 北京嘶吼文化传媒有限公司&nbsp;&nbsp;&nbsp;京ICP备16063439号</p>
            <p class="mobilefooter">©2017 北京嘶吼文化传媒有限公司&nbsp;&nbsp;|&nbsp;&nbsp;京ICP备16063439号</p>
            <div class="cloudserver">
                <span>本站由</span>
                <img src="http://img.4hou.com/wp-content/themes/4houv2/img/bdcloud.png">
                <img src="http://img.4hou.com/wp-content/themes/4houv2/img/bdcloud1.png">
                <img src="http://img.4hou.com/wp-content/themes/4houv2/img/ucloud.png">
                <span>提供云计算服务</span>
            </div>
        </article>
    </section>
    <section class="footer_top" style="display:none">
        <article class="footer_top_cen">
            <div class="homeqrcode">
                <dd class="icons"></dd>
                <div class="wb">
                    <a href="http://weibo.com/u/6069423878" target=_blank>
                    <i class="icons"></i>
                    <p>关注嘶吼传媒</p>
                    </a>
                </div>

                <div class="sh">
                    <a href="https://zhuanlan.zhihu.com/roartalk" target=_blank>
                    <i class="icons"></i>
                    <p>关注嘶吼</p>
                    </a>
                </div>
            </div>
            
            <h1>合作伙伴</h1>
            <div class="footer_friend">
                <a href="http://www.xinhuanet.com/talking/chinasafety/" target=_blank>新华网安全中国</a>
                <a href="http://jaq.alibaba.com/" target=_blank>阿里聚安全</a>
                <a href="http://www.seclover.com/" target=_blank>四叶草安全</a>
                <a href="https://sec.vip.com/" target=_blank>唯品会安全应急响应中心</a>
                <a href="https://www.duoyinsu.com/" target=_blank>安识科技</a>
                <a href="http://xianzhi.aliyun.com" target=_blank>云盾先知</a>
                <a href="http://www.ardsec.com/" target=_blank>兴华永恒</a>
                <a href="https://www.sobug.com/" target=_blank>SOBUG</a>
            </div>
        </article>
    </section>
    
</footer>
<aside class="side" >
    <div class="side_top icons "></div>
    <div class="iconbox">
        <div class="side_wechart icons iconhover">微信
            <dd></dd>
        </div>
        <a href="http://weibo.com/u/6069423878" target=_blank><div class="side_webo icons iconhover">微博</div></a>
        <a href="http://www.4hou.com/feed/" target=_blank><div class="side_rss icons iconhover">RSS</div></a>
        <a href="https://zhuanlan.zhihu.com/roartalk" target=_blank><div class="side_zh icons iconhover">知乎</div></a>
    </div>
    <div class="side_bottom icons"></div>
    
</aside>

<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?ac201c14c3d2a4747423252be421e1bc";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-91554508-1', 'auto');
    ga('send', 'pageview');

</script>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
</body>
</html>